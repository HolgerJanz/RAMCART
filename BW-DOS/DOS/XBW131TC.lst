mads 2.0.9
Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM
     1 				;
     2 				; System equates
     3 				;
     4 				; OS EQUATES
     5 				; ----------
     6 				; 
     7 				; Syntax:
     8 				; Use '=' for addresses
     9 				; and '<' for read addresses (ex: KBCODE)
    10 				; and '>' for write addresses (ex: STIMER)
    11 				; and '#' for values
    12 				; 
    13 				; IO EQUATES
    14 				; 
    15 = 0000			ICHID       = $0000
    16 = 0001			ICDNO       = $0001
    17 = 0002			ICCOM       = $0002
    18 = 0003			ICSTA       = $0003
    19 = 0004			ICBAL       = $0004
    20 = 0005			ICBAH       = $0005
    21 = 0006			ICPTL       = $0006
    22 = 0007			ICPTH       = $0007
    23 = 0008			ICBLL       = $0008
    24 = 0009			ICBLH       = $0009
    25 = 000A			ICAX1       = $000A
    26 = 000B			ICAX2       = $000B
    27 = 000C			ICAX3       = $000C
    28 = 000D			ICAX4       = $000D
    29 = 000E			ICAX5       = $000E
    30 = 000F			ICAX6       = $000F
    31 				; 
    32 				; DISPLAY LIST EQUATES
    33 				; 
    34 = 0080			ADLI        = $0080
    35 = 0040			AVB         = $0040
    36 = 0040			ALMS        = $0040
    37 = 0020			AVSCR       = $0020
    38 = 0010			AHSCR       = $0010
    39 = 0001			AJMP        = $0001
    40 = 0000			AEMPTY1     = $0000
    41 = 0010			AEMPTY2     = $0010
    42 = 0020			AEMPTY3     = $0020
    43 = 0030			AEMPTY4     = $0030
    44 = 0040			AEMPTY5     = $0040
    45 = 0050			AEMPTY6     = $0050
    46 = 0060			AEMPTY7     = $0060
    47 = 0070			AEMPTY8     = $0070
    48 				; 
    49 				; OS VARIABLES FOR XL/XE
    50 				; 
    51 				; PAGE 0
    52 				; 
    53 = 0001			NGFLAG      = $0001
    54 = 0002			CASINI      = $0002
    55 = 0004			RAMLO       = $0004
    56 = 0006			TRAMSZ      = $0006
    57 = 0007			CMCMD       = $0007
    58 = 0008			WARMST      = $0008
    59 = 0009			BOOT        = $0009
    60 = 000A			DOSVEC      = $000A
    61 = 000C			DOSINI      = $000C
    62 = 000E			APPMHI      = $000E
    63 = 0010			POKMSK      = $0010
    64 = 0011			BRKKEY      = $0011
    65 = 0012			RTCLOK      = $0012
    66 = 0015			BUFADR      = $0015
    67 = 0017			ICCOMT      = $0017
    68 = 0018			DSKFMS      = $0018
    69 = 001A			DSKUTL      = $001A
    70 = 001C			ABUFPT      = $001C
    71 = 0020			ICHIDZ      = $0020
    72 = 0021			ICDNOZ      = $0021
    73 = 0022			ICCOMZ      = $0022
    74 = 0023			ICSTAZ      = $0023
    75 = 0024			ICBALZ      = $0024
    76 = 0025			ICBAHZ      = $0025
    77 = 0026			ICPTLZ      = $0026
    78 = 0027			ICPTHZ      = $0027
    79 = 0028			ICBLLZ      = $0028
    80 = 0029			ICBLHZ      = $0029
    81 = 002A			ICAX1Z      = $002A
    82 = 002B			ICAX2Z      = $002B
    83 = 002C			ICAX3Z      = $002C
    84 = 002D			ICAX4Z      = $002D
    85 = 002E			ICAX5Z      = $002E
    86 = 002F			ICAX6Z      = $002F
    87 = 0030			STATUS      = $0030
    88 = 0031			CHKSUM      = $0031
    89 = 0032			BUFRLO      = $0032
    90 = 0033			BUFRHI      = $0033
    91 = 0034			BFENLO      = $0034
    92 = 0035			BFENHI      = $0035
    93 = 0036			LTEMP       = $0036
    94 = 0038			BUFRFL      = $0038
    95 = 0039			RECVDN      = $0039
    96 = 003A			XMTDON      = $003A
    97 = 003B			CHKSNT      = $003B
    98 = 003C			NOCKSM      = $003C
    99 = 003D			BPTR        = $003D
   100 = 003E			FTYPE       = $003E
   101 = 003F			FEOF        = $003F
   102 = 0040			FREQ        = $0040
   103 = 0041			SOUNDR      = $0041
   104 = 0042			CRITIC      = $0042
   105 = 0043			FMSZPG      = $0043
   106 = 004A			ZCHAIN      = $004A
   107 = 004C			DSTAT       = $004C
   108 = 004D			ATRACT      = $004D
   109 = 004E			DRKMSK      = $004E
   110 = 004F			COLRSH      = $004F
   111 = 0050			TEMP        = $0050
   112 = 0051			HOLD1       = $0051
   113 = 0052			LMARGN      = $0052
   114 = 0053			RMARGN      = $0053
   115 = 0054			ROWCRS      = $0054
   116 = 0055			COLCRS      = $0055
   117 = 0057			DINDEX      = $0057
   118 = 0058			SAVMSC      = $0058
   119 = 005A			OLDROW      = $005A
   120 = 005B			OLDCOL      = $005B
   121 = 005D			OLDCHR      = $005D
   122 = 005E			OLDADR      = $005E
   123 = 0060			FKDEF       = $0060
   124 = 0062			PALNTS      = $0062
   125 = 0063			LOGCOL      = $0063
   126 = 0064			ADRESS      = $0064
   127 = 0066			MLTTMP      = $0066
   128 = 0068			SAVADR      = $0068
   129 = 006A			RAMTOP      = $006A
   130 = 006B			BUFCNT      = $006B
   131 = 006C			BUFSTR      = $006C
   132 = 006E			BITMSK      = $006E
   133 = 006F			SHFAMT      = $006F
   134 = 0070			ROWAC       = $0070
   135 = 0072			COLAC       = $0072
   136 = 0074			ENDPT       = $0074
   137 = 0076			DELTAR      = $0076
   138 = 0077			DELTAC      = $0077
   139 = 0079			KEYDEF      = $0079
   140 = 007B			SWPFLG      = $007B
   141 = 007C			HOLDCH      = $007C
   142 = 007D			INSDAT      = $007D
   143 = 007E			COUNTR      = $007E
   144 = 0080			LOMEM       = $0080
   145 				; 
   146 				; PAGE 2
   147 				; 
   148 = 0200			VDSLST      = $0200
   149 = 0202			VPRCED      = $0202
   150 = 0204			VINTER      = $0204
   151 = 0206			VBREAK      = $0206
   152 = 0208			VKEYBD      = $0208
   153 = 020A			VSERIN      = $020A
   154 = 020C			VSEROR      = $020C
   155 = 020E			VSEROC      = $020E
   156 = 0210			VTIMR1      = $0210
   157 = 0212			VTIMR2      = $0212
   158 = 0214			VTIMR4      = $0214
   159 = 0216			VIMIRQ      = $0216
   160 = 0218			CDTMV1      = $0218
   161 = 021A			CDTMV2      = $021A
   162 = 021C			CDTMV3      = $021C
   163 = 021E			CDTMV4      = $021E
   164 = 0220			CDTMV5      = $0220
   165 = 0222			VVBLKI      = $0222
   166 = 0224			VVBLKD      = $0224
   167 = 0226			CDTMA1      = $0226
   168 = 0228			CDTMA2      = $0228
   169 = 022A			CDTMF3      = $022A
   170 = 022B			SRTIMR      = $022B
   171 = 022C			CDTMF4      = $022C
   172 = 022D			INTEMP      = $022D
   173 = 022E			CDTMF5      = $022E
   174 = 022F			SDMCTL      = $022F
   175 = 0230			SDLSTL      = $0230
   176 = 0231			SDLSTH      = $0231
   177 = 0232			SSKCTL      = $0232
   178 = 0233			SPARE       = $0233
   179 = 0234			LPENH       = $0234
   180 = 0235			LPENV       = $0235
   181 = 0236			BRKKY       = $0236
   182 = 0238			VPIRQ       = $0238
   183 = 023A			CDEVIC      = $023A
   184 = 023B			CCOMND      = $023B
   185 = 023C			CAUX1       = $023C
   186 = 023D			CAUX2       = $023D
   187 = 023E			TMPSIO      = $023E
   188 = 023F			ERRFLG      = $023F
   189 = 0240			DFLAGS      = $0240
   190 = 0241			DBSECT      = $0241
   191 = 0242			BOOTAD      = $0242
   192 = 0244			COLDST      = $0244
   193 = 0245			RECLEN      = $0245
   194 = 0246			DSKTIM      = $0246
   195 = 0247			PDVMSK      = $0247
   196 = 0248			SHPDVS      = $0248
   197 = 0249			PDMSK       = $0249
   198 = 024A			RELADR      = $024A
   199 = 024C			PPTMPA      = $024C
   200 = 024D			PPTMPX      = $024D
   201 = 026B			CHSALT      = $026B
   202 = 026C			VSFLAG      = $026C
   203 = 026D			KEYDIS      = $026D
   204 = 026E			FINE        = $026E
   205 = 026F			GPRIOR      = $026F
   206 = 0270			PADDL0      = $0270
   207 = 0271			PADDL1      = $0271
   208 = 0272			PADDL2      = $0272
   209 = 0273			PADDL3      = $0273
   210 = 0274			PADDL4      = $0274
   211 = 0275			PADDL5      = $0275
   212 = 0276			PADDL6      = $0276
   213 = 0277			PADDL7      = $0277
   214 = 0278			STICK0      = $0278
   215 = 0279			STICK1      = $0279
   216 = 027A			STICK2      = $027A
   217 = 027B			STICK3      = $027B
   218 = 027C			PTRIG0      = $027C
   219 = 027D			PTRIG1      = $027D
   220 = 027E			PTRIG2      = $027E
   221 = 027F			PTRIG3      = $027F
   222 = 0280			PTRIG4      = $0280
   223 = 0281			PTRIG5      = $0281
   224 = 0282			PTRIG6      = $0282
   225 = 0283			PTRIG7      = $0283
   226 = 0284			STRIG0      = $0284
   227 = 0285			STRIG1      = $0285
   228 = 0286			STRIG2      = $0286
   229 = 0287			STRIG3      = $0287
   230 = 0288			HIBYTE      = $0288
   231 = 0289			WMODE       = $0289
   232 = 028A			BLIM        = $028A
   233 = 028B			IMASK       = $028B
   234 = 028C			JVECK       = $028C
   235 = 028E			NEWADR      = $028E
   236 = 0290			TXTROW      = $0290
   237 = 0291			TXTCOL      = $0291
   238 = 0293			TINDEX      = $0293
   239 = 0294			TXTMSC      = $0294
   240 = 0296			TXTOLD      = $0296
   241 = 029C			CRETRY      = $029C
   242 = 029D			HOLD3       = $029D
   243 = 029E			SUBTMP      = $029E
   244 = 029F			HOLD2       = $029F
   245 = 02A0			DMASK       = $02A0
   246 = 02A1			TMPLBT      = $02A1
   247 = 02A2			ESCFLG      = $02A2
   248 = 02A3			TABMAP      = $02A3
   249 = 02B2			LOGMAP      = $02B2
   250 = 02B6			INVFLG      = $02B6
   251 = 02B7			FILFLG      = $02B7
   252 = 02B8			TMPROW      = $02B8
   253 = 02B9			TMPCOL      = $02B9
   254 = 02BB			SCRFLG      = $02BB
   255 = 02BC			HOLD4       = $02BC
   256 = 02BD			DRETRY      = $02BD
   257 = 02BE			SHFLOC      = $02BE
   258 = 02BF			BOTSCR      = $02BF
   259 = 02C0			PCOLR0      = $02C0
   260 = 02C1			PCOLR1      = $02C1
   261 = 02C2			PCOLR2      = $02C2
   262 = 02C3			PCOLR3      = $02C3
   263 = 02C4			COLOR0      = $02C4
   264 = 02C5			COLOR1      = $02C5
   265 = 02C6			COLOR2      = $02C6
   266 = 02C7			COLOR3      = $02C7
   267 = 02C8			COLOR4      = $02C8
   268 = 02C9			RUNADR      = $02C9
   269 = 02CB			HIUSED      = $02CB
   270 = 02CD			ZHIUSE      = $02CD
   271 = 02CF			GBYTEA      = $02CF
   272 = 02D1			LOADAD      = $02D1
   273 = 02D3			ZLOADA      = $02D3
   274 = 02D5			DSCTLN      = $02D5
   275 = 02D7			ACMISR      = $02D7
   276 = 02D9			KRPDER      = $02D9
   277 = 02DA			KEYREP      = $02DA
   278 = 02DB			NOCLIK      = $02DB
   279 = 02DC			HELPFG      = $02DC
   280 = 02DD			DMASAV      = $02DD
   281 = 02DE			PBPNT       = $02DE
   282 = 02DF			PBUFSZ      = $02DF
   283 = 02E0			RUNAD       = $02E0
   284 = 02E2			INITAD      = $02E2
   285 = 02E4			RAMSIZ      = $02E4
   286 = 02E5			MEMTOP      = $02E5
   287 = 02E7			MEMLO       = $02E7
   288 = 02E9			HNDLOD      = $02E9
   289 = 02EA			DVSTAT      = $02EA
   290 = 02EE			CBAUDL      = $02EE
   291 = 02EF			CBAUDH      = $02EF
   292 = 02F0			CRSINH      = $02F0
   293 = 02F1			KEYDEL      = $02F1
   294 = 02F2			CH1         = $02F2
   295 = 02F3			CHACT       = $02F3
   296 = 02F4			CHBAS       = $02F4
   297 = 02F5			NEWROW      = $02F5
   298 = 02F6			NEWCOL      = $02F6
   299 = 02F8			ROWINC      = $02F8
   300 = 02F9			COLINC      = $02F9
   301 = 02FA			CHAR        = $02FA
   302 = 02FB			ATACHR      = $02FB
   303 = 02FC			CH          = $02FC
   304 = 02FD			FILDAT      = $02FD
   305 = 02FE			DSPFLG      = $02FE
   306 = 02FF			SSFLAG      = $02FF
   307 				; 
   308 				; PAGE 3
   309 				; 
   310 = 0300			DDEVIC      = $0300
   311 = 0301			DUNIT       = $0301
   312 = 0302			DCOMND      = $0302
   313 = 0303			DSTATS      = $0303
   314 = 0304			DBUFLO      = $0304
   315 = 0305			DBUFHI      = $0305
   316 = 0306			DTIMLO      = $0306
   317 = 0307			DUNUSE      = $0307
   318 = 0308			DBYTLO      = $0308
   319 = 0309			DBYTHI      = $0309
   320 = 030A			DAUX1       = $030A
   321 = 030B			DAUX2       = $030B
   322 = 030C			TIMER1      = $030C
   323 = 030E			ADDCOR      = $030E
   324 = 030F			CASFLG      = $030F
   325 = 0310			TIMER2      = $0310
   326 = 0312			TEMP1       = $0312
   327 = 0314			TEMP2       = $0314
   328 = 0315			TEMP3       = $0315
   329 = 0316			SAVIO       = $0316
   330 = 0317			TIMFLG      = $0317
   331 = 0318			STACKP      = $0318
   332 = 0319			TSTAT       = $0319
   333 = 031A			HATABS      = $031A
   334 = 033D			PUPBT1      = $033D
   335 = 033E			PUPBT2      = $033E
   336 = 033F			PUPBT3      = $033F
   337 = 0340			IOCB0       = $0340
   338 = 0350			IOCB1       = $0350
   339 = 0360			IOCB2       = $0360
   340 = 0370			IOCB3       = $0370
   341 = 0380			IOCB4       = $0380
   342 = 0390			IOCB5       = $0390
   343 = 03A0			IOCB6       = $03A0
   344 = 03B0			IOCB7       = $03B0
   345 = 03C0			PRNBUF      = $03C0
   346 = 03E8			SUPERF      = $03E8
   347 = 03E9			CKEY        = $03E9
   348 = 03EA			CASSBT      = $03EA
   349 = 03EB			CARTCK      = $03EB
   350 = 03EC			DERRF       = $03EC
   351 = 03ED			ACMVAR      = $03ED
   352 = 03F8			BASICF      = $03F8
   353 = 03F9			MINTLK      = $03F9
   354 = 03FA			GINTLK      = $03FA
   355 = 03FB			CHLINK      = $03FB
   356 = 03FD			CASBUF      = $03FD
   357 				; 
   358 				; HARDWARE REGISTERS
   359 				; 
   360 				; GTIA
   361 				; 
   362 = D000			M0PF        = $D000
   363 = D000			HPOSP0      = $D000
   364 = D001			M1PF        = $D001
   365 = D001			HPOSP1      = $D001
   366 = D002			M2PF        = $D002
   367 = D002			HPOSP2      = $D002
   368 = D003			M3PF        = $D003
   369 = D003			HPOSP3      = $D003
   370 = D004			P0PF        = $D004
   371 = D004			HPOSM0      = $D004
   372 = D005			P1PF        = $D005
   373 = D005			HPOSM1      = $D005
   374 = D006			P2PF        = $D006
   375 = D006			HPOSM2      = $D006
   376 = D007			P3PF        = $D007
   377 = D007			HPOSM3      = $D007
   378 = D008			M0PL        = $D008
   379 = D008			SIZEP0      = $D008
   380 = D009			M1PL        = $D009
   381 = D009			SIZEP1      = $D009
   382 = D00A			M2PL        = $D00A
   383 = D00A			SIZEP2      = $D00A
   384 = D00B			M3PL        = $D00B
   385 = D00B			SIZEP3      = $D00B
   386 = D00C			P0PL        = $D00C
   387 = D00C			SIZEM       = $D00C
   388 = D00D			P1PL        = $D00D
   389 = D00D			GRAFP0      = $D00D
   390 = D00E			P2PL        = $D00E
   391 = D00E			GRAFP1      = $D00E
   392 = D00F			P3PL        = $D00F
   393 = D00F			GRAFP2      = $D00F
   394 = D010			TRIG0       = $D010
   395 = D010			GRAFP3      = $D010
   396 = D011			TRIG1       = $D011
   397 = D011			GRAFM       = $D011
   398 = D012			TRIG2       = $D012
   399 = D012			COLPM0      = $D012
   400 = D013			TRIG3       = $D013
   401 = D013			COLPM1      = $D013
   402 = D014			PAL         = $D014
   403 = D014			COLPM2      = $D014
   404 = D015			COLPM3      = $D015
   405 = D016			COLPF0      = $D016
   406 = D017			COLPF1      = $D017
   407 = D018			COLPF2      = $D018
   408 = D019			COLPF3      = $D019
   409 = D01A			COLBK       = $D01A
   410 = D01B			PRIOR       = $D01B
   411 = D01C			VDELAY      = $D01C
   412 = D01D			GRACTL      = $D01D
   413 = D01E			HITCLR      = $D01E
   414 = D01F			CONSOL      = $D01F
   415 				; 
   416 				; POKEY
   417 				; 
   418 = D200			POT0        = $D200
   419 = D200			AUDF1       = $D200
   420 = D201			POT1        = $D201
   421 = D201			AUDC1       = $D201
   422 = D202			POT2        = $D202
   423 = D202			AUDF2       = $D202
   424 = D203			POT3        = $D203
   425 = D203			AUDC2       = $D203
   426 = D204			POT4        = $D204
   427 = D204			AUDF3       = $D204
   428 = D205			POT5        = $D205
   429 = D205			AUDC3       = $D205
   430 = D206			POT6        = $D206
   431 = D206			AUDF4       = $D206
   432 = D207			POT7        = $D207
   433 = D207			AUDC4       = $D207
   434 = D208			ALLPOT      = $D208
   435 = D208			AUDCTL      = $D208
   436 = D209			KBCODE      = $D209
   437 = D209			STIMER      = $D209
   438 = D20A			RANDOM      = $D20A
   439 = D20A			SKREST      = $D20A
   440 = D20B			POTGO       = $D20B
   441 = D20D			SERIN       = $D20D
   442 = D20D			SEROUT      = $D20D
   443 = D20E			IRQST       = $D20E
   444 = D20E			IRQEN       = $D20E
   445 = D20F			SKSTAT      = $D20F
   446 = D20F			SKCTL       = $D20F
   447 				; 
   448 				; PIA
   449 				; 
   450 = D300			PORTA       = $D300
   451 = D301			PORTB       = $D301
   452 = D302			PACTL       = $D302
   453 = D303			PBCTL       = $D303
   454 				; 
   455 				; ANTIC
   456 				; 
   457 = D400			DMACLT      = $D400
   458 = D401			CHACTL      = $D401
   459 = D402			DLISTL      = $D402
   460 = D403			DLISTH      = $D403
   461 = D404			HSCROL      = $D404
   462 = D405			VSCROL      = $D405
   463 = D407			PMBASE      = $D407
   464 = D409			CHBASE      = $D409
   465 = D40A			WSYNC       = $D40A
   466 = D40B			VCOUNT      = $D40B
   467 = D40C			PENH        = $D40C
   468 = D40D			PENV        = $D40D
   469 = D40E			NMIEN       = $D40E
   470 = D40F			NMIST       = $D40F
   471 = D40F			NMIRES      = $D40F
   472 				; 
   473 				; FLOATING POINT ROUTINES
   474 				; 
   475 = D800			AFP         = $D800
   476 = D8E6			FASC        = $D8E6
   477 = D9AA			IFP         = $D9AA
   478 = D9D2			FPI         = $D9D2
   479 = DA44			ZFR0        = $DA44
   480 = DA46			ZF1         = $DA46
   481 = DA60			FSUB        = $DA60
   482 = DA66			FADD        = $DA66
   483 = DADB			FMUL        = $DADB
   484 = DB28			FDIV        = $DB28
   485 = DD40			PLYEVL      = $DD40
   486 = DD89			FLD0R       = $DD89
   487 = DD8D			FLD0P       = $DD8D
   488 = DD98			FLD1R       = $DD98
   489 = DD9C			FLD1P       = $DD9C
   490 = DDA7			FSTOR       = $DDA7
   491 = DDAB			FSTOP       = $DDAB
   492 = DDB6			FMOVE       = $DDB6
   493 = DDC0			EXP         = $DDC0
   494 = DDCC			EXP10       = $DDCC
   495 = DECD			LOG         = $DECD
   496 = DED1			LOG10       = $DED1
   497 				; 
   498 				; ROM VECTORS
   499 				; 
   500 = E453			DSKINV      = $E453
   501 = E456			CIOV        = $E456
   502 = E459			SIOV        = $E459
   503 = E45C			SETVBV      = $E45C
   504 = E45F			SYSVBV      = $E45F
   505 = E462			XITVBV      = $E462
   506 = E465			SIOINV      = $E465
   507 = E468			SENDEV      = $E468
   508 = E46B			INTINV      = $E46B
   509 = E46E			CIOINV      = $E46E
   510 = E471			SELFSV      = $E471
   511 = E474			WARMSV      = $E474
   512 = E477			COLDSV      = $E477
   513 = E47A			RBLOKV      = $E47A
   514 = E47D			CSOPIV      = $E47D
   515 = E480			PUPDIV      = $E480
   516 = E483			SELFTSV     = $E483
   517 = E486			PENTV       = $E486
   518 = E489			PHUNLV      = $E489
   519 = E48C			PHINIV      = $E48C
   520 = E48F			GPDVV       = $E48F
   521
   522
   523 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
   524 				; 
   525 				; The!Cart programming information
   526 				; (c) 2013 Matthias Reichl
   527 				;
   528 				; The!Cart is equipped with 128MB flash (Spansion S29GL01
   529 				; chip), 512k RAM and a 256-byte SPI EEPROM (Microchip
   530 				; 25AA020A). The memory is addressed using 16384 8k banks
   531 				; (64 8k banks when using RAM instead of flash).
   532 				; 
   533 				; The cartridge configuration registers are located at
   534 				; $D5A0-$D5A8. All registers are read/write unless noted
   535 				; otherwise. Unused bits shall be written as '0' and
   536 				; always read back as '0'.
   537 				; 
   538 				; Powerup configuration is 8k mode ($A000-$BFFF) using
   539 				; flash bank 0, writes to flash are disabled.
   540 				; 
   541 				; Depending on the selected cartridge mode additional
   542 				; registers are enabled at $D5xx.
   543 				; 
   544 				; The primary bank register also serves as a base bank
   545 				; register for the various sub-modes.
   546 				; 
   547 				; The secondary bank register is only used in "flexi mode".
   548 				;
   549
   550 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
   551 				; 
   552 				; The!Cart Register (from-to,default)
   553 				;
   554
   555 				; Mode Select
   556 = D5A6			TCMOSL = $d5a6    ; mode ($00-$3d,$01)
   557 				; Cartridge mode is selected with bits 0-5 of $D5A6, values
   558 				; other than the ones listed here are reserved (and result
   559 				; in "cartridge off"):
   560 				; $00: off, cartridge disabled
   561 				; $01: 8k banks at $A000
   562 				; $02: AtariMax 1MBit / 128k
   563 				; $03: Atarimax 8MBit / 1MB
   564 				; $04: OSS M091
   565 				; $08: SDX 64k cart, $D5Ex banking
   566 				; $09: Diamond GOS 64k cart, $D5Dx banking
   567 				; $0A: Express 64k cart, $D57x banking
   568 				; $0C: Atrax 128k cart
   569 				; $0D: Williams 64k cart
   570 				; $20: flexi mode (separate 8k banks at $A000 and $8000)
   571 				; $21: standard 16k cart at $8000-$BFFF
   572 				; $22: MegaMax 16k mode (up to 2MB), AtariMax 8Mbit banking
   573 				; $23: Blizzard 16k
   574 				; $24: Sic!Cart 512k
   575 				; $28: 16k Mega cart
   576 				; $29: 32k Mega cart
   577 				; $2A: 64k Mega cart
   578 				; $2B: 128k Mega cart
   579 				; $2C: 256k Mega cart
   580 				; $2D: 512k Mega cart
   581 				; $2E: 1024k Mega cart
   582 				; $2F: 2048k Mega cart
   583 				; $30: 32k XEGS cart
   584 				; $31: 64k XEGS cart
   585 				; $32: 128k XEGS cart
   586 				; $33: 256k XEGS cart
   587 				; $34: 512k XEGS cart
   588 				; $35: 1024k XEGS cart
   589 				; $38: 32k SWXEGS cart
   590 				; $39: 64k SWXEGS cart
   591 				; $3A: 128k SWXEGS cart
   592 				; $3B: 256k SWXEGS cart
   593 				; $3C: 512k SWXEGS cart
   594 				; $3D: 1024k SWXEGS cart
   595 = 0000			TCMOSL.OFF   = $00    ; off, cartridge disabled
   596 = 0001			TCMOSL.8K    = $01    ; 8k banks at $A000
   597 = 0021			TCMOSL.FLEXI = $21    ; flexi mode,
   598 				                         ; separate 8k banks at $A000 and $8000
   599 = 0021			TCMOSL.16K   = $21    ; standard 16k cart at $8000-$BFFF
   600
   601 				; how to figure out that The!Cart is not active?
   602 				; If the address is not used then the XL returns $ff but
   603 				; the XE (and old 800) return $d5 (high byte of address,
   604 				; the value of the last bus cycle)
   605 = 00FF			TCMOSL.XLLOCK  = $ff    ; config lock or not present
   606 = 00D5			TCMOSL.XELOCK  = $d5    ; config lock or not present
   607
   608 				; Mode Flash/RAM Select
   609 = D5A7			TCMOFR = $d5a7    ;flash/RAM mode (0-15,0)
   610 				; bit 0: primary bank write enable (0=readOnly, 1=write)
   611 				; bit 1: primary bank source (0=flash, 1=RAM)
   612 				; bit 2: secondary bank write enable (0=readOnly, 1=write)
   613 				; bit 3: secondary bank source (0=flash, 1=RAM)
   614 = 0000			TCMOFR.FLASH = $00
   615 = 0003			TCMOFR.PBRAM = $03    ; primary bank RAM
   616 = 000C			TCMOFR.SBRAM = $0C    ; secondary bank RAM
   617
   618 				; Primary Bank
   619 = D5A0			TCPBRL = $d5a0    ; register low byte (0-255,0)
   620 = D5A1			TCPBRH = $d5a1    ; register high byte (0-63,0)
   621 = D5A2			TCPBEN = $d5a2    ; enable (0=dis-1=en,1)
   622
   623 				; Secondary Bank 
   624 = D5A3			TCSBRL = $d5a3    ; register low byte (0-255,0)
   625 = D5A4			TCSBRH = $d5a4  ; register high byte (0-63,0)
   626 = D5A5			TCSBEN = $d5a5    ; enable (0=dis-1=en,0)
   627
   628 				; SPI interface to EEPROM
   629 = D5A8			TCINEP = $d5a8
   630 				; bit 0: SPI CLK
   631 				; bit 1: SPI CS
   632 				; bit 7: SPI data in (on reads), SPI data out (on writes)
   633
   634 				; configuration lock
   635 = D5AF			TCCOLO = $d5af
   636 				; Writing to this register disables "The!Cart" registers
   637 				; at $d5aX.
   638
   639
   640 				; macros
   641
   642 				; saves register: pushes bank register on stack
   643 				M_cart_push .macro
   644 				            lda TCPBEN
   645 				            pha
   646 				            lda TCMOSL
   647 				            pha
   648 				            lda TCMOFR
   649 				            pha
   650 				            lda TCPBRL
   651 				            pha
   652 				            lda TCPBRH
   653 				            pha
   654 				            .endm
   655
   656 				; restores register from stack: pops from stack
   657 				M_cart_pop  .macro
   658 				            pla                 
   659 				            sta TCPBRH          
   660 				            pla                 
   661 				            sta TCPBRL          
   662 				            pla                 
   663 				            sta TCMOFR          
   664 				            pla                 
   665 				            sta TCMOSL          
   666 				            pla                 
   667 				            sta TCPBEN          
   668 				            .endm
   669
   670
   671
   672 				;
   673 				; Code equates
   674 				;
   675 = 0086			L0086       = $0086
   676 = 008A			L008A       = $008A
   677 = 008C			L008C       = $008C
   678 = 008F			L008F       = $008F
   679 = 0093			L0093       = $0093
   680 = 0094			L0094       = $0094
   681 = 0097			L0097       = $0097
   682 = 009A			L009A       = $009A
   683 = 009B			L009B       = $009B
   684 = 009D			L009D       = $009D
   685 = 00A0			L00A0       = $00A0
   686 = 00A2			L00A2       = $00A2
   687 = 00A9			L00A9       = $00A9
   688 = 00B9			L00B9       = $00B9
   689 = 00BB			L00BB       = $00BB
   690 = 00BD			L00BD       = $00BD
   691 = 00C1			L00C1       = $00C1
   692 = 00C8			L00C8       = $00C8
   693 = 00C9			L00C9       = $00C9
   694 = 00CA			L00CA       = $00CA
   695 = 00CE			L00CE       = $00CE
   696 = 00D0			L00D0       = $00D0
   697 = 00D3			L00D3       = $00D3
   698 = 00DC			L00DC       = $00DC
   699 = 00F0			L00F0       = $00F0
   700 = 00FC			L00FC       = $00FC
   701 = 0100			L0100       = $0100
   702 = 01A0			L01A0       = $01A0
   703 = 01A9			L01A9       = $01A9
   704 = 04A9			L04A9       = $04A9
   705 = 05A0			L05A0       = $05A0
   706 = 0700			L0700       = $0700
   707 = 0701			L0701       = $0701
   708 = 0706			L0706       = $0706
   709 = 0708			L0708       = $0708
   710 = 071D			L071D       = $071D
   711 = 0747			L0747       = $0747
   712 = 074C			L074C       = $074C
   713 = 0762			L0762       = $0762
   714 = 0766			L0766       = $0766
   715 = 0768			L0768       = $0768
   716 = 078A			L078A       = $078A
   717 = 078F			L078F       = $078F
   718 = 0795			L0795       = $0795
   719 = 07A0			L07A0       = $07A0
   720 = 07A1			L07A1       = $07A1
   721 = 07BE			L07BE       = $07BE
   722 = 07BF			L07BF       = $07BF
   723 = 07C8			L07C8       = $07C8
   724 = 07F2			L07F2       = $07F2
   725 = 081A			L081A       = $081A
   726 = 0847			L0847       = $0847
   727 = 085E			L085E       = $085E
   728 = 085F			L085F       = $085F
   729 = 0863			L0863       = $0863
   730 = 0869			L0869       = $0869
   731 = 086B			L086B       = $086B
   732 = 088A			L088A       = $088A
   733 = 088B			L088B       = $088B
   734 = 08C5			L08C5       = $08C5
   735 = 08E4			L08E4       = $08E4
   736 = 08E6			L08E6       = $08E6
   737 = 08E8			L08E8       = $08E8
   738 = 090B			L090B       = $090B
   739 = 090E			L090E       = $090E
   740 = 090F			L090F       = $090F
   741 = 0919			L0919       = $0919
   742 = 093A			L093A       = $093A
   743 = 093B			L093B       = $093B
   744 = 0942			L0942       = $0942
   745 = 0943			L0943       = $0943
   746 = 0946			L0946       = $0946
   747 = 0948			L0948       = $0948
   748 = 0965			L0965       = $0965
   749 = 096B			L096B       = $096B
   750 = 096F			L096F       = $096F
   751 = 0972			L0972       = $0972
   752 = 0974			L0974       = $0974
   753 = 09B8			L09B8       = $09B8
   754 = 09BA			L09BA       = $09BA
   755 = 09C2			L09C2       = $09C2
   756 = 09E1			L09E1       = $09E1
   757 = 0A3A			L0A3A       = $0A3A
   758 = 0A3C			L0A3C       = $0A3C
   759 = 0A71			L0A71       = $0A71
   760 = 0A76			L0A76       = $0A76
   761 = 0A94			L0A94       = $0A94
   762 = 0A98			L0A98       = $0A98
   763 = 0AA4			L0AA4       = $0AA4
   764 = 0AA7			L0AA7       = $0AA7
   765 = 0AF5			L0AF5       = $0AF5
   766 = 0AFC			L0AFC       = $0AFC
   767 = 0B00			L0B00       = $0B00
   768 = 0B0D			L0B0D       = $0B0D
   769 = 0B28			L0B28       = $0B28
   770 = 0B29			L0B29       = $0B29
   771 = 0B33			L0B33       = $0B33
   772 = 0B68			L0B68       = $0B68
   773 = 0B79			L0B79       = $0B79
   774 = 0B7C			L0B7C       = $0B7C
   775 = 0BA2			L0BA2       = $0BA2
   776 = 0BAA			L0BAA       = $0BAA
   777 = 0BE9			L0BE9       = $0BE9
   778 = 0BEE			L0BEE       = $0BEE
   779 = 0C15			L0C15       = $0C15
   780 = 0C2C			L0C2C       = $0C2C
   781 = 0C6E			L0C6E       = $0C6E
   782 = 0C95			L0C95       = $0C95
   783 = 0CA0			L0CA0       = $0CA0
   784 = 0CA9			L0CA9       = $0CA9
   785 = 0CC4			L0CC4       = $0CC4
   786 = 0CE4			L0CE4       = $0CE4
   787 = 0CE6			L0CE6       = $0CE6
   788 = 0CE7			L0CE7       = $0CE7
   789 = 0CEA			L0CEA       = $0CEA
   790 = 0CEC			L0CEC       = $0CEC
   791 = 0CED			L0CED       = $0CED
   792 = 0CEE			L0CEE       = $0CEE
   793 = 0CF1			L0CF1       = $0CF1
   794 = 0CF2			L0CF2       = $0CF2
   795 = 0CF3			L0CF3       = $0CF3
   796 = 0CF4			L0CF4       = $0CF4
   797 = 0CF5			L0CF5       = $0CF5
   798 = 0CF7			L0CF7       = $0CF7
   799 = 0CF9			L0CF9       = $0CF9
   800 = 0D03			L0D03       = $0D03
   801 = 0D12			L0D12       = $0D12
   802 = 0D18			L0D18       = $0D18
   803 = 0D19			L0D19       = $0D19
   804 = 0D1A			L0D1A       = $0D1A
   805 = 0D1B			L0D1B       = $0D1B
   806 = 0D1D			L0D1D       = $0D1D
   807 = 0D1E			L0D1E       = $0D1E
   808 = 0D36			L0D36       = $0D36
   809 = 0D37			L0D37       = $0D37
   810 = 0D38			L0D38       = $0D38
   811 = 0D39			L0D39       = $0D39
   812 = 0D3A			L0D3A       = $0D3A
   813 = 0D3E			L0D3E       = $0D3E
   814 = 0D43			L0D43       = $0D43
   815 = 0D48			L0D48       = $0D48
   816 = 0D4D			L0D4D       = $0D4D
   817 = 0D53			L0D53       = $0D53
   818 = 0D6F			L0D6F       = $0D6F
   819 = 0D79			L0D79       = $0D79
   820 = 0D8A			L0D8A       = $0D8A
   821 = 0D9C			L0D9C       = $0D9C
   822 = 0D9D			L0D9D       = $0D9D
   823 = 0DB1			L0DB1       = $0DB1
   824 = 0DB2			L0DB2       = $0DB2
   825 = 0DC5			L0DC5       = $0DC5
   826 = 0DE5			L0DE5       = $0DE5
   827 = 0DE6			L0DE6       = $0DE6
   828 = 0DE9			L0DE9       = $0DE9
   829 = 0DEE			L0DEE       = $0DEE
   830 = 0DEF			L0DEF       = $0DEF
   831 = 0DF0			L0DF0       = $0DF0
   832 = 0DFE			L0DFE       = $0DFE
   833 = 0E0A			L0E0A       = $0E0A
   834 = 0E0B			L0E0B       = $0E0B
   835 = 0E16			L0E16       = $0E16
   836 = 0E21			L0E21       = $0E21
   837 = 0E26			L0E26       = $0E26
   838 = 0E27			L0E27       = $0E27
   839 = 0E38			L0E38       = $0E38
   840 = 0E39			L0E39       = $0E39
   841 = 0E3A			L0E3A       = $0E3A
   842 = 0E3B			L0E3B       = $0E3B
   843 = 0E3C			L0E3C       = $0E3C
   844 = 0E3D			L0E3D       = $0E3D
   845 = 0E3E			L0E3E       = $0E3E
   846 = 0E3F			L0E3F       = $0E3F
   847 = 0E40			L0E40       = $0E40
   848 = 0E41			L0E41       = $0E41
   849 = 0E42			L0E42       = $0E42
   850 = 0E43			L0E43       = $0E43
   851 = 0E44			L0E44       = $0E44
   852 = 0E45			L0E45       = $0E45
   853 = 0E48			L0E48       = $0E48
   854 = 0E4C			L0E4C       = $0E4C
   855 = 0E4D			L0E4D       = $0E4D
   856 = 0E51			L0E51       = $0E51
   857 = 0E52			L0E52       = $0E52
   858 = 0E53			L0E53       = $0E53
   859 = 0E55			L0E55       = $0E55
   860 = 0E58			L0E58       = $0E58
   861 = 0E59			L0E59       = $0E59
   862 = 0E5D			L0E5D       = $0E5D
   863 = 0E5E			L0E5E       = $0E5E
   864 = 0E5F			L0E5F       = $0E5F
   865 = 0E60			L0E60       = $0E60
   866 = 0E64			L0E64       = $0E64
   867 = 0E6B			L0E6B       = $0E6B
   868 = 0EC9			L0EC9       = $0EC9
   869 = 0ED7			L0ED7       = $0ED7
   870 = 0ED8			L0ED8       = $0ED8
   871 = 0F15			L0F15       = $0F15
   872 = 0F40			L0F40       = $0F40
   873 = 0F43			L0F43       = $0F43
   874 = 0F46			L0F46       = $0F46
   875 = 0F49			L0F49       = $0F49
   876 = 0F4C			L0F4C       = $0F4C
   877 = 0F58			L0F58       = $0F58
   878 = 0F59			L0F59       = $0F59
   879 = 0FAC			L0FAC       = $0FAC
   880 = 0FEC			L0FEC       = $0FEC
   881 = 1088			L1088       = $1088
   882 = 109C			L109C       = $109C
   883 = 10BA			L10BA       = $10BA
   884 = 10BB			L10BB       = $10BB
   885 = 10BE			L10BE       = $10BE
   886 = 10C2			L10C2       = $10C2
   887 = 10C3			L10C3       = $10C3
   888 = 10CD			L10CD       = $10CD
   889 = 10DB			L10DB       = $10DB
   890 = 10DC			L10DC       = $10DC
   891 = 10E2			L10E2       = $10E2
   892 = 1108			L1108       = $1108
   893 = 1109			L1109       = $1109
   894 = 110C			L110C       = $110C
   895 = 1114			L1114       = $1114
   896 = 1121			L1121       = $1121
   897 = 1131			L1131       = $1131
   898 = 113B			L113B       = $113B
   899 = 1149			L1149       = $1149
   900 = 1182			L1182       = $1182
   901 = 1187			L1187       = $1187
   902 = 118A			L118A       = $118A
   903 = 11BE			L11BE       = $11BE
   904 = 1217			L1217       = $1217
   905 = 1278			L1278       = $1278
   906 = 1284			L1284       = $1284
   907 = 12A3			L12A3       = $12A3
   908 = 12F6			L12F6       = $12F6
   909 = 1354			L1354       = $1354
   910 = 136A			L136A       = $136A
   911 = 1398			L1398       = $1398
   912 = 139B			L139B       = $139B
   913 = 139E			L139E       = $139E
   914 = 13AE			L13AE       = $13AE
   915 = 13BF			L13BF       = $13BF
   916 = 143E			L143E       = $143E
   917 = 1489			L1489       = $1489
   918 = 14A9			L14A9       = $14A9
   919 = 14BF			L14BF       = $14BF
   920 = 14DA			L14DA       = $14DA
   921 = 14F5			L14F5       = $14F5
   922 = 14FD			L14FD       = $14FD
   923 = 150C			L150C       = $150C
   924 = 1511			L1511       = $1511
   925 = 159C			L159C       = $159C
   926 = 159E			L159E       = $159E
   927 = 15B9			L15B9       = $15B9
   928 = 15C9			L15C9       = $15C9
   929 = 15D9			L15D9       = $15D9
   930 = 1684			L1684       = $1684
   931 = 16AD			L16AD       = $16AD
   932 = 16B2			L16B2       = $16B2
   933 = 16FE			L16FE       = $16FE
   934 = 1A11			L1A11       = $1A11
   935 = 1A23			L1A23       = $1A23
   936 = 1A24			L1A24       = $1A24
   937 = 1AA2			L1AA2       = $1AA2
   938 = 1AB4			L1AB4       = $1AB4
   939 = 1AE8			L1AE8       = $1AE8
   940 = 1AEA			L1AEA       = $1AEA
   941 = 1AFE			L1AFE       = $1AFE
   942 = 1B01			L1B01       = $1B01
   943 = 1B0C			L1B0C       = $1B0C
   944 = 1B13			L1B13       = $1B13
   945 = 1B2B			L1B2B       = $1B2B
   946 = 1B6C			L1B6C       = $1B6C
   947 = 1BAE			L1BAE       = $1BAE
   948 = 1BE5			L1BE5       = $1BE5
   949 = 1BE9			L1BE9       = $1BE9
   950 = 1C2B			L1C2B       = $1C2B
   951 = 1C2C			L1C2C       = $1C2C
   952 = 1C43			L1C43       = $1C43
   953 = 1C48			L1C48       = $1C48
   954 = 1C57			L1C57       = $1C57
   955 = 1C69			L1C69       = $1C69
   956 = 1C6E			L1C6E       = $1C6E
   957 = 1C7C			L1C7C       = $1C7C
   958 = 1CA3			L1CA3       = $1CA3
   959 = 1CAA			L1CAA       = $1CAA
   960 = 1CC7			L1CC7       = $1CC7
   961 = 1CCC			L1CCC       = $1CCC
   962 = 1D02			L1D02       = $1D02
   963 = 1D03			L1D03       = $1D03
   964 = 1D0D			L1D0D       = $1D0D
   965 = 1D13			L1D13       = $1D13
   966 = 1D1C			L1D1C       = $1D1C
   967 = 1D4D			L1D4D       = $1D4D
   968 = 1D8A			L1D8A       = $1D8A
   969 = 1DBD			L1DBD       = $1DBD
   970 = 1DBF			L1DBF       = $1DBF
   971 = 1DC5			L1DC5       = $1DC5
   972 = 1DF4			L1DF4       = $1DF4
   973 = 1E10			L1E10       = $1E10
   974 = 1E4A			L1E4A       = $1E4A
   975 = 1E7D			L1E7D       = $1E7D
   976 = 1ED1			L1ED1       = $1ED1
   977 = 1ED6			L1ED6       = $1ED6
   978 = 1EDA			L1EDA       = $1EDA
   979 = 1EDB			L1EDB       = $1EDB
   980 = 1EE2			L1EE2       = $1EE2
   981 = 2020			L2020       = $2020
   982 = 2060			L2060       = $2060
   983 = 20A9			L20A9       = $20A9
   984 = 20BE			L20BE       = $20BE
   985 = 2120			L2120       = $2120
   986 = 225D			L225D       = $225D
   987 = 2281			L2281       = $2281
   988 = 22BF			L22BF       = $22BF
   989 = 22F0			L22F0       = $22F0
   990 = 2313			L2313       = $2313
   991 = 239A			L239A       = $239A
   992 = 23B3			L23B3       = $23B3
   993 = 24AD			L24AD       = $24AD
   994 = 25AE			L25AE       = $25AE
   995 = 26AC			L26AC       = $26AC
   996 = 2754			L2754       = $2754
   997 = 2809			L2809       = $2809
   998 = 292A			L292A       = $292A
   999 = 29A0			L29A0       = $29A0
  1000 = 2A9B			L2A9B       = $2A9B
  1001 = 2AA5			L2AA5       = $2AA5
  1002 = 2B1F			L2B1F       = $2B1F
  1003 = 2B5A			L2B5A       = $2B5A
  1004 = 2C68			L2C68       = $2C68
  1005 = 2DA0			L2DA0       = $2DA0
  1006 = 30A0			L30A0       = $30A0
  1007 = 30EE			L30EE       = $30EE
  1008 = 3136			L3136       = $3136
  1009 = 31A0			L31A0       = $31A0
  1010 = 36ED			L36ED       = $36ED
  1011 = 36F0			L36F0       = $36F0
  1012 = 3811			L3811       = $3811
  1013 = 3833			L3833       = $3833
  1014 = 38A2			L38A2       = $38A2
  1015 = 38F0			L38F0       = $38F0
  1016 = 3B5A			L3B5A       = $3B5A
  1017 = 3BA0			L3BA0       = $3BA0
  1018 = 3BC1			L3BC1       = $3BC1
  1019 = 3BC2			L3BC2       = $3BC2
  1020 = 3CF8			L3CF8       = $3CF8
  1021 = 3F38			L3F38       = $3F38
  1022 = 3FBF			L3FBF       = $3FBF
  1023 = 404A			L404A       = $404A
  1024 = 405F			L405F       = $405F
  1025 = 4061			L4061       = $4061
  1026 = 4142			L4142       = $4142
  1027 = 4197			L4197       = $4197
  1028 = 41F0			L41F0       = $41F0
  1029 = 4253			L4253       = $4253
  1030 = 4391			L4391       = $4391
  1031 = 43B1			L43B1       = $43B1
  1032 = 43F4			L43F4       = $43F4
  1033 = 445C			L445C       = $445C
  1034 = 4481			L4481       = $4481
  1035 = 4585			L4585       = $4585
  1036 = 45BE			L45BE       = $45BE
  1037 = 45C1			L45C1       = $45C1
  1038 = 45C4			L45C4       = $45C4
  1039 = 4600			L4600       = $4600
  1040 = 4691			L4691       = $4691
  1041 = 46BB			L46BB       = $46BB
  1042 = 49A5			L49A5       = $49A5
  1043 = 4B12			L4B12       = $4B12
  1044 = 4B76			L4B76       = $4B76
  1045 = 4B81			L4B81       = $4B81
  1046 = 4C5A			L4C5A       = $4C5A
  1047 = 4CDD			L4CDD       = $4CDD
  1048 = 4CFC			L4CFC       = $4CFC
  1049 = 4D13			L4D13       = $4D13
  1050 = 4D40			L4D40       = $4D40
  1051 = 4D5B			L4D5B       = $4D5B
  1052 = 4D8F			L4D8F       = $4D8F
  1053 = 4DD0			L4DD0       = $4DD0
  1054 = 4E57			L4E57       = $4E57
  1055 = 4F43			L4F43       = $4F43
  1056 = 4FAC			L4FAC       = $4FAC
  1057 = 5246			L5246       = $5246
  1058 = 53FA			L53FA       = $53FA
  1059 = 5B22			L5B22       = $5B22
  1060 = 5E09			L5E09       = $5E09
  1061 = 6006			L6006       = $6006
  1062 = 600E			L600E       = $600E
  1063 = 6463			L6463       = $6463
  1064 = 6C24			L6C24       = $6C24
  1065 = 6D75			L6D75       = $6D75
  1066 = 6DEB			L6DEB       = $6DEB
  1067 = 702E			L702E       = $702E
  1068 = 7B18			L7B18       = $7B18
  1069 = 7C94			L7C94       = $7C94
  1070 = 7E20			L7E20       = $7E20
  1071 = 7E38			L7E38       = $7E38
  1072 = 8021			L8021       = $8021
  1073 = 8521			L8521       = $8521
  1074 = 9018			L9018       = $9018
  1075 = 91E3			L91E3       = $91E3
  1076 = 9351			L9351       = $9351
  1077 = 93C1			L93C1       = $93C1
  1078 = 9AA3			L9AA3       = $9AA3
  1079 = 9B13			L9B13       = $9B13
  1080 = 9B2A			L9B2A       = $9B2A
  1081 = A00F			LA00F       = $A00F
  1082 = A0D5			LA0D5       = $A0D5
  1083 = A1A0			LA1A0       = $A1A0
  1084 = A209			LA209       = $A209
  1085 = A2BF			LA2BF       = $A2BF
  1086 = A2D7			LA2D7       = $A2D7
  1087 = A3A0			LA3A0       = $A3A0
  1088 = A4A0			LA4A0       = $A4A0
  1089 = A5BF			LA5BF       = $A5BF
  1090 = A7A0			LA7A0       = $A7A0
  1091 = A99A			LA99A       = $A99A
  1092 = A9A0			LA9A0       = $A9A0
  1093 = AAA0			LAAA0       = $AAA0
  1094 = AC9D			LAC9D       = $AC9D
  1095 = AD15			LAD15       = $AD15
  1096 = B00D			LB00D       = $B00D
  1097 = BD60			LBD60       = $BD60
  1098 = BF22			LBF22       = $BF22
  1099 = BFFA			LBFFA       = $BFFA
  1100 = BFFC			LBFFC       = $BFFC
  1101 = BFFD			LBFFD       = $BFFD
  1102 = C0A9			LC0A9       = $C0A9
  1103 = C43A			LC43A       = $C43A
  1104 = C90A			LC90A       = $C90A
  1105 = CD09			LCD09       = $CD09
  1106 = CE06			LCE06       = $CE06
  1107 = CE0C			LCE0C       = $CE0C
  1108 = D0C2			LD0C2       = $D0C2
  1109 = D0C5			LD0C5       = $D0C5
  1110 = D10E			LD10E       = $D10E
  1111 = E5AD			LE5AD       = $E5AD
  1112 = E610			LE610       = $E610
  1113 = E80D			LE80D       = $E80D
  1114 = EDE7			LEDE7       = $EDE7
  1115 = F5D5			LF5D5       = $F5D5
  1116 = FC95			LFC95       = $FC95
  1117 = FD20			LFD20       = $FD20
  1118 = FF00			LFF00       = $FF00
  1119 = FF20			LFF20       = $FF20
  1120 = FFA9			LFFA9       = $FFA9
  1121 = FFBD			LFFBD       = $FFBD
  1122 = FFE4			LFFE4       = $FFE4
  1123 = FFFF			LFFFF       = $FFFF
  1124
  1125
  1126 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  1127 				;
  1128 				; Start of code
  1129 				;
  1130 				            org $36E6
  1131
  1132 				; copy from page $30 to $7
  1133 FFFF> 36E6-3E89> D8	L36E6       cld                    ; D8
  1134 36E7 A2 00		            ldx #$00               ; A2 00
  1135 36E9 A0 20		            ldy #$20               ; A0 20
  1136 36EB BD 00 37		L36EB       lda L3700,X            ; BD 00 37
  1137 36EE 9D 00 07		            sta L0700,X            ; 9D 00 07
  1138 36F1 E8			            inx                    ; E8
  1139 36F2 D0 F7		            bne L36EB              ; D0 F7
  1140 36F4 EE ED 36		            inc L36ED              ; EE ED 36
  1141 36F7 EE F0 36		            inc L36F0              ; EE F0 36
  1142 36FA 88			            dey                    ; 88
  1143 36FB D0 EE		            bne L36EB              ; D0 EE
  1144 36FD 4C 0B 0E		            jmp L0E0B              ; 4C 0B 0E
  1145
  1146 				; page 7 table
  1147 3700 53			L3700       .byte $53     ;$700 the character "S" for SpartaDOS
  1148 3701 32						.byte $32     ;$701 $32 for compatibility with SpartaDOS 3.2
  1149 3702 00						.byte $00
  1150 3703 42 57					.byte $42,$57 ;$703 "BW" when BW-DOS is installed
  1151 3705 13						.byte,$13     ;$705 BW-DOS version 1.3x etc.
  1152 3706 57 08					.word $0857   ;$706 Adress of the "GETTD" routine
  1153 3708 50 08					.word $0850   ;$708 Adress of the "SETTD" routine
  1154 370A 2A 07					.word $072A   ;$70A Adress CONVDC
  1155 370C 4C EE 0C		            jmp L0CEE     ;$70C jmp LSIO         ; 4C EE 0C
  1156
  1157 370F 0F			            .byte $0F
  1158 3710 95 6E		            sta BITMSK,X           ; 95 6E
  1159 3712 97 7F		L3712       .byte $97,$7F
  1160 3714 81 7E		            sta (COUNTR,X)         ; 81 7E
  1161
  1162 3716 0A			            asl                    ; 0A
  1163 3717 08			            php                    ; 08
  1164 3718 0B 0C 0C 0C		            .byte $0B,$0C,$0C,$0C
  1165 371C 0A			            asl                    ; 0A
  1166 371D 8D F3 0C		            sta L0CF3              ; 8D F3 0C
  1167 3720 A9 00		            lda #$00               ; A9 00
  1168 3722 8D F4 0C		            sta L0CF4              ; 8D F4 0C
  1169 3725 A9 00		            lda #$00               ; A9 00
  1170 3727 8D F5 0C		            sta L0CF5              ; 8D F5 0C
  1171 372A A2 07		            ldx #$07               ; A2 07
  1172 372C 8E 4C 07		L372C       stx L074C              ; 8E 4C 07
  1173 372F A2 18		            ldx #$18               ; A2 18
  1174 3731 A9 00		            lda #$00               ; A9 00
  1175 3733 0E F3 0C		L3733       asl L0CF3              ; 0E F3 0C
  1176 3736 2E F4 0C		            rol L0CF4              ; 2E F4 0C
  1177 3739 2E F5 0C		            rol L0CF5              ; 2E F5 0C
  1178 373C 2A			            rol                    ; 2A
  1179 373D C9 0A		            cmp #$0A               ; C9 0A
  1180 373F 90 05		            bcc L3746              ; 90 05
  1181 3741 E9 0A		            sbc #$0A               ; E9 0A
  1182 3743 EE F3 0C		            inc L0CF3              ; EE F3 0C
  1183 3746 CA			L3746       dex                    ; CA
  1184 3747 D0 EA		            bne L3733              ; D0 EA
  1185 3749 09 30		            ora #$30               ; 09 30
  1186 374B A2 00		            ldx #$00               ; A2 00
  1187 374D 9D E6 0C		L374D       sta L0CE6,X            ; 9D E6 0C
  1188 3750 CA			            dex                    ; CA
  1189 3751 30 4D		            bmi L37A0              ; 30 4D
  1190 3753 AD F3 0C		            lda L0CF3              ; AD F3 0C
  1191 3756 0D F4 0C		            ora L0CF4              ; 0D F4 0C
  1192 3759 0D F5 0C		            ora L0CF5              ; 0D F5 0C
  1193 375C D0 CE		            bne L372C              ; D0 CE
  1194 375E A9 20		            lda #$20               ; A9 20
  1195 3760 D0 EB		            bne L374D              ; D0 EB
  1196 3762 EE 03 0D		L3762       inc L0D03              ; EE 03 0D
  1197 3765 2C A9 20		            bit L20A9              ; 2C A9 20
  1198 3768 AC 03 0D		            ldy L0D03              ; AC 03 0D
  1199 376B BE 38 0D		            ldx L0D38,Y            ; BE 38 0D
  1200 376E E0 20		            cpx #$20               ; E0 20
  1201 3770 F0 F0		            beq L3762              ; F0 F0
  1202 3772 8D C8 07		            sta L07C8              ; 8D C8 07
  1203 3775 A9 00		            lda #$00               ; A9 00
  1204 3777 8D BF 07		            sta L07BF              ; 8D BF 07
  1205 377A E0 9B		            cpx #$9B               ; E0 9B
  1206 377C F0 12		            beq L3790              ; F0 12
  1207 377E B9 39 0D		            lda L0D39,Y            ; B9 39 0D
  1208 3781 C9 9B		            cmp #$9B               ; C9 9B
  1209 3783 F0 0B		            beq L3790              ; F0 0B
  1210 3785 C9 3A		            cmp #$3A               ; C9 3A
  1211 3787 F0 18		            beq L37A1              ; F0 18
  1212 3789 B9 3A 0D		            lda L0D3A,Y            ; B9 3A 0D
  1213 378C C9 3A		            cmp #$3A               ; C9 3A
  1214 378E F0 05		            beq L3795              ; F0 05
  1215 3790 A0 41		L3790       ldy #$41               ; A0 41
  1216 3792 20 BE 07		            jsr L07BE              ; 20 BE 07
  1217 3795 AC 03 0D		L3795       ldy L0D03              ; AC 03 0D
  1218 3798 20 BE 07		            jsr L07BE              ; 20 BE 07
  1219 379B 8C 03 0D		            sty L0D03              ; 8C 03 0D
  1220 379E E0 03		L379E       cpx #$03               ; E0 03
  1221 37A0 60			L37A0       rts                    ; 60
  1222 37A1 EE BF 07		L37A1       inc L07BF              ; EE BF 07
  1223 37A4 20 95 07		            jsr L0795              ; 20 95 07
  1224 37A7 AD 1B 0D		            lda L0D1B              ; AD 1B 0D
  1225 37AA 8D 1A 0D		            sta L0D1A              ; 8D 1A 0D
  1226 37AD A9 31		            lda #$31               ; A9 31
  1227 37AF 8D 1B 0D		            sta L0D1B              ; 8D 1B 0D
  1228 37B2 D0 EA		            bne L379E              ; D0 EA
  1229 37B4 9D 1A 0D		L37B4       sta L0D1A,X            ; 9D 1A 0D
  1230 37B7 E0 1B		            cpx #$1B               ; E0 1B
  1231 37B9 B0 01		            bcs L37BC              ; B0 01
  1232 37BB E8			            inx                    ; E8
  1233 37BC C8			L37BC       iny                    ; C8
  1234 37BD 2C A2 00		            .byte $2C,$A2,$00      ; bit L00A2
  1235 37C0 B9 38 0D		            lda L0D38,Y            ; B9 38 0D
  1236 37C3 C9 9B		            cmp #$9B               ; C9 9B
  1237 37C5 F0 04		            beq L37CB              ; F0 04
  1238 37C7 C9 20		            cmp #$20               ; C9 20
  1239 37C9 D0 E9		            bne L37B4              ; D0 E9
  1240 37CB A9 9B		L37CB       lda #$9B               ; A9 9B
  1241 37CD 9D 1A 0D		            sta L0D1A,X            ; 9D 1A 0D
  1242 37D0 8E BF 07		            stx L07BF              ; 8E BF 07
  1243 37D3 60			            rts                    ; 60
  1244 37D4 9D 0F A0		            sta LA00F,X            ; 9D 0F A0
  1245 37D7 0F A3 0F		            .byte $0F,$A3,$0F
  1246 37DA A6 0F		            ldx APPMHI+1           ; A6 0F
  1247 37DC A9 0F		            lda #$0F               ; A9 0F
  1248 37DE 89 0F		            .byte $89,$0F
  1249 37E0 D8			            cld                    ; D8
  1250 37E1 A5 47		            lda FMSZPG+4           ; A5 47
  1251 37E3 D0 0D		            bne L37F2              ; D0 0D
  1252 37E5 C6 47		            dec FMSZPG+4           ; C6 47
  1253 37E7 2C 19 0D		            bit L0D19              ; 2C 19 0D
  1254 37EA 10 06		            bpl L37F2              ; 10 06
  1255 37EC 20 47 08		            jsr L0847              ; 20 47 08
  1256 37EF 4C F9 0C		            jmp L0CF9              ; 4C F9 0C
  1257 37F2 20 19 09		L37F2       jsr L0919              ; 20 19 09
  1258 37F5 4D 17 42		            eor L4217              ; 4D 17 42
  1259 37F8 E7 47		            .byte $E7,$47
  1260 37FA F0 40		            beq L383C              ; F0 40
  1261 37FC 0A			            asl                    ; 0A
  1262 37FD CD F2 4C		            cmp L4CF2              ; CD F2 4C
  1263 3800 F1 8A		            sbc (L008A),Y          ; F1 8A
  1264 3802 9D 4C 0E		L3802       sta L0E4C,X            ; 9D 4C 0E
  1265 3805 E0 97		            cpx #$97               ; E0 97
  1266 3807 90 03		            bcc L380C              ; 90 03
  1267 3809 DE 40 0E		            dec L0E40,X            ; DE 40 0E
  1268 380C E8			L380C       inx                    ; E8
  1269 380D D0 F3		            bne L3802              ; D0 F3
  1270 380F A8			            tay                    ; A8
  1271 3810 2C A0 07		            bit L07A0              ; 2C A0 07
  1272 3813 C8			L3813       iny                    ; C8
  1273 3814 98			            tya                    ; 98
  1274 3815 9D 55 0E		            sta L0E55,X            ; 9D 55 0E
  1275 3818 8A			            txa                    ; 8A
  1276 3819 18			            clc                    ; 18
  1277 381A 69 1A		            adc #$1A               ; 69 1A
  1278 381C AA			            tax                    ; AA
  1279 381D C0 04		            cpy #$04               ; C0 04
  1280 381F 90 F2		            bcc L3813              ; 90 F2
  1281 3821 F0 EE		            beq L3811              ; F0 EE
  1282 3823 A0 1E		            ldy #$1E               ; A0 1E
  1283 3825 BE 1A 03		L3825       ldx HATABS,Y           ; BE 1A 03
  1284 3828 D0 01		            bne L382B              ; D0 01
  1285 382A 98			            tya                    ; 98
  1286 382B E0 44		L382B       cpx #$44               ; E0 44
  1287 382D F0 08		            beq L3837              ; F0 08
  1288 382F 88			            dey                    ; 88
  1289 3830 88			            dey                    ; 88
  1290 3831 88			            dey                    ; 88
  1291 3832 10 F1		            bpl L3825              ; 10 F1
  1292 3834 A8			            tay                    ; A8
  1293 3835 30 0C		            bmi L3843              ; 30 0C
  1294 3837 A2 FD		L3837       ldx #$FD               ; A2 FD
  1295 3839 BD 47 07		L3839       lda L0747,X            ; BD 47 07
  1296 383C 99 1A 03		L383C       sta HATABS,Y           ; 99 1A 03
  1297 383F C8			            iny                    ; C8
  1298 3840 E8			            inx                    ; E8
  1299 3841 D0 F6		            bne L3839              ; D0 F6
  1300 3843 60			L3843       rts                    ; 60
  1301 3844 44 D4 07		            .byte $44,$D4,$07
  1302 3847 6C 0C 00		            jmp (DOSINI)           ; 6C 0C 00
  1303 384A 1C 0B 5F		            .byte $1C,$0B,$5F
  1304 384D 16 0E		            asl APPMHI,X           ; 16 0E
  1305 384F 06						.byte $06
  1306
  1307 				; $850 SETTD
  1308 3850 20 19 09					jsr $0919			   ; 20 19 09
  1309 3853 CD 06 C8					cmp $C806			   ; CD 06 C8
  1310 3856 4A			            lsr                    ; 4A
  1311
  1312 				; $857 GETTD
  1313 3857 20 19 09		            jsr L0919              ; 20 19 09
  1314 385A C8			            iny                    ; C8
  1315 385B 4A			            lsr                    ; 4A
  1316 385C CD 06 60		            cmp L6006              ; CD 06 60
  1317 385F AD 89 14		            lda L1489              ; AD 89 14
  1318 3862 2C A9 01		            bit L01A9              ; 2C A9 01
  1319 3865 A2 69		            ldx #$69               ; A2 69
  1320 3867 D0 04		            bne L386D              ; D0 04
  1321 3869 A9 01		            lda #$01               ; A9 01
  1322 386B A2 E9		            ldx #$E9               ; A2 E9
  1323 386D 8D 8B 08		L386D       sta L088B              ; 8D 8B 08
  1324 3870 8E 8A 08		            stx L088A              ; 8E 8A 08
  1325 3873 A2 FE		            ldx #$FE               ; A2 FE
  1326 3875 20 C5 08		L3875       jsr L08C5              ; 20 C5 08
  1327 3878 9D 8A 07		            sta L078A,X            ; 9D 8A 07
  1328 387B 9D 8F 07		            sta L078F,X            ; 9D 8F 07
  1329 387E E8			            inx                    ; E8
  1330 387F D0 F4		            bne L3875              ; D0 F4
  1331 3881 AD 8A 08		            lda L088A              ; AD 8A 08
  1332 3884 0A			            asl                    ; 0A
  1333 3885 CA			            dex                    ; CA
  1334 3886 E8			L3886       inx                    ; E8
  1335 3887 BD FF FF		            lda LFFFF,X            ; BD FF FF
  1336 388A 69 00		            adc #$00               ; 69 00
  1337 388C 9D FF FF		            sta LFFFF,X            ; 9D FF FF
  1338 388F 8E 8B 08		            stx L088B              ; 8E 8B 08
  1339 3892 8A			            txa                    ; 8A
  1340 3893 F0 F1		            beq L3886              ; F0 F1
  1341 3895 60			            rts                    ; 60
  1342
  1343 3896 D0 03		            bne L389B              ; D0 03
  1344 3898 6C 36 0D		L3898       jmp (L0D36)            ; 6C 36 0D
  1345 389B 20 19 09		L389B       jsr L0919              ; 20 19 09
  1346 389E CE 00 4D		            dec L4D00              ; CE 00 4D
  1347 38A1 36 BD		            rol L00BD,X            ; 36 BD
  1348 38A3 1D 0D E8		            ora LE80D,X            ; 1D 0D E8
  1349 38A6 38			            sec                    ; 38
  1350 38A7 E9 30		            sbc #$30               ; E9 30
  1351 38A9 C9 0A		            cmp #$0A               ; C9 0A
  1352 38AB 90 06		            bcc L38B3              ; 90 06
  1353 38AD E9 07		            sbc #$07               ; E9 07
  1354 38AF C9 10		            cmp #$10               ; C9 10
  1355 38B1 B0 E5		            bcs L3898              ; B0 E5
  1356 38B3 0A			L38B3       asl                    ; 0A
  1357 38B4 0A			            asl                    ; 0A
  1358 38B5 0A			            asl                    ; 0A
  1359 38B6 0A			            asl                    ; 0A
  1360 38B7 A0 04		            ldy #$04               ; A0 04
  1361 38B9 0A			L38B9       asl                    ; 0A
  1362 38BA 2E 36 0D		            rol L0D36              ; 2E 36 0D
  1363 38BD 2E 37 0D		            rol L0D37              ; 2E 37 0D
  1364 38C0 88			            dey                    ; 88
  1365 38C1 D0 F6		            bne L38B9              ; D0 F6
  1366 38C3 F0 DD		            beq L38A2              ; F0 DD
  1367
  1368 				; $08C5
  1369 38C5 8E E6 08		            stx L08E6              ; 8E E6 08
  1370 38C8 8C E8 08		            sty L08E8              ; 8C E8 08
  1371 38CB BA			            tsx                    ; BA
  1372 38CC E8			            inx                    ; E8
  1373 38CD E8			            inx                    ; E8
  1374 38CE E8			            inx                    ; E8
  1375 38CF FE 00 01		            inc L0100,X            ; FE 00 01
  1376 38D2 BD 00 01		            lda L0100,X            ; BD 00 01
  1377 38D5 E8			            inx                    ; E8
  1378 38D6 A8			            tay                    ; A8
  1379 38D7 D0 03		            bne L38DC              ; D0 03
  1380 38D9 FE 00 01		            inc L0100,X            ; FE 00 01
  1381 38DC BD 00 01		L38DC       lda L0100,X            ; BD 00 01
  1382 38DF 8D E4 08		            sta L08E4              ; 8D E4 08
  1383 38E2 B9 00 FF		            lda LFF00,Y            ; B9 00 FF
  1384 38E5 A2 00		            ldx #$00               ; A2 00
  1385 38E7 A0 00		            ldy #$00               ; A0 00
  1386 38E9 60			            rts                    ; 60
  1387
  1388 38EA 20 C5 08		L38EA       jsr L08C5              ; 20 C5 08
  1389 38ED A2 03		            ldx #$03               ; A2 03
  1390 38EF 2C A2 00		            .byte $2C,$A2,$00      ; bit L00A2
  1391 38F2 48			            pha                    ; 48
  1392 38F3 29 1F		            and #$1F               ; 29 1F
  1393 38F5 9D 0F 09		            sta L090F,X            ; 9D 0F 09
  1394 38F8 68			            pla                    ; 68
  1395 38F9 4A			            lsr                    ; 4A
  1396 38FA 4A			            lsr                    ; 4A
  1397 38FB 4A			            lsr                    ; 4A
  1398 38FC 4A			            lsr                    ; 4A
  1399 38FD 4A			            lsr                    ; 4A
  1400 38FE 8D 0B 09		            sta L090B              ; 8D 0B 09
  1401 3901 20 C5 08		            jsr L08C5              ; 20 C5 08
  1402 3904 9D 0E 09		            sta L090E,X            ; 9D 0E 09
  1403 3907 8A			            txa                    ; 8A
  1404 3908 F0 E0		            beq L38EA              ; F0 E0
  1405 390A A2 00		            ldx #$00               ; A2 00
  1406 390C CA			L390C       dex                    ; CA
  1407 390D BD FF FF		            lda LFFFF,X            ; BD FF FF
  1408 3910 9D FF FF		            sta LFFFF,X            ; 9D FF FF
  1409 3913 8A			            txa                    ; 8A
  1410 3914 D0 F6		            bne L390C              ; D0 F6
  1411 3916 98			            tya                    ; 98
  1412 3917 30 4F		            bmi L3968              ; 30 4F
  1413 3919 20 76 0A		L3919       jsr L0A76              ; 20 76 0A
  1414 391C 20 C5 08		L391C       jsr L08C5              ; 20 C5 08
  1415 391F A8			            tay                    ; A8
  1416 3920 0A			L3920       asl                    ; 0A
  1417 3921 0A			            asl                    ; 0A
  1418 3922 08			            php                    ; 08
  1419 3923 98			            tya                    ; 98
  1420 3924 29 1F		            and #$1F               ; 29 1F
  1421 3926 28			            plp                    ; 28
  1422 3927 B0 C7		            bcs L38F0              ; B0 C7
  1423 3929 30 1E		            bmi L3949              ; 30 1E
  1424 392B 8D 3B 09		            sta L093B              ; 8D 3B 09
  1425 392E 20 C5 08		            jsr L08C5              ; 20 C5 08
  1426 3931 8D 3A 09		            sta L093A              ; 8D 3A 09
  1427 3934 98			            tya                    ; 98
  1428 3935 48			            pha                    ; 48
  1429 3936 20 42 09		            jsr L0942              ; 20 42 09
  1430 3939 20 48 09		            jsr L0948              ; 20 48 09
  1431 393C 20 76 0A		            jsr L0A76              ; 20 76 0A
  1432 393F 68			            pla                    ; 68
  1433 3940 10 DA		            bpl L391C              ; 10 DA
  1434 3942 A9 00		            lda #$00               ; A9 00
  1435 3944 48			            pha                    ; 48
  1436 3945 A9 00		            lda #$00               ; A9 00
  1437 3947 28			            plp                    ; 28
  1438 3948 60			            rts                    ; 60
  1439 3949 8D 46 09		L3949       sta L0946              ; 8D 46 09
  1440 394C 8C 65 09		            sty L0965              ; 8C 65 09
  1441 394F 20 C5 08		            jsr L08C5              ; 20 C5 08
  1442 3952 AA			            tax                    ; AA
  1443 3953 20 C5 08		            jsr L08C5              ; 20 C5 08
  1444 3956 A8			            tay                    ; A8
  1445 3957 BD 8A 0D		L3957       lda L0D8A,X            ; BD 8A 0D
  1446 395A 99 8A 0D		            sta L0D8A,Y            ; 99 8A 0D
  1447 395D E8			            inx                    ; E8
  1448 395E C8			            iny                    ; C8
  1449 395F CE 46 09		            dec L0946              ; CE 46 09
  1450 3962 D0 F3		            bne L3957              ; D0 F3
  1451 3964 A9 00		            lda #$00               ; A9 00
  1452 3966 10 B1		            bpl L3919              ; 10 B1
  1453 3968 A2 00		L3968       ldx #$00               ; A2 00
  1454 396A 60			            rts                    ; 60
  1455 396B 20 C5 08		            jsr L08C5              ; 20 C5 08
  1456 396E 2C A9 C0		            bit LC0A9              ; 2C A9 C0
  1457 3971 2C A9 04		            bit L04A9              ; 2C A9 04
  1458 3974 85 44		            sta FMSZPG+1           ; 85 44
  1459 3976 0A			            asl                    ; 0A
  1460 3977 0A			            asl                    ; 0A
  1461 3978 AA			            tax                    ; AA
  1462 3979 A8			            tay                    ; A8
  1463 397A B0 0D		            bcs L3989              ; B0 0D
  1464 397C 20 C5 08		            jsr L08C5              ; 20 C5 08
  1465 397F 4A			            lsr                    ; 4A
  1466 3980 9D 4A 03		            sta IOCB0+ICAX1,X      ; 9D 4A 03
  1467 3983 A9 00		            lda #$00               ; A9 00
  1468 3985 6A			            ror                    ; 6A
  1469 3986 9D 4B 03		            sta IOCB0+ICAX2,X      ; 9D 4B 03
  1470 3989 A9 67		L3989       lda #$67               ; A9 67
  1471 398B 85 43		            sta FMSZPG             ; 85 43
  1472 398D 20 C5 08		L398D       jsr L08C5              ; 20 C5 08
  1473 3990 99 42 03		            sta IOCB0+ICCOM,Y      ; 99 42 03
  1474 3993 C8			L3993       iny                    ; C8
  1475 3994 06 43		            asl FMSZPG             ; 06 43
  1476 3996 90 FB		            bcc L3993              ; 90 FB
  1477 3998 D0 F3		            bne L398D              ; D0 F3
  1478 399A A5 44		            lda FMSZPG+1           ; A5 44
  1479 399C 48			            pha                    ; 48
  1480 399D A9 20		            lda #$20               ; A9 20
  1481 399F 20 56 E4		            jsr CIOV               ; 20 56 E4
  1482 39A2 68			            pla                    ; 68
  1483 39A3 AA			            tax                    ; AA
  1484 39A4 98			            tya                    ; 98
  1485 39A5 10 19		            bpl L39C0              ; 10 19
  1486 39A7 C9 88		            cmp #$88               ; C9 88
  1487 39A9 F0 15		L39A9       beq L39C0              ; F0 15
  1488 39AB 48			            pha                    ; 48
  1489 39AC 8A			            txa                    ; 8A
  1490 39AD 48			            pha                    ; 48
  1491 39AE 29 1C		L39AE       and #$1C               ; 29 1C
  1492 39B0 F0 0A		            beq L39BC              ; F0 0A
  1493 39B2 09 C0		            ora #$C0               ; 09 C0
  1494 39B4 20 74 09		            jsr L0974              ; 20 74 09
  1495 39B7 0C 00 00 00 00	            .byte $0C,$00,$00,$00,$00
  1496 39BC 68			L39BC       pla                    ; 68
  1497 39BD 10 03		            bpl L39C2              ; 10 03
  1498 39BF 68			            pla                    ; 68
  1499 39C0 A8			L39C0       tay                    ; A8
  1500 39C1 60			            rts                    ; 60
  1501
  1502 39C2 20 6F 09		L39C2       jsr L096F              ; 20 6F 09
  1503 39C5 0B			            .byte $0B
  1504 39C6 E1 0B		            sbc (DOSVEC+1,X)       ; E1 0B
  1505 39C8 06 00		            asl $00                ; 06 00
  1506 39CA 68			            pla                    ; 68
  1507 39CB 20 1D 07		            jsr L071D              ; 20 1D 07
  1508 39CE 20 6F 09		            jsr L096F              ; 20 6F 09
  1509 39D1 0B			            .byte $0B
  1510 39D2 EA			            nop                    ; EA
  1511 39D3 0C 04 00		            .byte $0C,$04,$00
  1512 39D6 20 6F 09		            jsr L096F              ; 20 6F 09
  1513 39D9 0B			            .byte $0B
  1514 39DA E1 0B		            sbc (DOSVEC+1,X)       ; E1 0B
  1515 39DC 01 00		            ora ($00,X)            ; 01 00
  1516 39DE 20 7C 0B		            jsr L0B7C              ; 20 7C 0B
  1517 39E1 D8			            cld                    ; D8
  1518 39E2 20 28 0B		            jsr L0B28              ; 20 28 0B
  1519 39E5 8E 12 0D		            stx L0D12              ; 8E 12 0D
  1520 39E8 8E 03 0D		            stx L0D03              ; 8E 03 0D
  1521 39EB CA			            dex                    ; CA
  1522 39EC 8E 19 0D		L39EC       stx L0D19              ; 8E 19 0D
  1523 39EF 9A			            txs                    ; 9A
  1524 39F0 20 6B 09		            jsr L096B              ; 20 6B 09
  1525 39F3 C4 0C		            cpy DOSINI             ; C4 0C
  1526 39F5 AC 0A C9		            ldy LC90A              ; AC 0A C9
  1527 39F8 0A			            asl                    ; 0A
  1528 39F9 20 6F 09		            jsr L096F              ; 20 6F 09
  1529 39FC 0B			            .byte $0B
  1530 39FD 78			            sei                    ; 78
  1531 39FE 0D 04 00		            .byte $0D,$04,$00      ; ora RAMLO
  1532 3A01 20 6B 09		            jsr L096B              ; 20 6B 09
  1533 3A04 40			            rti                    ; 40
  1534 3A05 05 38		            ora BUFRFL             ; 05 38
  1535 3A07 0D 40 00		            .byte $0D,$40,$00      ; ora FREQ
  1536 3A0A 20 AA 0B		            jsr L0BAA              ; 20 AA 0B
  1537 3A0D 4C E1 09		            jmp L09E1              ; 4C E1 09
  1538
  1539 				; Command CAR
  1540 3A10 AD FD BF		            lda LBFFD              ; AD FD BF
  1541 3A13 EE FD BF		            inc LBFFD              ; EE FD BF
  1542 3A16 CD FD BF		            cmp LBFFD              ; CD FD BF
  1543 3A19 8D FD BF		            sta LBFFD              ; 8D FD BF
  1544 3A1C D0 74		            bne L3A92              ; D0 74
  1545 3A1E AE FC BF		            ldx LBFFC              ; AE FC BF
  1546 3A21 D0 6F		            bne L3A92              ; D0 6F
  1547 3A23 AD E4 0C		            lda L0CE4              ; AD E4 0C
  1548 3A26 85 08		            sta WARMST             ; 85 08
  1549 3A28 8E 19 0D		            stx L0D19              ; 8E 19 0D
  1550 3A2B CA			            dex                    ; CA
  1551 3A2C 8E E4 0C		            stx L0CE4              ; 8E E4 0C
  1552 3A2F 6C FA BF		            jmp (LBFFA)            ; 6C FA BF
  1553
  1554 3A32 8D F8 03		L3A32       sta BASICF             ; 8D F8 03
  1555 3A35 08			            php                    ; 08
  1556 3A36 20 6F 09		            jsr L096F              ; 20 6F 09
  1557
  1558 3A39 0C			            .byte $0C
  1559 3A3A 10 08		            bpl L3A44              ; 10 08
  1560 3A3C 40			            rti                    ; 40
  1561 3A3D 50 AD		            bvc L39EC              ; 50 AD
  1562 3A3F 01 D3		            ora (L00D3,X)          ; 01 D3
  1563 3A41 6A			            ror                    ; 6A
  1564 3A42 6A			            ror                    ; 6A
  1565 3A43 28			            plp                    ; 28
  1566 3A44 2A			L3A44       rol                    ; 2A
  1567 3A45 2A			            rol                    ; 2A
  1568 3A46 8D 01 D3		            sta PORTB              ; 8D 01 D3
  1569 3A49 A2 CE		            ldx #$CE               ; A2 CE
  1570 3A4B 8A			L3A4B       txa                    ; 8A
  1571 3A4C 38			            sec                    ; 38
  1572 3A4D E9 10		            sbc #$10               ; E9 10
  1573 3A4F AA			            tax                    ; AA
  1574 3A50 86 44		            stx FMSZPG+1           ; 86 44
  1575 3A52 51 43		            eor (FMSZPG),Y         ; 51 43
  1576 3A54 91 43		            sta (FMSZPG),Y         ; 91 43
  1577 3A56 51 43		            eor (FMSZPG),Y         ; 51 43
  1578 3A58 D0 F1		            bne L3A4B              ; D0 F1
  1579 3A5A 8D E5 02		            sta MEMTOP             ; 8D E5 02
  1580 3A5D E8			            inx                    ; E8
  1581 3A5E E8			            inx                    ; E8
  1582 3A5F 8E E4 02		            stx RAMSIZ             ; 8E E4 02
  1583 3A62 8E E6 02		            stx MEMTOP+1           ; 8E E6 02
  1584 3A65 86 6A		            stx RAMTOP             ; 86 6A
  1585 3A67 20 6B 09		            jsr L096B              ; 20 6B 09
  1586 3A6A 80			            .byte $80
  1587 3A6B 18			            clc                    ; 18
  1588 3A6C 03 E2 0B 00 00	            .byte $03,$E2,$0B,$00,$00
  1589 				            
  1590 3A71 A2 00		            ldx #$00               ; A2 00
  1591 3A73 8E E4 0C		            stx L0CE4              ; 8E E4 0C
  1592 3A76 8D 46 09		            sta L0946              ; 8D 46 09
  1593 3A79 08			            php                    ; 08
  1594 3A7A 68			            pla                    ; 68
  1595 3A7B 8D 43 09		            sta L0943              ; 8D 43 09
  1596 3A7E 60			            rts                    ; 60
  1597
  1598 				; Command BASIC
  1599 3A7F AD 1D 0D		            lda L0D1D              ; AD 1D 0D
  1600 3A82 C9 4F		            cmp #$4F               ; C9 4F
  1601 3A84 D0 0C		            bne L3A92              ; D0 0C
  1602 3A86 AD 1E 0D		            lda L0D1E              ; AD 1E 0D
  1603 3A89 C9 46		            cmp #$46               ; C9 46
  1604 3A8B F0 A5		            beq L3A32              ; F0 A5
  1605 3A8D 18			            clc                    ; 18
  1606 3A8E 49 4E		            eor #$4E               ; 49 4E
  1607 3A90 F0 A0		            beq L3A32              ; F0 A0
  1608
  1609 3A92 A9 9C		L3A92       lda #$9C               ; error 156 no cart ; A9 9C
  1610 3A94 48			            pha                    ; 48
  1611 3A95 4C C2 09		            jmp L09C2              ; 4C C2 09
  1612
  1613 3A98 00 00 00 00 00 00 +             .byte $00,$00,$00,$00,$00,$00,$00,$00
  1614 3AA0 00 00 00 00		            .byte $00,$00,$00,$00
  1615 3AA4 6C B8 09		L3AA4       jmp (L09B8)            ; 6C B8 09
  1616 3AA7 6C BA 09		L3AA7       jmp (L09BA)            ; 6C BA 09
  1617 3AAA 20 7C 0B		L3AAA       jsr L0B7C              ; 20 7C 0B
  1618 3AAD 8A			            txa                    ; 8A
  1619 3AAE D0 F4		            bne L3AA4              ; D0 F4
  1620 3AB0 2C F2 0C		            bit L0CF2              ; 2C F2 0C
  1621 3AB3 10 08		            bpl L3ABD              ; 10 08
  1622 3AB5 20 A4 0A		            jsr L0AA4              ; 20 A4 0A
  1623 3AB8 C0 00		            cpy #$00               ; C0 00
  1624 3ABA 10 17		            bpl L3AD3              ; 10 17
  1625 3ABC 60			            rts                    ; 60
  1626 3ABD A0 01		L3ABD       ldy #$01               ; A0 01
  1627 3ABF A2 05		            ldx #$05               ; A2 05
  1628 3AC1 20 C4 0C		            jsr L0CC4              ; 20 C4 0C
  1629 3AC4 C0 00		            cpy #$00               ; C0 00
  1630 3AC6 30 E2		            bmi L3AAA              ; 30 E2
  1631 3AC8 A2 00		            ldx #$00               ; A2 00
  1632 3ACA E0 00		            cpx #$00               ; E0 00
  1633 3ACC D0 D9		            bne L3AA7              ; D0 D9
  1634 3ACE 48			            pha                    ; 48
  1635 3ACF 20 A7 0A		            jsr L0AA7              ; 20 A7 0A
  1636 3AD2 68			            pla                    ; 68
  1637 3AD3 2C F1 0C		L3AD3       bit L0CF1              ; 2C F1 0C
  1638 3AD6 30 12		            bmi L3AEA              ; 30 12
  1639 3AD8 48			            pha                    ; 48
  1640 3AD9 A0 00		            ldy #$00               ; A0 00
  1641 3ADB A2 07		            ldx #$07               ; A2 07
  1642 3ADD 20 C4 0C		            jsr L0CC4              ; 20 C4 0C
  1643 3AE0 C0 00		            cpy #$00               ; C0 00
  1644 3AE2 10 03		            bpl L3AE7              ; 10 03
  1645 3AE4 20 79 0B		            jsr L0B79              ; 20 79 0B
  1646 3AE7 68			L3AE7       pla                    ; 68
  1647 3AE8 A0 01		            ldy #$01               ; A0 01
  1648 3AEA A2 00		L3AEA       ldx #$00               ; A2 00
  1649 3AEC C0 00		            cpy #$00               ; C0 00
  1650 3AEE 60			L3AEE       rts                    ; 60
  1651 3AEF 20 19 09		L3AEF       jsr L0919              ; 20 19 09
  1652 3AF2 4B			            .byte $4B
  1653 3AF3 39 43 1C		            and L1C43,Y            ; 39 43 1C
  1654 3AF6 CA			            dex                    ; CA
  1655 3AF7 6F 43		            .byte $6F,$43
  1656 3AF9 46 F0		            lsr L00F0              ; 46 F0
  1657 3AFB EC 20 7E		            cpx L7E20              ; EC 20 7E
  1658 3AFE 0B			            .byte $0B
  1659 3AFF A0 00		            ldy #$00               ; A0 00
  1660 3B01 B9 3A 0A		            lda L0A3A,Y            ; B9 3A 0A
  1661 3B04 8D 0D 0B		            sta L0B0D              ; 8D 0D 0B
  1662 3B07 B9 E9 0B		            lda L0BE9,Y            ; B9 E9 0B
  1663 3B0A 20 74 09		            jsr L0974              ; 20 74 09
  1664 3B0D 08			            php                    ; 08
  1665 3B0E 03 1A		            .byte $03,$1A
  1666 3B10 0D 1C 00		            .byte $0D,$1C,$00      ; ora ABUFPT
  1667 3B13 30 D9		            bmi L3AEE              ; 30 D9
  1668 3B15 A9 00		            lda #$00               ; A9 00
  1669 3B17 AC 00 0B		L3B17       ldy L0B00              ; AC 00 0B
  1670 3B1A BE 3C 0A		            ldx L0A3C,Y            ; BE 3C 0A
  1671 3B1D 1D 40 03		            ora IOCB0,X            ; 1D 40 03
  1672 3B20 99 F1 0C		            sta L0CF1,Y            ; 99 F1 0C
  1673 3B23 A9 FF		            lda #$FF               ; A9 FF
  1674 3B25 9D 40 03		            sta IOCB0,X            ; 9D 40 03
  1675 3B28 AD 1C 03		L3B28       lda HATABS+2           ; AD 1C 03
  1676 3B2B C9 0A		            cmp #$0A               ; C9 0A
  1677 3B2D F0 2B		            beq L3B5A              ; F0 2B
  1678 3B2F 20 19 09		            jsr L0919              ; 20 19 09
  1679 3B32 C3 1B 4B		            .byte $C3,$1B,$4B
  1680 3B35 39 A2 0B		            and L0BA2,Y            ; 39 A2 0B
  1681 3B38 BD FF FF		L3B38       lda LFFFF,X            ; BD FF FF
  1682 3B3B 9D 98 0A		            sta L0A98,X            ; 9D 98 0A
  1683 3B3E CA			            dex                    ; CA
  1684 3B3F 10 F7		            bpl L3B38              ; 10 F7
  1685 3B41 20 19 09		            jsr L0919              ; 20 19 09
  1686 3B44 4A			            lsr                    ; 4A
  1687 3B45 9C 89		            .byte $9C,$89
  1688 3B47 B8			            clv                    ; B8
  1689 3B48 4A			            lsr                    ; 4A
  1690 3B49 9E			            .byte $9E
  1691 3B4A 4A			            lsr                    ; 4A
  1692 3B4B 6F			            .byte $6F
  1693 3B4C C9 F5		            cmp #$F5               ; C9 F5
  1694 3B4E 8A			            txa                    ; 8A
  1695 3B4F 9C			            .byte $9C
  1696 3B50 20 63 08		            jsr L0863              ; 20 63 08
  1697 3B53 B8			            clv                    ; B8
  1698 3B54 09 20		            ora #$20               ; 09 20
  1699 3B56 63			            .byte $63
  1700 3B57 08			            php                    ; 08
  1701 3B58 BA			            tsx                    ; BA
  1702 3B59 09 AD		            ora #$AD               ; 09 AD
  1703 3B5B F1 0C		            sbc (DOSINI),Y         ; F1 0C
  1704 3B5D 2D F2 0C		            and L0CF2              ; 2D F2 0C
  1705 3B60 30 8D		            bmi L3AEF              ; 30 8D
  1706 3B62 20 19 09		            jsr L0919              ; 20 19 09
  1707 3B65 4B 3C 43 1C		            .byte $4B,$3C,$43,$1C
  1708 3B69 CA			            dex                    ; CA
  1709 3B6A 9E 43		            .byte $9E,$43
  1710 3B6C 46 F0		            lsr L00F0              ; 46 F0
  1711 3B6E 8B			            .byte $8B
  1712 3B6F D0 2F		            bne L3BA0              ; D0 2F
  1713 3B71 AD 1A 0D		            lda L0D1A              ; AD 1A 0D
  1714 3B74 CD 79 0D		            cmp L0D79              ; CD 79 0D
  1715 3B77 D0 27		            bne L3BA0              ; D0 27
  1716 3B79 A0 00		            ldy #$00               ; A0 00
  1717 3B7B 2C A0 01		            bit L01A0              ; 2C A0 01
  1718 3B7E 98			            tya                    ; 98
  1719 3B7F 29 01		L3B7F       and #$01               ; 29 01
  1720 3B81 A8			            tay                    ; A8
  1721 3B82 8C 00 0B		            sty L0B00              ; 8C 00 0B
  1722 3B85 B9 F1 0C		            lda L0CF1,Y            ; B9 F1 0C
  1723 3B88 30 9E		            bmi L3B28              ; 30 9E
  1724 3B8A A2 03		            ldx #$03               ; A2 03
  1725 3B8C 20 C4 0C		            jsr L0CC4              ; 20 C4 0C
  1726 3B8F A9 FF		            lda #$FF               ; A9 FF
  1727 3B91 30 84		            bmi L3B17              ; 30 84
  1728 3B93 A9 20		L3B93       lda #$20               ; A9 20
  1729 3B95 20 62 07		            jsr L0762              ; 20 62 07
  1730 3B98 A0 45		            ldy #$45               ; A0 45
  1731 3B9A 20 BE 07		            jsr L07BE              ; 20 BE 07
  1732 3B9D A0 01		            ldy #$01               ; A0 01
  1733 3B9F 2C A0 00		            .byte $2C,$A0,$00      ; bit L00A0
  1734 3BA2 20 FC 0A		            jsr L0AFC              ; 20 FC 0A
  1735 3BA5 10 1A		            bpl L3BC1              ; 10 1A
  1736 3BA7 4C 94 0A		            jmp L0A94              ; 4C 94 0A
  1737 3BAA AD 38 0D		            lda L0D38              ; AD 38 0D
  1738 3BAD C9 2D		            cmp #$2D               ; C9 2D
  1739 3BAF F0 E2		            beq L3B93              ; F0 E2
  1740 3BB1 C9 3B		            cmp #$3B               ; C9 3B
  1741 3BB3 F0 0C		            beq L3BC1              ; F0 0C
  1742 3BB5 20 66 07		            jsr L0766              ; 20 66 07
  1743 3BB8 D0 08		            bne L3BC2              ; D0 08
  1744 3BBA 20 19 09		            jsr L0919              ; 20 19 09
  1745 3BBD CD 1A 4D		            cmp L4D1A              ; CD 1A 4D
  1746 3BC0 79 60 20		            adc L2060,Y            ; 79 60 20
  1747
  1748 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  1749 				; begin statement table
  1750 3BC3 33 0C		            .byte $33,$0C
  1751 3BC5 52 45 4E 41 4D	            .byte 'RENAM'
  1752 3BCA C5			            .byte $C5
  1753 3BCB 45 52 41 53		            .byte 'ERAS'
  1754 3BCF C5 9B		            .byte $C5,$9B
  1755 3BD1 50 52 4F 54 45 43	            .byte 'PROTEC'
  1756 3BD7 D4			            .byte $D4
  1757 3BD8 55 4E 50 52 4F 54 +             .byte 'UNPROTEC'
  1758 3BE0 D4 9B		            .byte $D4,$9B
  1759 3BE2 45 72 72 6F 72	            .byte 'Error'
  1760 3BE7 9B 9B 90 94		            .byte $9B,$9B,$90,$94
  1761 3BEB 4D			            .byte 'M'		; MD make dir
  1762 3BEC C4			            .byte $C4
  1763 3BED 52			            .byte 'R'		; RD remove dir
  1764 3BEE C4			            .byte $C4
  1765 3BEF 43			            .byte 'C'
  1766 3BF0 C4			            .byte $C4
  1767 3BF1 4C 4F 41		            .byte 'LOA'
  1768 3BF4 C4			            .byte $C4
  1769 3BF5 43 41		            .byte 'CA'
  1770 3BF7 D2			            .byte $D2
  1771 3BF8 52 55		            .byte 'RU'
  1772 3BFA CE			            .byte $CE
  1773 3BFB 50 52 49 4E		            .byte 'PRIN'
  1774 3BFF D4			            .byte $D4
  1775 3C00 54 59 50		            .byte 'TYP'
  1776 3C03 C5			            .byte $C5
  1777 3C04 44 49		            .byte 'DI'
  1778 3C06 D2			            .byte $D2
  1779 3C07 44 49 52		            .byte 'DIR'
  1780 3C0A D3			            .byte $D3
  1781 3C0B 42 41 53 49		            .byte 'BASI'
  1782 3C0F C3			            .byte $C3
  1783 3C10 00			            .byte $00
  1784 				; free 9 bytes (from CWD-CD etc.)            
  1785 3C11 00 00		            .byte $00,$00
  1786 3C13 00 00		            .byte $00,$00
  1787 3C15 00 00		            .byte $00,$00
  1788 3C17 00 00		            .byte $00,$00
  1789 3C19 00			            .byte $00
  1790
  1791 				; end statement table
  1792
  1793 3C1A 20 71 0A		            jsr L0A71              ; 20 71 0A
  1794 3C1D A0 4A		            ldy #$4A               ; A0 4A
  1795 3C1F 20 BE 07		            jsr L07BE              ; 20 BE 07
  1796 3C22 18			            clc                    ; 18
  1797 3C23 A9 04		L3C23       lda #$04               ; A9 04
  1798 3C25 2A			L3C25       rol                    ; 2A
  1799 3C26 8D 2C 0C		            sta L0C2C              ; 8D 2C 0C
  1800 3C29 20 72 09		            jsr L0972              ; 20 72 09
  1801 3C2C 08			            php                    ; 08
  1802 3C2D 28			            plp                    ; 28
  1803 3C2E 1A			L3C2E       .byte $1A
  1804 3C2F 0D 1C 00		            .byte $0D,$1C,$00      ; ora ABUFPT
  1805 3C32 60			L3C32       rts                    ; 60
  1806 3C33 A2 FF		            ldx #$FF               ; A2 FF
  1807 3C35 86 43		            stx FMSZPG             ; 86 43
  1808 3C37 A2 00		L3C37       ldx #$00               ; A2 00
  1809 3C39 A0 00		            ldy #$00               ; A0 00
  1810 3C3B E6 43		            inc FMSZPG             ; E6 43
  1811 3C3D 20 C5 08		L3C3D       jsr L08C5              ; 20 C5 08
  1812 3C40 48			            pha                    ; 48
  1813 3C41 59 1D 0D		            eor L0D1D,Y            ; 59 1D 0D
  1814 3C44 0A			            asl                    ; 0A
  1815 3C45 F0 01		            beq L3C48              ; F0 01
  1816 3C47 CA			            dex                    ; CA
  1817 3C48 C8			L3C48       iny                    ; C8
  1818 3C49 68			            pla                    ; 68
  1819 3C4A F0 E6		            beq L3C32              ; F0 E6
  1820 3C4C 10 EF		            bpl L3C3D              ; 10 EF
  1821 3C4E 8A			            txa                    ; 8A
  1822 3C4F 30 E6		            bmi L3C37              ; 30 E6
  1823 3C51 B9 1D 0D		            lda L0D1D,Y            ; B9 1D 0D
  1824 3C54 C9 9B		            cmp #$9B               ; C9 9B
  1825 3C56 D0 DF		            bne L3C37              ; D0 DF
  1826 3C58 20 68 07		            jsr L0768              ; 20 68 07
  1827 3C5B 68			            pla                    ; 68
  1828 3C5C 68			            pla                    ; 68
  1829 3C5D A5 43		            lda FMSZPG             ; A5 43
  1830 3C5F C9 0D		            cmp #$0D               ; C9 0D
  1831 3C61 F0 C0		            beq L3C23              ; F0 C0
  1832 3C63 B0 0F		            bcs L3C74              ; B0 0F
  1833 3C65 69 20		            adc #$20               ; 69 20
  1834 3C67 8D 6E 0C		            sta L0C6E              ; 8D 6E 0C
  1835 3C6A 20 72 09		            jsr L0972              ; 20 72 09
  1836 3C6D 00 00 1A		            .byte $00,$00,$1A
  1837 3C70 0D 1C 00		            .byte $0D,$1C,$00      ; ora ABUFPT
  1838 3C73 60			            rts                    ; 60
  1839
  1840 3C74 A8			L3C74       tay                    ; A8
  1841 3C75 B9 08 07		            lda L0708,Y            ; B9 08 07
  1842 3C78 48			            pha                    ; 48
  1843 3C79 B9 01 07		            lda L0701,Y            ; B9 01 07
  1844 3C7C 48			            pha                    ; 48
  1845 3C7D E0 03		            cpx #$03               ; E0 03
  1846 3C7F 60			            rts                    ; 60
  1847
  1848 3C80 A9 80		            lda #$80               ; A9 80
  1849 3C82 49 12		            eor #$12               ; 49 12
  1850 3C84 48			            pha                    ; 48
  1851 3C85 BD 19 0D		            lda L0D19,X            ; BD 19 0D
  1852 3C88 C9 38		            cmp #$38               ; C9 38
  1853 3C8A F0 0B		            beq L3C97              ; F0 0B
  1854 3C8C 29 F9		            and #$F9               ; 29 F9
  1855 3C8E C9 38		            cmp #$38               ; C9 38
  1856 3C90 D0 05		            bne L3C97              ; D0 05
  1857 3C92 A0 4F		            ldy #$4F               ; A0 4F
  1858 3C94 20 BE 07		            jsr L07BE              ; 20 BE 07
  1859 3C97 68			L3C97       pla                    ; 68
  1860 3C98 49 9F		            eor #$9F               ; 49 9F
  1861 3C9A 8D A0 0C		            sta L0CA0              ; 8D A0 0C
  1862 3C9D 20 72 09		            jsr L0972              ; 20 72 09
  1863 3CA0 08			            php                    ; 08
  1864 3CA1 03 1A		            .byte $03,$1A
  1865 3CA3 0D 1C 00		            .byte $0D,$1C,$00      ; ora ABUFPT
  1866 3CA6 20 6B 09		L3CA6       jsr L096B              ; 20 6B 09
  1867 3CA9 44 07		            .byte $44,$07
  1868 3CAB 38			            sec                    ; 38
  1869 3CAC 0D 40 00		            .byte $0D,$40,$00      ; ora FREQ
  1870 3CAF 08			            php                    ; 08
  1871 3CB0 20 19 09		            jsr L0919              ; 20 19 09
  1872 3CB3 C3			            .byte $C3
  1873 3CB4 58			            cli                    ; 58
  1874 3CB5 4C BE 20		            jmp L20BE              ; 4C BE 20
  1875 3CB8 6B			            .byte $6B
  1876 3CB9 09 40		            ora #$40               ; 09 40
  1877 3CBB 0B			            .byte $0B
  1878 3CBC 38			            sec                    ; 38
  1879 3CBD 0D 40 00		            .byte $0D,$40,$00      ; ora FREQ
  1880 3CC0 28			            plp                    ; 28
  1881 3CC1 10 E3		            bpl L3CA6              ; 10 E3
  1882 3CC3 60			            rts                    ; 60
  1883 3CC4 85 45		            sta FMSZPG+2           ; 85 45
  1884 3CC6 8A			            txa                    ; 8A
  1885 3CC7 48			            pha                    ; 48
  1886 3CC8 BE F1 0C		            ldx L0CF1,Y            ; BE F1 0C
  1887 3CCB BD 1B 03		            lda HATABS+1,X         ; BD 1B 03
  1888 3CCE 85 43		            sta FMSZPG             ; 85 43
  1889 3CD0 BD 1C 03		            lda HATABS+2,X         ; BD 1C 03
  1890 3CD3 85 44		            sta FMSZPG+1           ; 85 44
  1891 3CD5 BE 3C 0A		            ldx L0A3C,Y            ; BE 3C 0A
  1892 3CD8 68			            pla                    ; 68
  1893 3CD9 A8			            tay                    ; A8
  1894 3CDA B1 43		            lda (FMSZPG),Y         ; B1 43
  1895 3CDC 48			            pha                    ; 48
  1896 3CDD 88			            dey                    ; 88
  1897 3CDE B1 43		            lda (FMSZPG),Y         ; B1 43
  1898 3CE0 48			            pha                    ; 48
  1899 3CE1 A5 45		            lda FMSZPG+2           ; A5 45
  1900 3CE3 60			            rts                    ; 60
  1901
  1902 				; start of COMTAB
  1903 3CE4 FF			            .byte $FF				; COMTAB-21: DWARM $0CE4
  1904 3CE5 80			            .byte $80
  1905 3CE6 20 20 20 20					.byte $20,$20,$20,$20	; COMTAB-19: DECOUT
  1906 3CEA 20 20 20 20					.byte $20,$20,$20,$20
  1907 3CEE 4C						.byte $4C				; jmp SIO
  1908 				; CHANGE: set LSIO
  1909 3CEF 64 1F					.word RAMDSIO-$3000		; COMTAB-10: LSIO
  1910 				;			.word $E459				; COMTAB-10: LSIO
  1911 3CF1 FF						.byte $FF				; COMTAB-8: ECHOFLG
  1912 3CF2 FF			            .byte $FF				; COMTAB-7: BATFLG 
  1913 3CF3 00 00 00 00		            .byte $00,$00,$00,$00	; COMTAB-6: DECIN
  1914 3CF7 50						.byte $50				; COMTAB-2: WRTCMD 
  1915 3CF8 FF						.byte $FF
  1916 				; DOSVEC =>
  1917 3CF9 4C E1 09		            jmp L09E1               ; COMTAB: Jump to DOS CP
  1918 3CFC 4C 66 07		            jmp L0766               ; COMTAB+3: CRNAME
  1919 3CFF FC 0A		            .word $0AFC				; COMTAB+6: DIVIO
  1920 3D01 7E 0B		            .word $0B7E				; COMTAB+8: XDIVIO
  1921 3D03 00			            .byte $00      			; COMTAB+10: BUFOFF
  1922 3D04 00 07		            .byte $00,$07
  1923 3D06 1C 0B 5F		            .byte $1C,$0B,$5F		; COMTAB+13: DATER 28.11.95
  1924 3D09 16 0E 06					.byte $16,$0E,$06		; COMTAB+16 TIMER 22:14:06
  1925 3D0C 1C 0B 5F		            .byte $1C,$0B,$5F		; COMTAB+19 ODATER
  1926 3D0F 16 0E 06					.byte $16,$0E,$06		; COMTAB+22 OTIMER
  1927 3D12 00						.byte $00				; COMTAB+25 TDOVER
  1928 3D13 5E 08		            .word $085E				; COMTAB+26 TRUN
  1929 3D15 11 17		            .byte $11,$17			; ??? buffer adr ???
  1930 3D17 3E 21		            .word TCDRVEND-$3000	; COMTAB+30 SMEMLO start up MEMLO
  1931 3D19 00			            .byte $00				; COMTAB+32 INCMND Reset $00-CP $FF-Cart
  1932 3D1A 44 31 3A 53 54 41 + 			.byte 'D1:STARTUP.BAT',$9B ; COMTAB+33 COMFNAM 28 Bytes
  1933 3D29 20 20 20					.byte $20,$20,$20
  1934 3D2C 20 20 20					.byte $20,$20,$20
  1935 3D2F 20 20 20					.byte $20,$20,$20
  1936 3D32 20 20 20 20					.byte $20,$20,$20,$20
  1937 3D36 5E 08					.word $085E				; COMTAB+61 RUNLOC address for RUN
  1938 													; COMTAB+63  LBUF comman line buffer 64 Bytes
  1939
  1940 3D38 20 F2 07		            jsr L07F2              ; 20 F2 07
  1941 3D3B A9 FF		            lda #$FF               ; A9 FF
  1942 3D3D 85 47		            sta FMSZPG+4           ; 85 47
  1943 3D3F A0 01		            ldy #$01               ; A0 01
  1944 3D41 20 FC 0A		            jsr L0AFC              ; 20 FC 0A
  1945 3D44 30 0F		            bmi L3D55              ; 30 0F
  1946 3D46 20 71 0A		            jsr L0A71              ; 20 71 0A
  1947 3D49 8E 44 02		            stx COLDST             ; 8E 44 02
  1948 3D4C A5 09		            lda BOOT               ; A5 09
  1949 3D4E 09 01		            ora #$01               ; 09 01
  1950 3D50 85 09		            sta BOOT               ; 85 09
  1951 3D52 4C E1 09		            jmp L09E1              ; 4C E1 09
  1952
  1953 3D55 18			L3D55       clc                    ; 18
  1954 3D56 60			            rts                    ; 60
  1955 3D57 20 20 20		            jsr L2020              ; 20 20 20
  1956 3D5A 20 20 20		            jsr L2020              ; 20 20 20
  1957 3D5D 20 20 20		            jsr L2020              ; 20 20 20
  1958 3D60 20 20 20		            jsr L2020              ; 20 20 20
  1959 3D63 20 20 20		            jsr L2020              ; 20 20 20
  1960 3D66 20 20 20		            jsr L2020              ; 20 20 20
  1961 3D69 20 20 20		            jsr L2020              ; 20 20 20
  1962 3D6C 20 20 20		            jsr L2020              ; 20 20 20
  1963 3D6F 20 20 20		            jsr L2020              ; 20 20 20
  1964 3D72 20 20 20		            jsr L2020              ; 20 20 20
  1965 3D75 20 20 20		            jsr L2020              ; 20 20 20
  1966 3D78 9B 44		            .byte $9B,$44
  1967 3D7A 31 3A		            and (XMTDON),Y         ; 31 3A
  1968 3D7C 9B			            .byte $9B
  1969 3D7D 2E 42 41		            rol L4142              ; 2E 42 41
  1970 3D80 54 9B		            .byte $54,$9B
  1971 3D82 2E 43 4F		            rol L4F43              ; 2E 43 4F
  1972 3D85 4D 9B 2A		            eor L2A9B              ; 4D 9B 2A
  1973 3D88 2E 2A 9B		            rol L9B2A              ; 2E 2A 9B
  1974 3D8B 56 6F		            lsr SHFAMT,X           ; 56 6F
  1975 3D8D 6C 75 6D		            jmp (L6D75)            ; 6C 75 6D
  1976 3D90 65 3A		            adc XMTDON             ; 65 3A
  1977 3D92 20 20 20		            jsr L2020              ; 20 20 20
  1978 3D95 20 20 20		            jsr L2020              ; 20 20 20
  1979 3D98 20 20 20		            jsr L2020              ; 20 20 20
  1980 3D9B 20 20 20		            jsr L2020              ; 20 20 20
  1981 3D9E 20 20 20		            jsr L2020              ; 20 20 20
  1982 3DA1 20 20 20		            jsr L2020              ; 20 20 20
  1983 3DA4 20 20 20		            jsr L2020              ; 20 20 20
  1984 3DA7 20 20 20		            jsr L2020              ; 20 20 20
  1985 3DAA 20 20 20		            jsr L2020              ; 20 20 20
  1986 3DAD 20 20 20		            jsr L2020              ; 20 20 20
  1987 3DB0 20 20 20		            jsr L2020              ; 20 20 20
  1988 3DB3 20 20 20		            jsr L2020              ; 20 20 20
  1989 3DB6 20 20 20		            jsr L2020              ; 20 20 20
  1990 3DB9 20 20 20		            jsr L2020              ; 20 20 20
  1991 3DBC 20 20 20		            jsr L2020              ; 20 20 20
  1992 3DBF 20 20 20		            jsr L2020              ; 20 20 20
  1993 3DC2 20 20 20		            jsr L2020              ; 20 20 20
  1994 3DC5 20 9B 44		            jsr L449B              ; 20 9B 44
  1995 3DC8 69 72		            adc #$72               ; 69 72
  1996 3DCA 65 63		            adc LOGCOL             ; 65 63
  1997 3DCC 74 6F 72		            .byte $74,$6F,$72
  1998 3DCF 79 3A C4		            adc LC43A,Y            ; 79 3A C4
  1999 3DD2 C9 D2		            cmp #$D2               ; C9 D2
  2000 3DD4 3C 44		            .byte $3C,$44
  2001 3DD6 49 52		            eor #$52               ; 49 52
  2002 3DD8 3E 46 52		            rol L5246,X            ; 3E 46 52
  2003 3DDB 45 45		            eor FMSZPG+2           ; 45 45
  2004 3DDD 20 53 45		            jsr L4553              ; 20 53 45
  2005 3DE0 43 54 4F 52 53 00 +             .byte $43,$54,$4F,$52,$53,$00,$00,$00
  2006 3DE8 00 80		            .byte $00,$80
  2007 3DEA 20 20 20		            jsr L2020              ; 20 20 20
  2008 3DED 20 20 20		            jsr L2020              ; 20 20 20
  2009 3DF0 20 20 FF		            jsr LFF20              ; 20 20 FF
  2010 3DF3 FF 44 4F 53		            .byte $FF,$44,$4F,$53
  2011 3DF7 20 20 20		            jsr L2020              ; 20 20 20
  2012 3DFA 20 20 20		            jsr L2020              ; 20 20 20
  2013 3DFD 20 20 21		            jsr L2120              ; 20 20 21
  2014 3E00 00 00 00 02 00 1C +             .byte $00,$00,$00,$02,$00,$1C,$17,$00
  2015 3E08 01 00		            ora ($00,X)            ; 01 00
  2016 				;            and L1AA2              ; 2D A2 1A
  2017 3E0A 2D						.byte $2D
  2018
  2019 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  2020 				; start
  2021 3E0B A2 1A		L3E0B		ldx #$1A			
  2022 3E0D BD 00 03		L3E0D       lda DDEVIC,X           ; BD 00 03
  2023 3E10 C9 45		            cmp #$45               ; C9 45
  2024 3E12 F0 0A		            beq L3E1E              ; F0 0A
  2025 3E14 E8			            inx                    ; E8
  2026 3E15 E8			            inx                    ; E8
  2027 3E16 E8			            inx                    ; E8
  2028 3E17 E0 3B		            cpx #$3B               ; E0 3B
  2029 3E19 90 F2		            bcc L3E0D              ; 90 F2
  2030 3E1B 4C 71 E4		            jmp SELFSV             ; 4C 71 E4
  2031 3E1E E8			L3E1E       inx                    ; E8
  2032 3E1F 8E 33 0B		            stx L0B33              ; 8E 33 0B
  2033 3E22 8E 68 0B		            stx L0B68              ; 8E 68 0B
  2034 3E25 8E F5 0A		            stx L0AF5              ; 8E F5 0A
  2035 3E28 E8			            inx                    ; E8
  2036 3E29 8E 29 0B		            stx L0B29              ; 8E 29 0B
  2037 3E2C 20 19 09		            jsr L0919              ; 20 19 09
  2038 3E2F CE 62 40		            dec L4062              ; CE 62 40
  2039 3E32 0C			            .byte $0C
  2040 3E33 8A			            txa                    ; 8A
  2041
  2042 				; clear memory form MEMLO to MEMTOP
  2043 				;            ldy #$E4               ; A0 E4
  2044 				;            ldx #$1E               ; A2 1E
  2045 3E34 A0 3E					ldy #$3E
  2046 3E36 A2 21					ldx #$21
  2047 3E38 8E 3D 0E		L3E38       stx L0E3D              ; 8E 3D 0E
  2048 3E3B 99 00 FF		L3E3B       sta LFF00,Y            ; 99 00 FF
  2049 3E3E C8			            iny                    ; C8
  2050 3E3F D0 FA		            bne L3E3B              ; D0 FA
  2051 3E41 E8			            inx                    ; E8
  2052 3E42 EC E6 02		            cpx MEMTOP+1           ; EC E6 02
  2053 3E45 90 F1		            bcc L3E38              ; 90 F1
  2054
  2055 				; write start text
  2056 3E47 98			L3E47       tya                    ; 98
  2057
  2058 3E48 B9 64 0E		            lda L0E64,Y
  2059 				;            eor L0E64,Y            ; 59 64 0E
  2060
  2061 3E4B F0 12		            beq L3E5F              ; F0 12
  2062 3E4D 8D C9 0E		            sta L0EC9              ; 8D C9 0E
  2063 3E50 98			            tya                    ; 98
  2064 3E51 48			            pha                    ; 48
  2065 3E52 20 6F 09		            jsr L096F              ; 20 6F 09
  2066
  2067 				;			anc #$C9               ???
  2068 				;			asl $0001
  2069 3E55 0B			            .byte $0B
  2070 3E56 C9 0E		            cmp #$0E               ; C9 0E
  2071 3E58 01 00		            ora ($00,X)            ; 01 00
  2072
  2073 3E5A 68			            pla                    ; 68
  2074 3E5B A8			            tay                    ; A8
  2075 3E5C C8			            iny                    ; C8
  2076 3E5D D0 E8		            bne L3E47              ; D0 E8
  2077
  2078 				; CHANGE: set TC off
  2079 				;L3E5F       jmp $0E8A              ; 4C 38 0D
  2080 3E5F 4C 38 0D		L3E5F       jmp L0D38              ; 4C 38 0D
  2081
  2082 				; set DOSINI
  2083 3E62 E0 07		            .word $07E0
  2084
  2085 				; start text BW-DOS etc.
  2086
  2087 3E64 9B 42 57 2D 44 4F +             .byte $9b,'BW-DOS TC 1.31b BEWESOFT & HJX 2020',$9B,$00
  2088 				           
  2089 				;; CHANGE: add TC off
  2090 				;			lda #$00
  2091 				;			sta TCMOSL
  2092 				;			sta TCPBRL      ; set S bank 
  2093 				;			sta TCPBEN      ; disable S
  2094 				;			sta TCPBRH
  2095 				;			sta TCPBEN      ; disable S
  2096
  2097 				; CHANGE: legt margin 0
  2098 				;			lda #$00
  2099 				;            sta $52
  2100 				;            jmp L0D38              ; 4C 38 0D
  2101
  2102 				;            .byte $9B,$21,$22,$23,$24,$25,$26,$27
  2103 				;            .byte $36,$37,$2A,$49,$5B,$20,$4A,$40
  2104 				;            .byte $43,$31,$44,$76,$66,$3B,$36,$26
  2105 				;            .byte $36,$2A,$2A,$3B,$20,$21,$85,$3F
  2106 				;            .byte $08,$62,$0B,$03,$66,$60,$71,$62
  2107 				;            .byte $7B,$66,$6C,$7F,$0C,$1C,$17,$16
  2108 				;            .byte $05,$11,$12,$1B,$7E,$5C,$44,$5E
  2109 				;            .byte $18,$7B,$5F,$49,$52,$5C,$4D,$5A
  2110 				;            .byte $2B,$68,$D9,$63,$64,$65,$66,$13
  2111 				;            .byte $20,$20,$39,$6B,$25,$3E,$6E,$2E
  2112 				;            .byte $70,$17,$20,$36,$31,$02,$37,$25
  2113 				;            .byte $3D,$79,$2A,$29,$33,$3A,$2C,$3E
  2114 				;            .byte $0D,$41,$43,$F8,$64
  2115
  2116 				;			.byte $42,$56,$2F,$47,$4B,$56,$26,$36
  2117 				;			.byte $26,$3A,$3A,$43,$46,$55,$2E,$27
  2118 				;			.byte $73,$38,$32,$51,$51,$42,$53,$44
  2119 				;			.byte $57,$5F,$4E,$3B,$2D,$24,$27,$2A
  2120 				;			.byte $BB,$21
  2121
  2122 				; end text BW-DOS etc.
  2123 				;
  2124 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  2125
  2126 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  2127 				;
  2128 3E8A			            org $3F4C
  2129 				;
  2130 3F4C-4710> AE 3D 0E	            ldx L0E3D              ; AE 3D 0E
  2131 3F4F AD 3E 0E		            lda L0E3E              ; AD 3E 0E
  2132 3F52 20 E9 1B		            jsr L1BE9              ; 20 E9 1B
  2133 3F55 AC 3F 0E		            ldy L0E3F              ; AC 3F 0E
  2134 3F58 60			            rts                    ; 60
  2135 3F59 B9 58 0F		            lda L0F58,Y            ; B9 58 0F
  2136 3F5C 29 1F		            and #$1F               ; 29 1F
  2137 3F5E 48			            pha                    ; 48
  2138 3F5F B9 46 0F		            lda L0F46,Y            ; B9 46 0F
  2139 3F62 48			            pha                    ; 48
  2140 3F63 A6 46		            ldx FMSZPG+3           ; A6 46
  2141 3F65 60			            rts                    ; 60
  2142 3F66 D0 D0		            bne L3F38              ; D0 D0
  2143 3F68 96 D0		            stx L00D0,Y            ; 96 D0
  2144 3F6A D0 31		            bne L3F9D              ; D0 31
  2145 3F6C E8			            inx                    ; E8
  2146 3F6D EB			            .byte $EB
  2147 3F6E 21 8F		            and (L008F,X)          ; 21 8F
  2148 3F70 89			            .byte $89
  2149 3F71 19 94 7C		            ora L7C94,Y            ; 19 94 7C
  2150 3F74 E8			            inx                    ; E8
  2151 3F75 53			            .byte $53
  2152 3F76 8C 95 FC		            sty LFC95              ; 8C 95 FC
  2153 3F79 FC			            .byte $FC
  2154 3F7A 95 FC		            sta L00FC,X            ; 95 FC
  2155 3F7C FC 34		            .byte $FC,$34
  2156 3F7E 36 36		            rol LTEMP,X            ; 36 36
  2157 3F80 3E D5 F5		            rol LF5D5,X            ; 3E D5 F5
  2158 3F83 FD FA 53		            sbc L53FA,X            ; FD FA 53
  2159 3F86 12			            .byte $12
  2160 3F87 F1 12		            sbc (RTCLOK),Y         ; F1 12
  2161 3F89 12			            .byte $12
  2162 3F8A A4 22		            ldy ICCOMZ             ; A4 22
  2163 3F8C 8D DC 10		            sta L10DC              ; 8D DC 10
  2164 3F8F 98			            tya                    ; 98
  2165 3F90 29 F0		            and #$F0               ; 29 F0
  2166 3F92 C9 20		            cmp #$20               ; C9 20
  2167 3F94 D0 05		            bne L3F9B              ; D0 05
  2168 3F96 39 58 0F		            and L0F58,Y            ; 39 58 0F
  2169 3F99 D0 14		            bne L3FAF              ; D0 14
  2170 3F9B A0 A8		L3F9B       ldy #$A8               ; A0 A8
  2171 3F9D 60			L3F9D       rts                    ; 60
  2172 3F9E A0 22		            ldy #$22               ; A0 22
  2173 3FA0 2C A0 2D		            bit L2DA0              ; 2C A0 2D
  2174 3FA3 2C A0 30		            bit L30A0              ; 2C A0 30
  2175 3FA6 2C A0 31		            bit L31A0              ; 2C A0 31
  2176 3FA9 2C A0 29		            bit L29A0              ; 2C A0 29
  2177 3FAC 8D DC 10		            sta L10DC              ; 8D DC 10
  2178 3FAF D8			L3FAF       cld                    ; D8
  2179 3FB0 86 46		            stx FMSZPG+3           ; 86 46
  2180 3FB2 A9 01		            lda #$01               ; A9 01
  2181 3FB4 8D BB 10		            sta L10BB              ; 8D BB 10
  2182 3FB7 C0 28		            cpy #$28               ; C0 28
  2183 3FB9 D0 09		            bne L3FC4              ; D0 09
  2184 3FBB 20 59 0F		            jsr L0F59              ; 20 59 0F
  2185 3FBE 2C A0 A1		            bit LA1A0              ; 2C A0 A1
  2186 3FC1 4C DB 10		L3FC1       jmp L10DB              ; 4C DB 10
  2187 3FC4 BA			L3FC4       tsx                    ; BA
  2188 3FC5 8E C3 10		            stx L10C3              ; 8E C3 10
  2189 3FC8 E8			            inx                    ; E8
  2190 3FC9 E8			            inx                    ; E8
  2191 3FCA BD 00 01		            lda L0100,X            ; BD 00 01
  2192 3FCD 8D A3 12		            sta L12A3              ; 8D A3 12
  2193 3FD0 8C 9C 10		            sty L109C              ; 8C 9C 10
  2194 3FD3 B9 58 0F		            lda L0F58,Y            ; B9 58 0F
  2195 3FD6 29 C0		            and #$C0               ; 29 C0
  2196 3FD8 8D EC 0F		            sta L0FEC              ; 8D EC 0F
  2197 3FDB A6 46		            ldx FMSZPG+3           ; A6 46
  2198 3FDD 20 21 11		            jsr L1121              ; 20 21 11
  2199 3FE0 D0 09		            bne L3FEB              ; D0 09
  2200 3FE2 2C EC 0F		            bit L0FEC              ; 2C EC 0F
  2201 3FE5 10 19		            bpl L4000              ; 10 19
  2202 3FE7 A0 81		            ldy #$81               ; A0 81
  2203 3FE9 D0 D6		            bne L3FC1              ; D0 D6
  2204 3FEB A9 00		L3FEB       lda #$00               ; A9 00
  2205 3FED 10 34		            bpl L4023              ; 10 34
  2206 3FEF A2 FF		            ldx #$FF               ; A2 FF
  2207 3FF1 20 21 11		            jsr L1121              ; 20 21 11
  2208 3FF4 D0 C9		            bne L3FBF              ; D0 C9
  2209 3FF6 A5 46		            lda FMSZPG+3           ; A5 46
  2210 3FF8 99 D7 0E		            sta L0ED7,Y            ; 99 D7 0E
  2211 3FFB A5 21		            lda ICDNOZ             ; A5 21
  2212 3FFD 99 D8 0E		            sta L0ED8,Y            ; 99 D8 0E
  2213 4000 8C CD 10		L4000       sty L10CD              ; 8C CD 10
  2214 4003 A2 EB		            ldx #$EB               ; A2 EB
  2215 4005 B9 D7 0E		L4005       lda L0ED7,Y            ; B9 D7 0E
  2216 4008 9D 4D 0D		            sta L0D4D,X            ; 9D 4D 0D
  2217 400B C8			            iny                    ; C8
  2218 400C E8			            inx                    ; E8
  2219 400D D0 F6		            bne L4005              ; D0 F6
  2220 400F A0 68		            ldy #$68               ; A0 68
  2221 4011 B9 55 0E		L4011       lda L0E55,Y            ; B9 55 0E
  2222 4014 CD 39 0E		            cmp L0E39              ; CD 39 0E
  2223 4017 F0 16		            beq L402F              ; F0 16
  2224 4019 98			            tya                    ; 98
  2225 401A 38			            sec                    ; 38
  2226 401B E9 1A		            sbc #$1A               ; E9 1A
  2227 401D A8			            tay                    ; A8
  2228 401E B0 F1		            bcs L4011              ; B0 F1
  2229 4020 20 BE 10		            jsr L10BE              ; 20 BE 10
  2230 4023 A0 85		L4023       ldy #$85               ; A0 85
  2231 4025 AD 9C 10		            lda L109C              ; AD 9C 10
  2232 4028 C9 2D		            cmp #$2D               ; C9 2D
  2233 402A D0 95		            bne L3FC1              ; D0 95
  2234 402C 4C BA 10		            jmp L10BA              ; 4C BA 10
  2235 402F A2 E6		L402F       ldx #$E6               ; A2 E6
  2236 4031 BD 6F 0D		L4031       lda L0D6F,X            ; BD 6F 0D
  2237 4034 48			            pha                    ; 48
  2238 4035 B9 55 0E		            lda L0E55,Y            ; B9 55 0E
  2239 4038 9D 6F 0D		            sta L0D6F,X            ; 9D 6F 0D
  2240 403B 68			            pla                    ; 68
  2241 403C 99 55 0E		            sta L0E55,Y            ; 99 55 0E
  2242 403F C8			            iny                    ; C8
  2243 4040 E8			            inx                    ; E8
  2244 4041 D0 EE		            bne L4031              ; D0 EE
  2245 4043 2C EC 0F		            bit L0FEC              ; 2C EC 0F
  2246 4046 10 4B		            bpl L4093              ; 10 4B
  2247 4048 20 E5 1B		            jsr L1BE5              ; 20 E5 1B
  2248 404B A0 07		            ldy #$07               ; A0 07
  2249 404D B1 43		            lda (FMSZPG),Y         ; B1 43
  2250 404F C9 80		            cmp #$80               ; C9 80
  2251 4051 D0 08		            bne L405B              ; D0 08
  2252 4053 A9 1F		            lda #$1F               ; A9 1F
  2253 4055 A8			            tay                    ; A8
  2254 4056 C8			            iny                    ; C8
  2255 4057 D1 43		            cmp (FMSZPG),Y         ; D1 43
  2256 4059 90 04		            bcc L405F              ; 90 04
  2257 405B 20 BE 10		L405B       jsr L10BE              ; 20 BE 10
  2258 405E 94 A0		            sty L00A0,X            ; 94 A0
  2259 4060 16 B9		            asl L00B9,X            ; 16 B9
  2260 4062 4D 0E D1		L4062       eor LD10E              ; 4D 0E D1
  2261 4065 43			            .byte $43
  2262 4066 D0 15		            bne L407D              ; D0 15
  2263 4068 C8			            iny                    ; C8
  2264 4069 C0 1E		            cpy #$1E               ; C0 1E
  2265 406B 90 F4		            bcc L4061              ; 90 F4
  2266 406D A0 26		            ldy #$26               ; A0 26
  2267 406F B9 45 0E		L406F       lda L0E45,Y            ; B9 45 0E
  2268 4072 D1 43		            cmp (FMSZPG),Y         ; D1 43
  2269 4074 D0 07		            bne L407D              ; D0 07
  2270 4076 C8			            iny                    ; C8
  2271 4077 C0 28		            cpy #$28               ; C0 28
  2272 4079 90 F4		            bcc L406F              ; 90 F4
  2273 407B B0 16		            bcs L4093              ; B0 16
  2274 407D A9 99		L407D       lda #$99               ; A9 99
  2275 407F 20 31 11		            jsr L1131              ; 20 31 11
  2276 4082 C8			            iny                    ; C8
  2277 4083 B1 43		            lda (FMSZPG),Y         ; B1 43
  2278 4085 AC 39 0E		            ldy L0E39              ; AC 39 0E
  2279 4088 99 E9 0D		            sta L0DE9,Y            ; 99 E9 0D
  2280 408B 20 19 09		            jsr L0919              ; 20 19 09
  2281 408E 22			            .byte $22
  2282 408F CC E3 91		            cpy L91E3              ; CC E3 91
  2283 4092 14			            .byte $14
  2284 4093 AC 39 0E		L4093       ldy L0E39              ; AC 39 0E
  2285 4096 B9 E9 0D		            lda L0DE9,Y            ; B9 E9 0D
  2286 4099 85 45		            sta FMSZPG+2           ; 85 45
  2287 409B A0 00		            ldy #$00               ; A0 00
  2288 409D 20 59 0F		            jsr L0F59              ; 20 59 0F
  2289 40A0 2C EC 0F		            bit L0FEC              ; 2C EC 0F
  2290 40A3 50 06		            bvc L40AB              ; 50 06
  2291 40A5 20 E2 10		            jsr L10E2              ; 20 E2 10
  2292 40A8 8E 38 0E		            stx L0E38              ; 8E 38 0E
  2293 40AB AC CD 10		L40AB       ldy L10CD              ; AC CD 10
  2294 40AE A2 EB		            ldx #$EB               ; A2 EB
  2295 40B0 BD 4D 0D		L40B0       lda L0D4D,X            ; BD 4D 0D
  2296 40B3 99 D7 0E		            sta L0ED7,Y            ; 99 D7 0E
  2297 40B6 C8			            iny                    ; C8
  2298 40B7 E8			            inx                    ; E8
  2299 40B8 D0 F6		            bne L40B0              ; D0 F6
  2300 40BA A0 01		            ldy #$01               ; A0 01
  2301 40BC D0 1D		            bne L40DB              ; D0 1D
  2302 40BE 20 C5 08		            jsr L08C5              ; 20 C5 08
  2303 40C1 A8			            tay                    ; A8
  2304 40C2 A2 00		            ldx #$00               ; A2 00
  2305 40C4 9A			            txs                    ; 9A
  2306 40C5 98			            tya                    ; 98
  2307 40C6 48			            pha                    ; 48
  2308 40C7 AD EC 0F		            lda L0FEC              ; AD EC 0F
  2309 40CA F0 07		            beq L40D3              ; F0 07
  2310 40CC A0 00		            ldy #$00               ; A0 00
  2311 40CE A9 FF		            lda #$FF               ; A9 FF
  2312 40D0 99 D7 0E		            sta L0ED7,Y            ; 99 D7 0E
  2313 40D3 20 E2 10		L40D3       jsr L10E2              ; 20 E2 10
  2314 40D6 20 14 11		            jsr L1114              ; 20 14 11
  2315 40D9 68			            pla                    ; 68
  2316 40DA A8			            tay                    ; A8
  2317 40DB A9 00		L40DB       lda #$00               ; A9 00
  2318 40DD A6 46		            ldx FMSZPG+3           ; A6 46
  2319 40DF C0 00		            cpy #$00               ; C0 00
  2320 40E1 60			            rts                    ; 60
  2321 40E2 AE 39 0E		            ldx L0E39              ; AE 39 0E
  2322 40E5 BD 4C 0E		            lda L0E4C,X            ; BD 4C 0E
  2323 40E8 10 11		            bpl L40FB              ; 10 11
  2324 40EA 5E 4C 0E		            lsr L0E4C,X            ; 5E 4C 0E
  2325 40ED 20 E5 1B		            jsr L1BE5              ; 20 E5 1B
  2326 40F0 20 2B 1C		            jsr L1C2B              ; 20 2B 1C
  2327 40F3 EE 6B 0E		            inc L0E6B              ; EE 6B 0E
  2328 40F6 A9 B9		            lda #$B9               ; A9 B9
  2329 40F8 20 31 11		            jsr L1131              ; 20 31 11
  2330 40FB A2 03		L40FB       ldx #$03               ; A2 03
  2331 40FD CA			L40FD       dex                    ; CA
  2332 40FE 30 13		            bmi L4113              ; 30 13
  2333 4100 20 0C 11		            jsr L110C              ; 20 0C 11
  2334 4103 D0 F8		            bne L40FD              ; D0 F8
  2335 4105 90 F6		            bcc L40FD              ; 90 F6
  2336 4107 20 13 1B		            jsr L1B13              ; 20 13 1B
  2337 410A 10 EF		            bpl L40FB              ; 10 EF
  2338 410C BD 40 0F		            lda L0F40,X            ; BD 40 0F
  2339 410F 4D 39 0E		            eor L0E39              ; 4D 39 0E
  2340 4112 0A			            asl                    ; 0A
  2341 4113 60			L4113       rts                    ; 60
  2342 4114 A2 02		            ldx #$02               ; A2 02
  2343 4116 20 0C 11		L4116       jsr L110C              ; 20 0C 11
  2344 4119 D0 03		            bne L411E              ; D0 03
  2345 411B 9D 40 0F		            sta L0F40,X            ; 9D 40 0F
  2346 411E CA			L411E       dex                    ; CA
  2347 411F 10 F5		            bpl L4116              ; 10 F5
  2348 4121 A0 54		            ldy #$54               ; A0 54
  2349 4123 8A			L4123       txa                    ; 8A
  2350 4124 D9 D7 0E		            cmp L0ED7,Y            ; D9 D7 0E
  2351 4127 F0 07		            beq L4130              ; F0 07
  2352 4129 98			            tya                    ; 98
  2353 412A 38			            sec                    ; 38
  2354 412B E9 15		            sbc #$15               ; E9 15
  2355 412D A8			            tay                    ; A8
  2356 412E B0 F3		            bcs L4123              ; B0 F3
  2357 4130 60			L4130       rts                    ; 60
  2358 4131 8D 49 11		            sta L1149              ; 8D 49 11
  2359 4134 8D 3B 11		            sta L113B              ; 8D 3B 11
  2360 4137 A0 26		            ldy #$26               ; A0 26
  2361 4139 B1 43		L4139       lda (FMSZPG),Y         ; B1 43
  2362 413B 99 45 0E		            sta L0E45,Y            ; 99 45 0E
  2363 413E 91 43		            sta (FMSZPG),Y         ; 91 43
  2364 4140 C8			            iny                    ; C8
  2365 4141 C0 28		            cpy #$28               ; C0 28
  2366 4143 90 F4		            bcc L4139              ; 90 F4
  2367 4145 A0 09		            ldy #$09               ; A0 09
  2368 4147 B1 43		L4147       lda (FMSZPG),Y         ; B1 43
  2369 4149 B9 4D 0E		            lda L0E4D,Y            ; B9 4D 0E
  2370 414C 91 43		            sta (FMSZPG),Y         ; 91 43
  2371 414E C8			            iny                    ; C8
  2372 414F C0 1E		            cpy #$1E               ; C0 1E
  2373 4151 90 F4		            bcc L4147              ; 90 F4
  2374 4153 60			            rts                    ; 60
  2375 4154 20 19 09		            jsr L0919              ; 20 19 09
  2376 4157 C0 28		            cpy #$28               ; C0 28
  2377 4159 51 86		            eor (L0086),Y          ; 51 86
  2378 415B A0 20		            ldy #$20               ; A0 20
  2379 415D 20 82 11		            jsr L1182              ; 20 82 11
  2380 4160 A0 1F		            ldy #$1F               ; A0 1F
  2381 4162 20 82 11		            jsr L1182              ; 20 82 11
  2382 4165 A0 0B		            ldy #$0B               ; A0 0B
  2383 4167 20 82 11		L4167       jsr L1182              ; 20 82 11
  2384 416A C0 0F		            cpy #$0F               ; C0 0F
  2385 416C 90 F9		            bcc L4167              ; 90 F9
  2386 416E A0 16		            ldy #$16               ; A0 16
  2387 4170 20 82 11		L4170       jsr L1182              ; 20 82 11
  2388 4173 C0 1E		            cpy #$1E               ; C0 1E
  2389 4175 90 F9		            bcc L4170              ; 90 F9
  2390 4177 A0 26		            ldy #$26               ; A0 26
  2391 4179 20 82 11		            jsr L1182              ; 20 82 11
  2392 417C 20 82 11		            jsr L1182              ; 20 82 11
  2393 417F A9 00		            lda #$00               ; A9 00
  2394 4181 2C B1 43		            bit L43B1              ; 2C B1 43
  2395 4184 C8			            iny                    ; C8
  2396 4185 9D FF FF		            sta LFFFF,X            ; 9D FF FF
  2397 4188 E8			            inx                    ; E8
  2398 4189 60			            rts                    ; 60
  2399 418A A2 FD		            ldx #$FD               ; A2 FD
  2400 418C AD EA 0C		L418C       lda L0CEA              ; AD EA 0C
  2401 418F C9 20		            cmp #$20               ; C9 20
  2402 4191 D0 04		            bne L4197              ; D0 04
  2403 4193 BD EE 0B		            lda L0BEE,X            ; BD EE 0B
  2404 4196 2C A9 39		            bit L39A9              ; 2C A9 39
  2405 4199 09 30		            ora #$30               ; 09 30
  2406 419B 9D EE 0B		            sta L0BEE,X            ; 9D EE 0B
  2407 419E E8			            inx                    ; E8
  2408 419F D0 EB		            bne L418C              ; D0 EB
  2409 41A1 60			            rts                    ; 60
  2410 41A2 20 DA 14		L41A2       jsr L14DA              ; 20 DA 14
  2411 41A5 91 20		            sta (ICHIDZ),Y         ; 91 20
  2412 41A7 19 09 11		            ora L1109,Y            ; 19 09 11
  2413 41AA 8A			            txa                    ; 8A
  2414 41AB 4C EB 6D		            jmp L6DEB              ; 4C EB 6D
  2415 41AE 9D AC 4F		            sta L4FAC,X            ; 9D AC 4F
  2416 41B1 17			            .byte $17
  2417 41B2 F0 61		            beq L4215              ; F0 61
  2418 41B4 20 19 09		L41B4       jsr L0919              ; 20 19 09
  2419 41B7 4E 5A 4C		            lsr L4C5A              ; 4E 5A 4C
  2420 41BA F3 87		            .byte $F3,$87
  2421 41BC 25 A2		            and L00A2              ; 25 A2
  2422 41BE 00			            .byte $00
  2423 41BF 10 E1		            bpl L41A2              ; 10 E1
  2424 41C1 20 DA 14		            jsr L14DA              ; 20 DA 14
  2425 41C4 94 20		            sty ICHIDZ,X           ; 94 20
  2426 41C6 19 09 4C		            ora L4C09,Y            ; 19 09 4C
  2427 41C9 E8			            inx                    ; E8
  2428 41CA CD 9D AC		            cmp LAC9D              ; CD 9D AC
  2429 41CD 4F 1A		            .byte $4F,$1A
  2430 41CF F0 44		            beq L4215              ; F0 44
  2431 41D1 20 DA 14		L41D1       jsr L14DA              ; 20 DA 14
  2432 41D4 12			            .byte $12
  2433 41D5 20 19 09		            jsr L0919              ; 20 19 09
  2434 41D8 AB			            .byte $AB
  2435 41D9 9D 15 AD		            sta LAD15,X            ; 9D 15 AD
  2436 41DC 21 0E		            and (APPMHI,X)         ; 21 0E
  2437 41DE 4A			            lsr                    ; 4A
  2438 41DF 90 05		            bcc L41E6              ; 90 05
  2439 41E1 A2 2A		            ldx #$2A               ; A2 2A
  2440 41E3 8E 9D 0D		            stx L0D9D              ; 8E 9D 0D
  2441 41E6 29 10		L41E6       and #$10               ; 29 10
  2442 41E8 F0 06		            beq L41F0              ; F0 06
  2443 41EA 20 19 09		            jsr L0919              ; 20 19 09
  2444 41ED A3 47		            .byte $A3,$47
  2445 41EF 1D AD 24		            ora L24AD,X            ; 1D AD 24
  2446 41F2 0E AE 25		            asl L25AE              ; 0E AE 25
  2447 41F5 0E AC 26		            asl L26AC              ; 0E AC 26
  2448 41F8 0E 20 FD		            asl LFD20              ; 0E 20 FD
  2449 41FB 14			            .byte $14
  2450 41FC C9 00		            cmp #$00               ; C9 00
  2451 41FE F0 04		            beq L4204              ; F0 04
  2452 4200 E8			            inx                    ; E8
  2453 4201 D0 01		            bne L4204              ; D0 01
  2454 4203 C8			            iny                    ; C8
  2455 4204 8E F3 0C		L4204       stx L0CF3              ; 8E F3 0C
  2456 4207 8C F4 0C		            sty L0CF4              ; 8C F4 0C
  2457 420A 20 19 09		            jsr L0919              ; 20 19 09
  2458 420D 07			            .byte $07
  2459 420E 25 11		            and BRKKEY             ; 25 11
  2460 4210 8A			            txa                    ; 8A
  2461 4211 CC EB 6D		            cpy L6DEB              ; CC EB 6D
  2462 4214 AB			            .byte $AB
  2463 4215 F0 5D		L4215       beq L4274              ; F0 5D
  2464 4217 20 19 09		L4217       jsr L0919              ; 20 19 09
  2465 421A 2B			            .byte $2B
  2466 421B 08			            php                    ; 08
  2467 421C 81 9D		            sta (L009D,X)          ; 81 9D
  2468 421E BF			            .byte $BF
  2469 421F D0 93		            bne L41B4              ; D0 93
  2470 4221 2C BE 11		            bit L11BE              ; 2C BE 11
  2471 4224 10 AB		            bpl L41D1              ; 10 AB
  2472 4226 20 DA 14		            jsr L14DA              ; 20 DA 14
  2473 4229 24 20		            bit ICHIDZ             ; 24 20
  2474 422B 19 09 28		            ora L2809,Y            ; 19 09 28
  2475 422E 9D 13 23		            sta L2313,X            ; 9D 13 23
  2476 4231 A5 1C		            lda ABUFPT             ; A5 1C
  2477 4233 25 4A		            and ZCHAIN             ; 25 4A
  2478 4235 20 21 80		            jsr L8021              ; 20 21 80
  2479 4238 29 21		            and #$21               ; 29 21
  2480 423A 80			            .byte $80
  2481 423B 2C A1 07		            bit L07A1              ; 2C A1 07
  2482 423E 32			            .byte $32
  2483 423F AD 21 0E		            lda L0E21              ; AD 21 0E
  2484 4242 29 20		            and #$20               ; 29 20
  2485 4244 D0 0D		            bne L4253              ; D0 0D
  2486 4246 20 19 09		            jsr L0919              ; 20 19 09
  2487 4249 4E 24 6C		            lsr L6C24              ; 4E 24 6C
  2488 424C F3 07		            .byte $F3,$07
  2489 424E 2A			            rol                    ; 2A
  2490 424F CC E7 ED		            cpy LEDE7              ; CC E7 ED
  2491 4252 A9 A0		            lda #$A0               ; A9 A0
  2492 4254 FB			            .byte $FB
  2493 4255 8A			L4255       txa                    ; 8A
  2494 4256 48			            pha                    ; 48
  2495 4257 B9 37 0D		            lda L0D37,Y            ; B9 37 0D
  2496 425A 20 1D 07		            jsr L071D              ; 20 1D 07
  2497 425D 20 8A 11		            jsr L118A              ; 20 8A 11
  2498 4260 68			            pla                    ; 68
  2499 4261 AA			            tax                    ; AA
  2500 4262 AD EC 0C		            lda L0CEC              ; AD EC 0C
  2501 4265 9D B1 0D		            sta L0DB1,X            ; 9D B1 0D
  2502 4268 AD ED 0C		            lda L0CED              ; AD ED 0C
  2503 426B 9D B2 0D		            sta L0DB2,X            ; 9D B2 0D
  2504 426E E8			            inx                    ; E8
  2505 426F E8			            inx                    ; E8
  2506 4270 E8			            inx                    ; E8
  2507 4271 C8			            iny                    ; C8
  2508 4272 D0 E1		            bne L4255              ; D0 E1
  2509 4274 CE 84 12		L4274       dec L1284              ; CE 84 12
  2510 4277 A2 00		            ldx #$00               ; A2 00
  2511 4279 BD 9D 0D		            lda L0D9D,X            ; BD 9D 0D
  2512 427C EE 78 12		            inc L1278              ; EE 78 12
  2513 427F 8D DC 10		            sta L10DC              ; 8D DC 10
  2514 4282 60			            rts                    ; 60
  2515 4283 A9 00		L4283       lda #$00               ; A9 00
  2516 4285 0A			            asl                    ; 0A
  2517 4286 D0 EC		            bne L4274              ; D0 EC
  2518 4288 B0 64		            bcs L42EE              ; B0 64
  2519 428A 4C 17 12		            jmp L1217              ; 4C 17 12
  2520 428D AE 48 0E		            ldx L0E48              ; AE 48 0E
  2521 4290 E0 16		            cpx #$16               ; E0 16
  2522 4292 F0 EF		            beq L4283              ; F0 EF
  2523 4294 A9 6A		            lda #$6A               ; A9 6A
  2524 4296 49 6A		            eor #$6A               ; 49 6A
  2525 4298 85 48		            sta FMSZPG+5           ; 85 48
  2526 429A 29 0C		            and #$0C               ; 29 0C
  2527 429C 49 07		L429C       eor #$07               ; 49 07
  2528 429E C5 22		            cmp ICCOMZ             ; C5 22
  2529 42A0 D0 3D		            bne L42DF              ; D0 3D
  2530 42A2 A9 00		            lda #$00               ; A9 00
  2531 42A4 C9 E4		            cmp #$E4               ; C9 E4
  2532 42A6 90 37		            bcc L42DF              ; 90 37
  2533 42A8 A4 29		            ldy ICBLHZ             ; A4 29
  2534 42AA D0 05		            bne L42B1              ; D0 05
  2535 42AC C8			            iny                    ; C8
  2536 42AD C4 28		            cpy ICBLLZ             ; C4 28
  2537 42AF B0 2E		            bcs L42DF              ; B0 2E
  2538 42B1 20 19 09		L42B1       jsr L0919              ; 20 19 09
  2539 42B4 40			            rti                    ; 40
  2540 42B5 24 54		            bit ROWCRS             ; 24 54
  2541 42B7 27			            .byte $27
  2542 42B8 40			            rti                    ; 40
  2543 42B9 28			            plp                    ; 28
  2544 42BA 4E 51 93		            lsr L9351              ; 4E 51 93
  2545 42BD 6A			            ror                    ; 6A
  2546 42BE 08			            php                    ; 08
  2547 42BF 20 19 09		            jsr L0919              ; 20 19 09
  2548 42C2 54 27		            .byte $54,$27
  2549 42C4 40			            rti                    ; 40
  2550 42C5 24 CE		            bit L00CE              ; 24 CE
  2551 42C7 51 40		            eor (FREQ),Y           ; 51 40
  2552 42C9 28			            plp                    ; 28
  2553 42CA 28			            plp                    ; 28
  2554 42CB 30 21		            bmi L42EE              ; 30 21
  2555 42CD 20 69 08		            jsr L0869              ; 20 69 08
  2556 42D0 24 00		            bit $00                ; 24 00
  2557 42D2 A1 23		            lda (ICSTAZ,X)         ; A1 23
  2558 42D4 E6 28		            inc ICBLLZ             ; E6 28
  2559 42D6 8D DC 10		            sta L10DC              ; 8D DC 10
  2560 42D9 20 BF 14		L42D9       jsr L14BF              ; 20 BF 14
  2561 42DC F0 12		            beq L42F0              ; F0 12
  2562 42DE 60			            rts                    ; 60
  2563 42DF 20 19 09		L42DF       jsr L0919              ; 20 19 09
  2564 42E2 52 D7 54 27		            .byte $52,$D7,$54,$27
  2565 42E6 A2 7E		            ldx #$7E               ; A2 7E
  2566 42E8 C7			            .byte $C7
  2567 42E9 20 6A 13		            jsr L136A              ; 20 6A 13
  2568 42EC 10 EB		            bpl L42D9              ; 10 EB
  2569 42EE A9 8B		L42EE       lda #$8B               ; A9 8B
  2570 42F0 49 03		L42F0       eor #$03               ; 49 03
  2571 42F2 8D BB 10		            sta L10BB              ; 8D BB 10
  2572 42F5 60			            rts                    ; 60
  2573 42F6 20 4C 0F		            jsr L0F4C              ; 20 4C 0F
  2574 42F9 C8			            iny                    ; C8
  2575 42FA C8			            iny                    ; C8
  2576 42FB 8C 3F 0E		            sty L0E3F              ; 8C 3F 0E
  2577 42FE C4 45		            cpy FMSZPG+2           ; C4 45
  2578 4300 D0 43		            bne L4345              ; D0 43
  2579 4302 20 4C 0F		            jsr L0F4C              ; 20 4C 0F
  2580 4305 A0 00		            ldy #$00               ; A0 00
  2581 4307 B1 43		            lda (FMSZPG),Y         ; B1 43
  2582 4309 AA			            tax                    ; AA
  2583 430A C8			            iny                    ; C8
  2584 430B 11 43		            ora (FMSZPG),Y         ; 11 43
  2585 430D D0 26		            bne L4335              ; D0 26
  2586 430F 20 6C 1B		            jsr L1B6C              ; 20 6C 1B
  2587 4312 A0 02		            ldy #$02               ; A0 02
  2588 4314 B9 3B 0E		L4314       lda L0E3B,Y            ; B9 3B 0E
  2589 4317 91 43		            sta (FMSZPG),Y         ; 91 43
  2590 4319 C8			            iny                    ; C8
  2591 431A C0 04		            cpy #$04               ; C0 04
  2592 431C 90 F6		            bcc L4314              ; 90 F6
  2593 431E 20 4C 0F		            jsr L0F4C              ; 20 4C 0F
  2594 4321 A0 01		            ldy #$01               ; A0 01
  2595 4323 B9 E5 0D		L4323       lda L0DE5,Y            ; B9 E5 0D
  2596 4326 91 43		            sta (FMSZPG),Y         ; 91 43
  2597 4328 88			            dey                    ; 88
  2598 4329 10 F8		            bpl L4323              ; 10 F8
  2599 432B 20 19 09		            jsr L0919              ; 20 19 09
  2600 432E 1C 2B		            .byte $1C,$2B
  2601 4330 A2 5B		            ldx #$5B               ; A2 5B
  2602 4332 B3			            .byte $B3
  2603 4333 F0 08		            beq L433D              ; F0 08
  2604 4335 B1 43		L4335       lda (FMSZPG),Y         ; B1 43
  2605 4337 8D 3E 0E		            sta L0E3E              ; 8D 3E 0E
  2606 433A 8E 3D 0E		            stx L0E3D              ; 8E 3D 0E
  2607 433D 20 4C 0F		L433D       jsr L0F4C              ; 20 4C 0F
  2608 4340 A0 04		            ldy #$04               ; A0 04
  2609 4342 8C 3F 0E		            sty L0E3F              ; 8C 3F 0E
  2610 4345 B1 43		L4345       lda (FMSZPG),Y         ; B1 43
  2611 4347 8D 3A 0E		            sta L0E3A              ; 8D 3A 0E
  2612 434A C8			            iny                    ; C8
  2613 434B B1 43		            lda (FMSZPG),Y         ; B1 43
  2614 434D 8D 3B 0E		            sta L0E3B              ; 8D 3B 0E
  2615 4350 0D 3A 0E		            ora L0E3A              ; 0D 3A 0E
  2616 4353 60			            rts                    ; 60
  2617 4354 38			            sec                    ; 38
  2618 4355 A2 FD		            ldx #$FD               ; A2 FD
  2619 4357 BD 48 0D		L4357       lda L0D48,X            ; BD 48 0D
  2620 435A FD 43 0D		            sbc L0D43,X            ; FD 43 0D
  2621 435D E8			            inx                    ; E8
  2622 435E D0 F7		            bne L4357              ; D0 F7
  2623 4360 B0 07		            bcs L4369              ; B0 07
  2624 4362 20 19 09		            jsr L0919              ; 20 19 09
  2625 4365 A3			            .byte $A3
  2626 4366 B6 BB		            ldx L00BB,Y            ; B6 BB
  2627 4368 18			            clc                    ; 18
  2628 4369 60			L4369       rts                    ; 60
  2629 436A AD 48 0E		            lda L0E48              ; AD 48 0E
  2630 436D A0 83		            ldy #$83               ; A0 83
  2631 436F 24 48		            bit FMSZPG+5           ; 24 48
  2632 4371 10 03		            bpl L4376              ; 10 03
  2633 4373 4A			            lsr                    ; 4A
  2634 4374 A0 87		            ldy #$87               ; A0 87
  2635 4376 29 04		L4376       and #$04               ; 29 04
  2636 4378 D0 45		            bne L43BF              ; D0 45
  2637 437A 4C C2 10		            jmp L10C2              ; 4C C2 10
  2638 437D AD 48 0E		            lda L0E48              ; AD 48 0E
  2639 4380 C9 16		            cmp #$16               ; C9 16
  2640 4382 D0 03		            bne L4387              ; D0 03
  2641 4384 4E 53 0E		            lsr L0E53              ; 4E 53 0E
  2642 4387 29 08		L4387       and #$08               ; 29 08
  2643 4389 F0 DE		            beq L4369              ; F0 DE
  2644 438B 20 19 09		            jsr L0919              ; 20 19 09
  2645 438E 23 BB		L438E       .byte $23,$BB
  2646 4390 8C 22 BF		            sty LBF22              ; 8C 22 BF
  2647 4393 B9 15 0C		            lda L0C15,Y            ; B9 15 0C
  2648 4396 13 9E A3		            .byte $13,$9E,$A3
  2649 4399 8C 9A A9		            sty LA99A              ; 8C 9A A9
  2650 439C FF			            .byte $FF
  2651 439D 2C A9 00		            .byte $2C,$A9,$00      ; bit L00A9
  2652 43A0 48			            pha                    ; 48
  2653 43A1 20 19 09		            jsr L0919              ; 20 19 09
  2654 43A4 22			            .byte $22
  2655 43A5 C1 64		            cmp (ADRESS,X)         ; C1 64
  2656 43A7 21 76		            and (DELTAR,X)         ; 21 76
  2657 43A9 66 94		            ror L0094              ; 66 94
  2658 43AB 3E 68 2C		            rol L2C68,X            ; 3E 68 2C
  2659 43AE A9 00		            lda #$00               ; A9 00
  2660 43B0 2C A9 FF		            bit LFFA9              ; 2C A9 FF
  2661 43B3 85 48		            sta FMSZPG+5           ; 85 48
  2662 43B5 20 19 09		            jsr L0919              ; 20 19 09
  2663 43B8 51 DC		            eor (L00DC),Y          ; 51 DC
  2664 43BA 54 27		            .byte $54,$27
  2665 43BC A2 7C		            ldx #$7C               ; A2 7C
  2666 43BE C7			            .byte $C7
  2667 43BF A5 45		L43BF       lda FMSZPG+2           ; A5 45
  2668 43C1 38			            sec                    ; 38
  2669 43C2 ED 3C 0E		            sbc L0E3C              ; ED 3C 0E
  2670 43C5 D0 02		            bne L43C9              ; D0 02
  2671 43C7 A9 FF		            lda #$FF               ; A9 FF
  2672 43C9 8D 89 14		L43C9       sta L1489              ; 8D 89 14
  2673 43CC AD 52 0E		            lda L0E52              ; AD 52 0E
  2674 43CF D0 08		            bne L43D9              ; D0 08
  2675 43D1 AD 51 0E		            lda L0E51              ; AD 51 0E
  2676 43D4 F0 1F		            beq L43F5              ; F0 1F
  2677 43D6 20 F5 14		            jsr L14F5              ; 20 F5 14
  2678 43D9 20 BF 14		L43D9       jsr L14BF              ; 20 BF 14
  2679 43DC F0 16		            beq L43F4              ; F0 16
  2680 43DE 20 F5 14		            jsr L14F5              ; 20 F5 14
  2681 43E1 AD 3A 0E		            lda L0E3A              ; AD 3A 0E
  2682 43E4 0D 3B 0E		            ora L0E3B              ; 0D 3B 0E
  2683 43E7 D0 25		            bne L440E              ; D0 25
  2684 43E9 AD 48 0E		            lda L0E48              ; AD 48 0E
  2685 43EC 29 08		            and #$08               ; 29 08
  2686 43EE D0 06		            bne L43F6              ; D0 06
  2687 43F0 20 BE 10		L43F0       jsr L10BE              ; 20 BE 10
  2688 43F3 A6 CA		            ldx L00CA              ; A6 CA
  2689 43F5 60			L43F5       rts                    ; 60
  2690 43F6 20 19 09		L43F6       jsr L0919              ; 20 19 09
  2691 43F9 1B			            .byte $1B
  2692 43FA 6C 22 5B		            jmp (L5B22)            ; 6C 22 5B
  2693 43FD B0 8F		            bcs L438E              ; B0 8F
  2694 43FF 4C AD E5		            jmp LE5AD              ; 4C AD E5
  2695 4402 0D 91 43		            ora L4391              ; 0D 91 43
  2696 4405 C8			            iny                    ; C8
  2697 4406 AD E6 0D		            lda L0DE6              ; AD E6 0D
  2698 4409 91 43		            sta (FMSZPG),Y         ; 91 43
  2699 440B 20 2B 1C		            jsr L1C2B              ; 20 2B 1C
  2700 440E AE 3A 0E		L440E       ldx L0E3A              ; AE 3A 0E
  2701 4411 AD 3B 0E		            lda L0E3B              ; AD 3B 0E
  2702 4414 20 19 09		            jsr L0919              ; 20 19 09
  2703 4417 1B			            .byte $1B
  2704 4418 E9 D4		            sbc #$D4               ; E9 D4
  2705 441A 27 54 82		            .byte $27,$54,$82
  2706 441D AC 3C 0E		            ldy L0E3C              ; AC 3C 0E
  2707 4420 24 48		            bit FMSZPG+5           ; 24 48
  2708 4422 30 5D		            bmi L4481              ; 30 5D
  2709 4424 B1 43		L4424       lda (FMSZPG),Y         ; B1 43
  2710 4426 9D FF FF		            sta LFFFF,X            ; 9D FF FF
  2711 4429 C8			            iny                    ; C8
  2712 442A E8			            inx                    ; E8
  2713 442B EC 89 14		            cpx L1489              ; EC 89 14
  2714 442E D0 F4		            bne L4424              ; D0 F4
  2715 4430 F0 5D		            beq L448F              ; F0 5D
  2716 4432 A0 FD		            ldy #$FD               ; A0 FD
  2717 4434 BD 4C 03		L4434       lda IOCB0+ICAX3,X      ; BD 4C 03
  2718 4437 99 F1 0C		            sta L0CF1,Y            ; 99 F1 0C
  2719 443A E8			            inx                    ; E8
  2720 443B C8			            iny                    ; C8
  2721 443C D0 F6		            bne L4434              ; D0 F6
  2722 443E AD F0 0D		            lda L0DF0              ; AD F0 0D
  2723 4441 30 AD		            bmi L43F0              ; 30 AD
  2724 4443 20 19 09		            jsr L0919              ; 20 19 09
  2725 4446 21 79		            and (KEYDEF,X)         ; 21 79
  2726 4448 B5 22		            lda ICCOMZ,X           ; B5 22
  2727 444A B9 B3 23		            lda L23B3,Y            ; B9 B3 23
  2728 444D 64			            .byte $64
  2729 444E B6 93		            ldx L0093,Y            ; B6 93
  2730 4450 54			            .byte $54
  2731 4451 B0 07		            bcs L445A              ; B0 07
  2732 4453 AD 48 0E		            lda L0E48              ; AD 48 0E
  2733 4456 29 08		            and #$08               ; 29 08
  2734 4458 F0 96		            beq L43F0              ; F0 96
  2735 445A AD EE 0D		L445A       lda L0DEE              ; AD EE 0D
  2736 445D AE EF 0D		            ldx L0DEF              ; AE EF 0D
  2737 4460 AC F0 0D		            ldy L0DF0              ; AC F0 0D
  2738 4463 20 FD 14		            jsr L14FD              ; 20 FD 14
  2739 4466 8D 3C 0E		            sta L0E3C              ; 8D 3C 0E
  2740 4469 8E EE 0D		            stx L0DEE              ; 8E EE 0D
  2741 446C 8C EF 0D		            sty L0DEF              ; 8C EF 0D
  2742 446F 20 F6 12		            jsr L12F6              ; 20 F6 12
  2743 4472 AD EE 0D		            lda L0DEE              ; AD EE 0D
  2744 4475 0D EF 0D		            ora L0DEF              ; 0D EF 0D
  2745 4478 F0 5F		            beq L44D9              ; F0 5F
  2746 447A 20 69 08		            jsr L0869              ; 20 69 08
  2747 447D EE 0D B0		            inc LB00D              ; EE 0D B0
  2748 4480 EE BD FF		            inc LFFBD              ; EE BD FF
  2749 4483 FF			            .byte $FF
  2750 4484 91 43		            sta (FMSZPG),Y         ; 91 43
  2751 4486 C8			            iny                    ; C8
  2752 4487 E8			            inx                    ; E8
  2753 4488 E0 00		            cpx #$00               ; E0 00
  2754 448A D0 F5		            bne L4481              ; D0 F5
  2755 448C 20 2B 1C		            jsr L1C2B              ; 20 2B 1C
  2756 448F AD 89 14		L448F       lda L1489              ; AD 89 14
  2757 4492 20 6B 08		            jsr L086B              ; 20 6B 08
  2758 4495 51 0E		            eor (APPMHI),Y         ; 51 0E
  2759 4497 20 5F 08		            jsr L085F              ; 20 5F 08
  2760 449A 27			            .byte $27
  2761 449B 14			L449B       .byte $14
  2762 449C 20 5F 08		            jsr L085F              ; 20 5F 08
  2763 449F 40			            rti                    ; 40
  2764 44A0 0E 90 03		            asl IOCB5              ; 0E 90 03
  2765 44A3 EE 42 0E		            inc L0E42              ; EE 42 0E
  2766 44A6 20 54 13		            jsr L1354              ; 20 54 13
  2767 44A9 AD 3C 0E		            lda L0E3C              ; AD 3C 0E
  2768 44AC 18			            clc                    ; 18
  2769 44AD 6D 89 14		            adc L1489              ; 6D 89 14
  2770 44B0 C5 45		            cmp FMSZPG+2           ; C5 45
  2771 44B2 D0 05		            bne L44B9              ; D0 05
  2772 44B4 20 F6 12		            jsr L12F6              ; 20 F6 12
  2773 44B7 A9 00		            lda #$00               ; A9 00
  2774 44B9 8D 3C 0E		L44B9       sta L0E3C              ; 8D 3C 0E
  2775 44BC 4C BF 13		            jmp L13BF              ; 4C BF 13
  2776 44BF A2 FD		            ldx #$FD               ; A2 FD
  2777 44C1 38			            sec                    ; 38
  2778 44C2 BD 48 0D		L44C2       lda L0D48,X            ; BD 48 0D
  2779 44C5 FD 43 0D		            sbc L0D43,X            ; FD 43 0D
  2780 44C8 9D F1 0C		            sta L0CF1,X            ; 9D F1 0C
  2781 44CB E8			            inx                    ; E8
  2782 44CC D0 F4		            bne L44C2              ; D0 F4
  2783 44CE 24 48		            bit FMSZPG+5           ; 24 48
  2784 44D0 30 05		            bmi L44D7              ; 30 05
  2785 44D2 0D EF 0D		            ora L0DEF              ; 0D EF 0D
  2786 44D5 F0 1A		            beq L44F1              ; F0 1A
  2787 44D7 A9 FF		L44D7       lda #$FF               ; A9 FF
  2788 44D9 60			L44D9       rts                    ; 60
  2789 44DA 20 C5 08		            jsr L08C5              ; 20 C5 08
  2790 44DD 8D 84 12		            sta L1284              ; 8D 84 12
  2791 44E0 0A			            asl                    ; 0A
  2792 44E1 4A			            lsr                    ; 4A
  2793 44E2 AA			            tax                    ; AA
  2794 44E3 A9 9B		            lda #$9B               ; A9 9B
  2795 44E5 A8			            tay                    ; A8
  2796 44E6 9D 9C 0D		L44E6       sta L0D9C,X            ; 9D 9C 0D
  2797 44E9 A9 20		            lda #$20               ; A9 20
  2798 44EB CA			            dex                    ; CA
  2799 44EC D0 F8		            bne L44E6              ; D0 F8
  2800 44EE 8E 78 12		            stx L1278              ; 8E 78 12
  2801 44F1 AD EE 0D		L44F1       lda L0DEE              ; AD EE 0D
  2802 44F4 60			            rts                    ; 60
  2803 44F5 CD 89 14		            cmp L1489              ; CD 89 14
  2804 44F8 B0 DF		            bcs L44D9              ; B0 DF
  2805 44FA 8D 89 14		            sta L1489              ; 8D 89 14
  2806 44FD 24 45		            bit FMSZPG+2           ; 24 45
  2807 44FF 10 0A		            bpl L450B              ; 10 0A
  2808 4501 0A			            asl                    ; 0A
  2809 4502 48			            pha                    ; 48
  2810 4503 8A			            txa                    ; 8A
  2811 4504 2A			            rol                    ; 2A
  2812 4505 AA			            tax                    ; AA
  2813 4506 98			            tya                    ; 98
  2814 4507 2A			            rol                    ; 2A
  2815 4508 A8			            tay                    ; A8
  2816 4509 68			            pla                    ; 68
  2817 450A 4A			            lsr                    ; 4A
  2818 450B 60			L450B       rts                    ; 60
  2819 450C A9 14		            lda #$14               ; A9 14
  2820 450E 2C A9 0C		            bit L0CA9              ; 2C A9 0C
  2821 4511 8D 48 0E		            sta L0E48              ; 8D 48 0E
  2822 4514 48			            pha                    ; 48
  2823 4515 20 19 09		            jsr L0919              ; 20 19 09
  2824 4518 23			            .byte $23
  2825 4519 76 64		            ror ADRESS,X           ; 76 64
  2826 451B 94 3E		            sty FTYPE,X            ; 94 3E
  2827 451D 68			            pla                    ; 68
  2828 451E C9 10		            cmp #$10               ; C9 10
  2829 4520 90 0B		            bcc L452D              ; 90 0B
  2830 4522 20 19 09		            jsr L0919              ; 20 19 09
  2831 4525 21 7C		            and (HOLDCH,X)         ; 21 7C
  2832 4527 BB 13		            .byte $BB,$13
  2833 4529 AE A3 9A		            ldx L9AA3              ; AE A3 9A
  2834 452C BB			            .byte $BB
  2835 452D 60			L452D       rts                    ; 60
  2836 452E 20 19 09		            jsr L0919              ; 20 19 09
  2837 4531 2B			            .byte $2B
  2838 4532 81 9D		            sta (L009D,X)          ; 81 9D
  2839 4534 23			            .byte $23
  2840 4535 76 9A		            ror L009A,X            ; 76 9A
  2841 4537 CD 06 CE		            cmp LCE06              ; CD 06 CE
  2842 453A 32			            .byte $32
  2843 453B 2C 12 0D		            bit L0D12              ; 2C 12 0D
  2844 453E 10 07		            bpl L4547              ; 10 07
  2845 4540 20 19 09		            jsr L0919              ; 20 19 09
  2846 4543 CD 0C CE		            cmp LCE0C              ; CD 0C CE
  2847 4546 32			            .byte $32
  2848 4547 A5 49		L4547       lda FMSZPG+6           ; A5 49
  2849 4549 8D 48 0E		            sta L0E48              ; 8D 48 0E
  2850 454C 29 20		            and #$20               ; 29 20
  2851 454E 09 08		            ora #$08               ; 09 08
  2852 4550 8D 21 0E		            sta L0E21              ; 8D 21 0E
  2853 4553 60			L4553       rts                    ; 60
  2854 4554 2C 53 0E		L4554       bit L0E53              ; 2C 53 0E
  2855 4557 30 6B		            bmi L45C4              ; 30 6B
  2856 4559 A9 16		            lda #$16               ; A9 16
  2857 455B 85 49		            sta FMSZPG+6           ; 85 49
  2858 455D 20 19 09		            jsr L0919              ; 20 19 09
  2859 4560 16 00		            asl $00,X              ; 16 00
  2860 4562 AB			            .byte $AB
  2861 4563 81 08		            sta (WARMST,X)         ; 81 08
  2862 4565 8E 84 12		            stx L1284              ; 8E 84 12
  2863 4568 A5 2B		            lda ICAX2Z             ; A5 2B
  2864 456A 8D BE 11		            sta L11BE              ; 8D BE 11
  2865 456D 10 16		            bpl L4585              ; 10 16
  2866 456F 20 DA 14		            jsr L14DA              ; 20 DA 14
  2867 4572 2A			            rol                    ; 2A
  2868 4573 8C C5 0D		            sty L0DC5              ; 8C C5 0D
  2869 4576 20 19 09		            jsr L0919              ; 20 19 09
  2870 4579 28			            plp                    ; 28
  2871 457A 00 13		            .byte $00,$13
  2872 457C 28			            plp                    ; 28
  2873 457D D9 1F 2B		            cmp L2B1F,Y            ; D9 1F 2B
  2874 4580 3C 27		            .byte $3C,$27
  2875 4582 A8			            tay                    ; A8
  2876 4583 9D 33 38		            sta L3833,X            ; 9D 33 38
  2877 4586 6E 53 0E		            ror L0E53              ; 6E 53 0E
  2878 4589 60			            rts                    ; 60
  2879 458A A9 28		            lda #$28               ; A9 28
  2880 458C A2 09		            ldx #$09               ; A2 09
  2881 458E D0 10		            bne L45A0              ; D0 10
  2882 4590 A5 2A		            lda ICAX1Z             ; A5 2A
  2883 4592 29 F0		            and #$F0               ; 29 F0
  2884 4594 09 04		            ora #$04               ; 09 04
  2885 4596 2C A5 2A		            bit L2AA5              ; 2C A5 2A
  2886 4599 29 3F		            and #$3F               ; 29 3F
  2887 459B 2C A9 14		            bit L14A9              ; 2C A9 14
  2888 459E A2 29		            ldx #$29               ; A2 29
  2889 45A0 8E 84 16		L45A0       stx L1684              ; 8E 84 16
  2890 45A3 C9 06		            cmp #$06               ; C9 06
  2891 45A5 F0 AD		            beq L4554              ; F0 AD
  2892 45A7 C9 20		            cmp #$20               ; C9 20
  2893 45A9 90 02		            bcc L45AD              ; 90 02
  2894 45AB 29 EF		            and #$EF               ; 29 EF
  2895 45AD 85 49		L45AD       sta FMSZPG+6           ; 85 49
  2896 45AF 29 0F		            and #$0F               ; 29 0F
  2897 45B1 4A			            lsr                    ; 4A
  2898 45B2 90 04		            bcc L45B8              ; 90 04
  2899 45B4 C9 04		            cmp #$04               ; C9 04
  2900 45B6 D0 03		            bne L45BB              ; D0 03
  2901 45B8 4A			L45B8       lsr                    ; 4A
  2902 45B9 90 45		            bcc L4600              ; 90 45
  2903 45BB A0 A8		L45BB       ldy #$A8               ; A0 A8
  2904 45BD 2C A0 A3		            bit LA3A0              ; 2C A0 A3
  2905 45C0 2C A0 A9		            bit LA9A0              ; 2C A0 A9
  2906 45C3 2C A0 A1		            bit LA1A0              ; 2C A0 A1
  2907 45C6 4C C2 10		            jmp L10C2              ; 4C C2 10
  2908 45C9 A2 0A		            ldx #$0A               ; A2 0A
  2909 45CB BD 0B 0E		L45CB       lda L0E0B,X            ; BD 0B 0E
  2910 45CE C9 3F		            cmp #$3F               ; C9 3F
  2911 45D0 F0 EC		            beq L45BE              ; F0 EC
  2912 45D2 CA			            dex                    ; CA
  2913 45D3 10 F6		            bpl L45CB              ; 10 F6
  2914 45D5 6C 06 07		            jmp (L0706)            ; 6C 06 07
  2915 45D8 A9 00		L45D8       lda #$00               ; A9 00
  2916 45DA 10 46		            bpl L4622              ; 10 46
  2917 45DC 20 19 09		            jsr L0919              ; 20 19 09
  2918 45DF 2B			            .byte $2B
  2919 45E0 81 8C		            sta (L008C,X)          ; 81 8C
  2920 45E2 2B			            .byte $2B
  2921 45E3 6A			            ror                    ; 6A
  2922 45E4 81 22		            sta (ICCOMZ,X)         ; 81 22
  2923 45E6 CC B9 15		            cpy L15B9              ; CC B9 15
  2924 45E9 0C			            .byte $0C
  2925 45EA 9D C5 D0		            sta LD0C5,X            ; 9D C5 D0
  2926 45ED 34			            .byte $34
  2927 45EE 20 19 09		            jsr L0919              ; 20 19 09
  2928 45F1 2B			            .byte $2B
  2929 45F2 8C 81 22		            sty L2281              ; 8C 81 22
  2930 45F5 98			            tya                    ; 98
  2931 45F6 B9 15 0C		            lda L0C15,Y            ; B9 15 0C
  2932 45F9 9D C2 D0		            sta LD0C2,X            ; 9D C2 D0
  2933 45FC 25 4C		            and DSTAT              ; 25 4C
  2934 45FE B2			            .byte $B2
  2935 45FF 16 20		            asl ICHIDZ,X           ; 16 20
  2936 4601 AE 1A 08		            ldx L081A              ; AE 1A 08
  2937 4604 68			            pla                    ; 68
  2938 4605 6A			            ror                    ; 6A
  2939 4606 6A			            ror                    ; 6A
  2940 4607 6E D9 15		            ror L15D9              ; 6E D9 15
  2941 460A A5 49		            lda FMSZPG+6           ; A5 49
  2942 460C 29 10		            and #$10               ; 29 10
  2943 460E D0 6D		            bne L467D              ; D0 6D
  2944 4610 20 0C 15		            jsr L150C              ; 20 0C 15
  2945 4613 20 BF 1D		            jsr L1DBF              ; 20 BF 1D
  2946 4616 F0 67		            beq L467F              ; F0 67
  2947 4618 A5 49		L4618       lda FMSZPG+6           ; A5 49
  2948 461A C9 04		            cmp #$04               ; C9 04
  2949 461C F0 BA		            beq L45D8              ; F0 BA
  2950 461E 29 08		            and #$08               ; 29 08
  2951 4620 D0 0A		            bne L462C              ; D0 0A
  2952 4622 20 BE 10		L4622       jsr L10BE              ; 20 BE 10
  2953 4625 AA			            tax                    ; AA
  2954 4626 20 C9 15		L4626       jsr L15C9              ; 20 C9 15
  2955 4629 20 4D 1D		            jsr L1D4D              ; 20 4D 1D
  2956 462C 2C 4C 0E		L462C       bit L0E4C              ; 2C 4C 0E
  2957 462F 30 90		            bmi L45C1              ; 30 90
  2958 4631 20 19 09		            jsr L0919              ; 20 19 09
  2959 4634 15 C9		            ora L00C9,X            ; 15 C9
  2960 4636 15 2E		            ora ICAX5Z,X           ; 15 2E
  2961 4638 1B			            .byte $1B
  2962 4639 6C 22 5B		            jmp (L5B22)            ; 6C 22 5B
  2963 463C 98			            tya                    ; 98
  2964 463D 21 7B		            and (SWPFLG,X)         ; 21 7B
  2965 463F BE 13 9B		            ldx L9B13,Y            ; BE 13 9B
  2966 4642 22			            .byte $22
  2967 4643 C1 5D		            cmp (OLDCHR,X)         ; C1 5D
  2968 4645 22			            .byte $22
  2969 4646 76 C1		            ror L00C1,X            ; 76 C1
  2970 4648 13 9E 23 BB		            .byte $13,$9E,$23,$BB
  2971 464C 9A			            txs                    ; 9A
  2972 464D 13 9B 22		            .byte $13,$9B,$22
  2973 4650 5D C1 93		            eor L93C1,X            ; 5D C1 93
  2974 4653 9E			            .byte $9E
  2975 4654 A5 49		            lda FMSZPG+6           ; A5 49
  2976 4656 29 20		            and #$20               ; 29 20
  2977 4658 F0 1E		            beq L4678              ; F0 1E
  2978 465A F0 BC		L465A       beq L4618              ; F0 BC
  2979 465C 20 19 09		            jsr L0919              ; 20 19 09
  2980 465F 22			            .byte $22
  2981 4660 B9 5D 22		            lda L225D,Y            ; B9 5D 22
  2982 4663 98			            tya                    ; 98
  2983 4664 B9 15 0F		            lda L0F15,Y            ; B9 15 0F
  2984 4667 15 2E		            ora ICAX5Z,X           ; 15 2E
  2985 4669 21 7C		            and (HOLDCH,X)         ; 21 7C
  2986 466B 9A			            txs                    ; 9A
  2987 466C 22			            .byte $22
  2988 466D 5D 98 13		            eor L1398,X            ; 5D 98 13
  2989 4670 B1 22		            lda (ICCOMZ),Y         ; B1 22
  2990 4672 98			            tya                    ; 98
  2991 4673 B9 15 0C		            lda L0C15,Y            ; B9 15 0C
  2992 4676 93 9E		            .byte $93,$9E
  2993 4678 4C B2 16		L4678       jmp L16B2              ; 4C B2 16
  2994 467B 10 A9		L467B       bpl L4626              ; 10 A9
  2995 467D D0 3C		L467D       bne L46BB              ; D0 3C
  2996 467F A5 49		L467F       lda FMSZPG+6           ; A5 49
  2997 4681 4D 21 0E		            eor L0E21              ; 4D 21 0E
  2998 4684 29 20		            and #$20               ; 29 20
  2999 4686 F0 0E		            beq L4696              ; F0 0E
  3000 4688 A5 49		            lda FMSZPG+6           ; A5 49
  3001 468A 29 08		            and #$08               ; 29 08
  3002 468C F0 CC		            beq L465A              ; F0 CC
  3003 468E A0 97		            ldy #$97               ; A0 97
  3004 4690 2C A0 A4		            bit LA4A0              ; 2C A0 A4
  3005 4693 4C C2 10		            jmp L10C2              ; 4C C2 10
  3006 4696 A5 49		L4696       lda FMSZPG+6           ; A5 49
  3007 4698 29 08		            and #$08               ; 29 08
  3008 469A F0 16		            beq L46B2              ; F0 16
  3009 469C AD 21 0E		            lda L0E21              ; AD 21 0E
  3010 469F 29 21		            and #$21               ; 29 21
  3011 46A1 4A			            lsr                    ; 4A
  3012 46A2 D0 0E		            bne L46B2              ; D0 0E
  3013 46A4 B0 EB		            bcs L4691              ; B0 EB
  3014 46A6 A5 49		            lda FMSZPG+6           ; A5 49
  3015 46A8 C9 08		            cmp #$08               ; C9 08
  3016 46AA D0 06		            bne L46B2              ; D0 06
  3017 46AC A9 00		            lda #$00               ; A9 00
  3018 46AE 10 CB		            bpl L467B              ; 10 CB
  3019 46B0 E6 49		            inc FMSZPG+6           ; E6 49
  3020 46B2 20 19 09		L46B2       jsr L0919              ; 20 19 09
  3021 46B5 22			            .byte $22
  3022 46B6 B9 BF A5		            lda LA5BF,Y            ; B9 BF A5
  3023 46B9 98			            tya                    ; 98
  3024 46BA B9 A5 49		            lda L49A5,Y            ; B9 A5 49
  3025 46BD 20 11 15		            jsr L1511              ; 20 11 15
  3026 46C0 A5 49		            lda FMSZPG+6           ; A5 49
  3027 46C2 C9 10		            cmp #$10               ; C9 10
  3028 46C4 90 15		            bcc L46DB              ; 90 15
  3029 46C6 20 19 09		            jsr L0919              ; 20 19 09
  3030 46C9 22			            .byte $22
  3031 46CA B9 BF A2		            lda LA2BF,Y            ; B9 BF A2
  3032 46CD 76 C1		            ror L00C1,X            ; 76 C1
  3033 46CF A5 49		            lda FMSZPG+6           ; A5 49
  3034 46D1 29 07		            and #$07               ; 29 07
  3035 46D3 D0 06		            bne L46DB              ; D0 06
  3036 46D5 20 19 09		            jsr L0919              ; 20 19 09
  3037 46D8 A3			            .byte $A3
  3038 46D9 B6 BB		            ldx L00BB,Y            ; B6 BB
  3039 46DB A5 49		L46DB       lda FMSZPG+6           ; A5 49
  3040 46DD 4A			            lsr                    ; 4A
  3041 46DE 90 1D		            bcc L46FD              ; 90 1D
  3042 46E0 20 19 09		            jsr L0919              ; 20 19 09
  3043 46E3 A3 BB 64		            .byte $A3,$BB,$64
  3044 46E6 4C 3E 14		            jmp L143E              ; 4C 3E 14
  3045 46E9 A0 00		            ldy #$00               ; A0 00
  3046 46EB 2C A0 05		            bit L05A0              ; 2C A0 05
  3047 46EE B9 40 0E		L46EE       lda L0E40,Y            ; B9 40 0E
  3048 46F1 9D 4C 03		            sta IOCB0+ICAX3,X      ; 9D 4C 03
  3049 46F4 C8			            iny                    ; C8
  3050 46F5 E8			            inx                    ; E8
  3051 46F6 8A			            txa                    ; 8A
  3052 46F7 29 0F		            and #$0F               ; 29 0F
  3053 46F9 C9 03		            cmp #$03               ; C9 03
  3054 46FB 90 F1		            bcc L46EE              ; 90 F1
  3055 46FD 60			L46FD       rts                    ; 60
  3056 46FE 8E 2C 1C		            stx L1C2C              ; 8E 2C 1C
  3057 4701 A9 FF		            lda #$FF               ; A9 FF
  3058 4703 9D 49 0F		            sta L0F49,X            ; 9D 49 0F
  3059 4706 8A			            txa                    ; 8A
  3060 4707 18			            clc                    ; 18
  3061 4708 69 17		            adc #$17               ; 69 17
  3062 470A 85 44		            sta FMSZPG+1           ; 85 44
  3063 470C A9 11		            lda #$11               ; A9 11
  3064 470E 85 43		            sta FMSZPG             ; 85 43
  3065 4710 60			            rts                    ; 60
  3066 				;
  3067 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3068
  3069
  3070 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3071 				;
  3072 4711			            org $4A11
  3073 				;
  3074 4A11-4EE3> E0 08		            cpx #$08               ; E0 08
  3075 4A13 90 09		            bcc L4A1E              ; 90 09
  3076 4A15 2C 48 1C		            bit L1C48              ; 2C 48 1C
  3077 4A18 10 08		            bpl L4A22              ; 10 08
  3078 4A1A E0 0B		            cpx #$0B               ; E0 0B
  3079 4A1C B0 04		            bcs L4A22              ; B0 04
  3080 4A1E 9D 0B 0E		L4A1E       sta L0E0B,X            ; 9D 0B 0E
  3081 4A21 E8			            inx                    ; E8
  3082 4A22 60			L4A22       rts                    ; 60
  3083 4A23 A0 00		            ldy #$00               ; A0 00
  3084 4A25 8C EA 1A		            sty L1AEA              ; 8C EA 1A
  3085 4A28 EE 24 1A		            inc L1A24              ; EE 24 1A
  3086 4A2B A9 0E		            lda #$0E               ; A9 0E
  3087 4A2D 8D 48 1C		            sta L1C48              ; 8D 48 1C
  3088 4A30 A2 00		            ldx #$00               ; A2 00
  3089 4A32 F0 0A		            beq L4A3E              ; F0 0A
  3090 4A34 A9 3F		L4A34       lda #$3F               ; A9 3F
  3091 4A36 20 11 1A		            jsr L1A11              ; 20 11 1A
  3092 4A39 90 F9		            bcc L4A34              ; 90 F9
  3093 4A3B 20 11 1A		L4A3B       jsr L1A11              ; 20 11 1A
  3094 4A3E C8			L4A3E       iny                    ; C8
  3095 4A3F B1 24		            lda (ICBALZ),Y         ; B1 24
  3096 4A41 C9 2A		            cmp #$2A               ; C9 2A
  3097 4A43 F0 EF		            beq L4A34              ; F0 EF
  3098 4A45 C9 3F		            cmp #$3F               ; C9 3F
  3099 4A47 F0 F2		            beq L4A3B              ; F0 F2
  3100 4A49 C9 5F		            cmp #$5F               ; C9 5F
  3101 4A4B F0 EE		            beq L4A3B              ; F0 EE
  3102 4A4D C9 2E		            cmp #$2E               ; C9 2E
  3103 4A4F F0 14		            beq L4A65              ; F0 14
  3104 4A51 C9 30		            cmp #$30               ; C9 30
  3105 4A53 90 0C		            bcc L4A61              ; 90 0C
  3106 4A55 C9 3A		            cmp #$3A               ; C9 3A
  3107 4A57 90 E2		            bcc L4A3B              ; 90 E2
  3108 4A59 C9 41		            cmp #$41               ; C9 41
  3109 4A5B 90 04		            bcc L4A61              ; 90 04
  3110 4A5D C9 5B		            cmp #$5B               ; C9 5B
  3111 4A5F 90 DA		            bcc L4A3B              ; 90 DA
  3112 4A61 38			L4A61       sec                    ; 38
  3113 4A62 6E 48 1C		            ror L1C48              ; 6E 48 1C
  3114 4A65 A9 20		L4A65       lda #$20               ; A9 20
  3115 4A67 20 11 1A		            jsr L1A11              ; 20 11 1A
  3116 4A6A 90 F9		            bcc L4A65              ; 90 F9
  3117 4A6C 6E 48 1C		            ror L1C48              ; 6E 48 1C
  3118 4A6F 90 CD		            bcc L4A3E              ; 90 CD
  3119 4A71 B1 24		            lda (ICBALZ),Y         ; B1 24
  3120 4A73 C9 2F		            cmp #$2F               ; C9 2F
  3121 4A75 D0 0D		            bne L4A84              ; D0 0D
  3122 4A77 C8			            iny                    ; C8
  3123 4A78 B1 24		            lda (ICBALZ),Y         ; B1 24
  3124 4A7A 88			            dey                    ; 88
  3125 4A7B C9 41		            cmp #$41               ; C9 41
  3126 4A7D D0 05		            bne L4A84              ; D0 05
  3127 4A7F 6E AD 16		            ror L16AD              ; 6E AD 16
  3128 4A82 C8			            iny                    ; C8
  3129 4A83 C8			            iny                    ; C8
  3130 4A84 CC 24 1A		L4A84       cpy L1A24              ; CC 24 1A
  3131 4A87 8C 24 1A		L4A87       sty L1A24              ; 8C 24 1A
  3132 4A8A 08			            php                    ; 08
  3133 4A8B F0 01		            beq L4A8E              ; F0 01
  3134 4A8D 18			            clc                    ; 18
  3135 4A8E 6E FE 1A		L4A8E       ror L1AFE              ; 6E FE 1A
  3136 4A91 B1 24		            lda (ICBALZ),Y         ; B1 24
  3137 4A93 28			            plp                    ; 28
  3138 4A94 60			            rts                    ; 60
  3139 4A95 20 19 09		            jsr L0919              ; 20 19 09
  3140 4A98 1A 9F 1A FA		            .byte $1A,$9F,$1A,$FA
  3141 4A9C A2 B9		            ldx #$B9               ; A2 B9
  3142 4A9E E3			            .byte $E3
  3143 4A9F A0 02		            ldy #$02               ; A0 02
  3144 4AA1 B1 24		L4AA1       lda (ICBALZ),Y         ; B1 24
  3145 4AA3 C9 3A		            cmp #$3A               ; C9 3A
  3146 4AA5 F0 E0		            beq L4A87              ; F0 E0
  3147 4AA7 88			            dey                    ; 88
  3148 4AA8 D0 F7		            bne L4AA1              ; D0 F7
  3149 4AAA 20 BE 10		L4AAA       jsr L10BE              ; 20 BE 10
  3150 4AAD 96 20		            stx ICHIDZ,Y           ; 96 20
  3151 4AAF 9F 1A		            .byte $9F,$1A
  3152 4AB1 8C E8 1A		            sty L1AE8              ; 8C E8 1A
  3153 4AB4 4E AD 16		            lsr L16AD              ; 4E AD 16
  3154 4AB7 20 19 09		            jsr L0919              ; 20 19 09
  3155 4ABA 22 E3		            .byte $22,$E3
  3156 4ABC B9 9A 23		            lda L239A,Y            ; B9 9A 23
  3157 4ABF D0 33		            bne L4AF4              ; D0 33
  3158 4AC1 C9 3E		            cmp #$3E               ; C9 3E
  3159 4AC3 D0 1B		            bne L4AE0              ; D0 1B
  3160 4AC5 20 19 09		            jsr L0919              ; 20 19 09
  3161 4AC8 A2 CC		            ldx #$CC               ; A2 CC
  3162 4ACA B9 F0 22		            lda L22F0,Y            ; B9 F0 22
  3163 4ACD 20 0C 15		L4ACD       jsr L150C              ; 20 0C 15
  3164 4AD0 20 0C 1B		            jsr L1B0C              ; 20 0C 1B
  3165 4AD3 AD 43 0E		            lda L0E43              ; AD 43 0E
  3166 4AD6 0D 44 0E		            ora L0E44              ; 0D 44 0E
  3167 4AD9 F0 CF		            beq L4AAA              ; F0 CF
  3168 4ADB 20 23 1A		            jsr L1A23              ; 20 23 1A
  3169 4ADE D0 14		            bne L4AF4              ; D0 14
  3170 4AE0 C9 3C		L4AE0       cmp #$3C               ; C9 3C
  3171 4AE2 F0 E9		            beq L4ACD              ; F0 E9
  3172 4AE4 4E AD 16		L4AE4       lsr L16AD              ; 4E AD 16
  3173 4AE7 A0 00		L4AE7       ldy #$00               ; A0 00
  3174 4AE9 C0 00		            cpy #$00               ; C0 00
  3175 4AEB 60			            rts                    ; 60
  3176 4AEC 20 01 1B		L4AEC       jsr L1B01              ; 20 01 1B
  3177 4AEF 20 23 1A		            jsr L1A23              ; 20 23 1A
  3178 4AF2 F0 F0		            beq L4AE4              ; F0 F0
  3179 4AF4 C9 3E		L4AF4       cmp #$3E               ; C9 3E
  3180 4AF6 F0 F4		            beq L4AEC              ; F0 F4
  3181 4AF8 D0 ED		            bne L4AE7              ; D0 ED
  3182 4AFA 20 B4 1A		            jsr L1AB4              ; 20 B4 1A
  3183 4AFD A9 00		            lda #$00               ; A9 00
  3184 4AFF 30 11		            bmi L4B12              ; 30 11
  3185 4B01 4E AD 16		            lsr L16AD              ; 4E AD 16
  3186 4B04 20 0C 15		            jsr L150C              ; 20 0C 15
  3187 4B07 20 C5 1D		            jsr L1DC5              ; 20 C5 1D
  3188 4B0A 30 9E		            bmi L4AAA              ; 30 9E
  3189 4B0C 20 19 09		            jsr L0919              ; 20 19 09
  3190 4B0F A2 98		            ldx #$98               ; A2 98
  3191 4B11 B9 60 BD		            lda LBD60,Y            ; B9 60 BD
  3192 4B14 40			            rti                    ; 40
  3193 4B15 0F			            .byte $0F
  3194 4B16 10 FA		            bpl L4B12              ; 10 FA
  3195 4B18 29 7F		            and #$7F               ; 29 7F
  3196 4B1A 9D 40 0F		            sta L0F40,X            ; 9D 40 0F
  3197 4B1D A8			            tay                    ; A8
  3198 4B1E 20 FE 16		            jsr L16FE              ; 20 FE 16
  3199 4B21 BD 46 0F		            lda L0F46,X            ; BD 46 0F
  3200 4B24 48			            pha                    ; 48
  3201 4B25 BD 43 0F		            lda L0F43,X            ; BD 43 0F
  3202 4B28 AA			            tax                    ; AA
  3203 4B29 68			            pla                    ; 68
  3204 4B2A 38			            sec                    ; 38
  3205 4B2B 8C 01 03		            sty DUNIT              ; 8C 01 03
  3206 4B2E 8E 0A 03		            stx DAUX1              ; 8E 0A 03
  3207 4B31 8D 0B 03		            sta DAUX2              ; 8D 0B 03
  3208 4B34 CA			            dex                    ; CA
  3209 4B35 D0 04		            bne L4B3B              ; D0 04
  3210 4B37 AA			            tax                    ; AA
  3211 4B38 D0 01		            bne L4B3B              ; D0 01
  3212 4B3A A8			            tay                    ; A8
  3213 4B3B A2 52		L4B3B       ldx #$52               ; A2 52
  3214 4B3D A9 40		            lda #$40               ; A9 40
  3215 4B3F 90 04		            bcc L4B45              ; 90 04
  3216 4B41 AE F7 0C		            ldx L0CF7              ; AE F7 0C
  3217 4B44 0A			            asl                    ; 0A
  3218 4B45 8E 02 03		L4B45       stx DCOMND             ; 8E 02 03
  3219 4B48 8D 03 03		            sta DSTATS             ; 8D 03 03
  3220 4B4B B9 E9 0D		            lda L0DE9,Y            ; B9 E9 0D
  3221 4B4E 8D 08 03		            sta DBYTLO             ; 8D 08 03
  3222 4B51 0A			            asl                    ; 0A
  3223 4B52 2A			            rol                    ; 2A
  3224 4B53 49 01		            eor #$01               ; 49 01
  3225 4B55 8D 09 03		            sta DBYTHI             ; 8D 09 03
  3226 4B58 20 19 09		            jsr L0919              ; 20 19 09
  3227 4B5B 5B			            .byte $5B
  3228 4B5C 70 23		            bvs L4B81              ; 70 23
  3229 4B5E 06 47		            asl FMSZPG+4           ; 06 47
  3230 4B60 AE 23 00		            .byte $AE,$23,$00      ; ldx ICSTAZ
  3231 4B63 40			            rti                    ; 40
  3232 4B64 43 43 04		            .byte $43,$43,$04
  3233 4B67 8C EE 30		            sty L30EE              ; 8C EE 30
  3234 4B6A 77			            .byte $77
  3235 4B6B 60			L4B6B       rts                    ; 60
  3236 4B6C AD 48 0E		            lda L0E48              ; AD 48 0E
  3237 4B6F C9 10		            cmp #$10               ; C9 10
  3238 4B71 B0 03		            bcs L4B76              ; B0 03
  3239 4B73 A0 00		            ldy #$00               ; A0 00
  3240 4B75 2C A0 02		            bit DMASK              ; 2C A0 02
  3241 4B78 98			            tya                    ; 98
  3242 4B79 48			            pha                    ; 48
  3243 4B7A A2 FE		            ldx #$FE               ; A2 FE
  3244 4B7C B9 5F 0E		L4B7C       lda L0E5F,Y            ; B9 5F 0E
  3245 4B7F 9D E7 0C		            sta L0CE7,X            ; 9D E7 0C
  3246 4B82 C8			            iny                    ; C8
  3247 4B83 E8			            inx                    ; E8
  3248 4B84 D0 F6		            bne L4B7C              ; D0 F6
  3249 4B86 20 AE 1B		            jsr L1BAE              ; 20 AE 1B
  3250 4B89 20 A3 1C		            jsr L1CA3              ; 20 A3 1C
  3251 4B8C 20 69 08		            jsr L0869              ; 20 69 08
  3252 4B8F E5 0D		            sbc DOSINI+1           ; E5 0D
  3253 4B91 20 8A 1D		L4B91       jsr L1D8A              ; 20 8A 1D
  3254 4B94 AA			            tax                    ; AA
  3255 4B95 31 43		            and (FMSZPG),Y         ; 31 43
  3256 4B97 D0 05		            bne L4B9E              ; D0 05
  3257 4B99 20 AE 1B		            jsr L1BAE              ; 20 AE 1B
  3258 4B9C 90 F3		            bcc L4B91              ; 90 F3
  3259 4B9E 8A			L4B9E       txa                    ; 8A
  3260 4B9F 51 43		            eor (FMSZPG),Y         ; 51 43
  3261 4BA1 91 43		            sta (FMSZPG),Y         ; 91 43
  3262 4BA3 20 2B 1C		            jsr L1C2B              ; 20 2B 1C
  3263 4BA6 20 69 08		            jsr L0869              ; 20 69 08
  3264 4BA9 5A			            .byte $5A
  3265 4BAA 0E 18 90		            asl L9018              ; 0E 18 90
  3266 4BAD 1B			            .byte $1B
  3267 4BAE 20 63 08		            jsr L0863              ; 20 63 08
  3268 4BB1 E5 0D		            sbc DOSINI+1           ; E5 0D
  3269 4BB3 AD E5 0D		            lda L0DE5              ; AD E5 0D
  3270 4BB6 CD 58 0E		            cmp L0E58              ; CD 58 0E
  3271 4BB9 AD E6 0D		            lda L0DE6              ; AD E6 0D
  3272 4BBC ED 59 0E		            sbc L0E59              ; ED 59 0E
  3273 4BBF 90 AA		            bcc L4B6B              ; 90 AA
  3274 4BC1 20 69 08		            jsr L0869              ; 20 69 08
  3275 4BC4 E5 0D		            sbc DOSINI+1           ; E5 0D
  3276 4BC6 68			            pla                    ; 68
  3277 4BC7 68			            pla                    ; 68
  3278 4BC8 38			            sec                    ; 38
  3279 4BC9 68			            pla                    ; 68
  3280 4BCA A8			            tay                    ; A8
  3281 4BCB A2 FE		            ldx #$FE               ; A2 FE
  3282 4BCD BD E7 0C		L4BCD       lda L0CE7,X            ; BD E7 0C
  3283 4BD0 99 5F 0E		            sta L0E5F,Y            ; 99 5F 0E
  3284 4BD3 C8			            iny                    ; C8
  3285 4BD4 E8			            inx                    ; E8
  3286 4BD5 D0 F6		            bne L4BCD              ; D0 F6
  3287 4BD7 AE E5 0D		            ldx L0DE5              ; AE E5 0D
  3288 4BDA 90 0E		            bcc L4BEA              ; 90 0E
  3289 4BDC 88			            dey                    ; 88
  3290 4BDD 88			            dey                    ; 88
  3291 4BDE F0 96		            beq L4B76              ; F0 96
  3292 4BE0 A0 A2		            ldy #$A2               ; A0 A2
  3293 4BE2 4C C2 10		            jmp L10C2              ; 4C C2 10
  3294 4BE5 A9 00		            lda #$00               ; A9 00
  3295 4BE7 A2 01		            ldx #$01               ; A2 01
  3296 4BE9 38			            sec                    ; 38
  3297 4BEA 8E 69 1C		L4BEA       stx L1C69              ; 8E 69 1C
  3298 4BED 8D 6E 1C		            sta L1C6E              ; 8D 6E 1C
  3299 4BF0 08			            php                    ; 08
  3300 4BF1 A2 02		            ldx #$02               ; A2 02
  3301 4BF3 BD 49 0F		L4BF3       lda L0F49,X            ; BD 49 0F
  3302 4BF6 F0 03		            beq L4BFB              ; F0 03
  3303 4BF8 DE 49 0F		            dec L0F49,X            ; DE 49 0F
  3304 4BFB CA			L4BFB       dex                    ; CA
  3305 4BFC 10 F5		            bpl L4BF3              ; 10 F5
  3306 4BFE A2 02		            ldx #$02               ; A2 02
  3307 4C00 20 0C 11		L4C00       jsr L110C              ; 20 0C 11
  3308 4C03 D0 30		            bne L4C35              ; D0 30
  3309 4C05 BD 43 0F		            lda L0F43,X            ; BD 43 0F
  3310 4C08 A8			            tay                    ; A8
  3311 4C09 CD 69 1C		L4C09       cmp L1C69              ; CD 69 1C
  3312 4C0C D0 27		            bne L4C35              ; D0 27
  3313 4C0E BD 46 0F		            lda L0F46,X            ; BD 46 0F
  3314 4C11 CD 6E 1C		            cmp L1C6E              ; CD 6E 1C
  3315 4C14 D0 1F		            bne L4C35              ; D0 1F
  3316 4C16 88			            dey                    ; 88
  3317 4C17 D0 03		            bne L4C1C              ; D0 03
  3318 4C19 A8			            tay                    ; A8
  3319 4C1A F0 42		            beq L4C5E              ; F0 42
  3320 4C1C 20 FE 16		L4C1C       jsr L16FE              ; 20 FE 16
  3321 4C1F 28			            plp                    ; 28
  3322 4C20 B0 12		L4C20       bcs L4C34              ; B0 12
  3323 4C22 A4 45		L4C22       ldy FMSZPG+2           ; A4 45
  3324 4C24 A9 00		            lda #$00               ; A9 00
  3325 4C26 88			L4C26       dey                    ; 88
  3326 4C27 91 43		            sta (FMSZPG),Y         ; 91 43
  3327 4C29 D0 FB		            bne L4C26              ; D0 FB
  3328 4C2B A2 00		            ldx #$00               ; A2 00
  3329 4C2D 1E 40 0F		            asl L0F40,X            ; 1E 40 0F
  3330 4C30 38			            sec                    ; 38
  3331 4C31 7E 40 0F		            ror L0F40,X            ; 7E 40 0F
  3332 4C34 60			L4C34       rts                    ; 60
  3333 4C35 CA			L4C35       dex                    ; CA
  3334 4C36 10 C8		            bpl L4C00              ; 10 C8
  3335 4C38 8E 48 1C		            stx L1C48              ; 8E 48 1C
  3336 4C3B E8			            inx                    ; E8
  3337 4C3C 8E 57 1C		            stx L1C57              ; 8E 57 1C
  3338 4C3F BD 40 0F		L4C3F       lda L0F40,X            ; BD 40 0F
  3339 4C42 F0 03		            beq L4C47              ; F0 03
  3340 4C44 BD 49 0F		            lda L0F49,X            ; BD 49 0F
  3341 4C47 C9 FF		L4C47       cmp #$FF               ; C9 FF
  3342 4C49 B0 06		            bcs L4C51              ; B0 06
  3343 4C4B 8D 48 1C		            sta L1C48              ; 8D 48 1C
  3344 4C4E 8E 57 1C		            stx L1C57              ; 8E 57 1C
  3345 4C51 E8			L4C51       inx                    ; E8
  3346 4C52 E0 03		            cpx #$03               ; E0 03
  3347 4C54 90 E9		            bcc L4C3F              ; 90 E9
  3348 4C56 A2 00		            ldx #$00               ; A2 00
  3349 4C58 20 13 1B		            jsr L1B13              ; 20 13 1B
  3350 4C5B AE 57 1C		            ldx L1C57              ; AE 57 1C
  3351 4C5E 20 FE 16		L4C5E       jsr L16FE              ; 20 FE 16
  3352 4C61 AD 39 0E		            lda L0E39              ; AD 39 0E
  3353 4C64 9D 40 0F		            sta L0F40,X            ; 9D 40 0F
  3354 4C67 A8			            tay                    ; A8
  3355 4C68 A9 00		            lda #$00               ; A9 00
  3356 4C6A 9D 43 0F		            sta L0F43,X            ; 9D 43 0F
  3357 4C6D A9 00		            lda #$00               ; A9 00
  3358 4C6F 9D 46 0F		            sta L0F46,X            ; 9D 46 0F
  3359 4C72 28			            plp                    ; 28
  3360 4C73 90 AD		            bcc L4C22              ; 90 AD
  3361 4C75 AE 69 1C		            ldx L1C69              ; AE 69 1C
  3362 4C78 18			            clc                    ; 18
  3363 4C79 4C 2B 1B		            jmp L1B2B              ; 4C 2B 1B
  3364 4C7C 20 19 09		            jsr L0919              ; 20 19 09
  3365 4C7F 22			            .byte $22
  3366 4C80 B0 5B		            bcs L4CDD              ; B0 5B
  3367 4C82 9D 8A 11		            sta L118A,X            ; 9D 8A 11
  3368 4C85 43			            .byte $43
  3369 4C86 91 43		            sta (FMSZPG),Y         ; 91 43
  3370 4C88 20 19 09		            jsr L0919              ; 20 19 09
  3371 4C8B 1C 2B 22		            .byte $1C,$2B,$22
  3372 4C8E 79 D7 A2		            adc LA2D7,Y            ; 79 D7 A2
  3373 4C91 CE D5 A0		            dec LA0D5              ; CE D5 A0
  3374 4C94 04			            .byte $04
  3375 4C95 4E 60 0E		L4C95       lsr L0E60              ; 4E 60 0E
  3376 4C98 6E 5F 0E		            ror L0E5F              ; 6E 5F 0E
  3377 4C9B 88			            dey                    ; 88
  3378 4C9C D0 F7		            bne L4C95              ; D0 F7
  3379 4C9E 20 63 08		            jsr L0863              ; 20 63 08
  3380 4CA1 5A			            .byte $5A
  3381 4CA2 0E AE 39		            asl L39AE              ; 0E AE 39
  3382 4CA5 0E 38 7E		            asl L7E38              ; 0E 38 7E
  3383 4CA8 4C 0E 60		            jmp L600E              ; 4C 0E 60
  3384 4CAB A2 0A		            ldx #$0A               ; A2 0A
  3385 4CAD BD 16 0E		L4CAD       lda L0E16,X            ; BD 16 0E
  3386 4CB0 C9 3F		            cmp #$3F               ; C9 3F
  3387 4CB2 F0 03		            beq L4CB7              ; F0 03
  3388 4CB4 9D 27 0E		            sta L0E27,X            ; 9D 27 0E
  3389 4CB7 CA			L4CB7       dex                    ; CA
  3390 4CB8 10 F3		            bpl L4CAD              ; 10 F3
  3391 4CBA 60			            rts                    ; 60
  3392 4CBB 38			            sec                    ; 38
  3393 4CBC 24 18		            bit DSKFMS             ; 24 18
  3394 4CBE 08			            php                    ; 08
  3395 4CBF 4E 21 0E		            lsr L0E21              ; 4E 21 0E
  3396 4CC2 28			            plp                    ; 28
  3397 4CC3 2E 21 0E		            rol L0E21              ; 2E 21 0E
  3398 4CC6 60			            rts                    ; 60
  3399 4CC7 AB 34		            .byte $AB,$34
  3400 4CC9 C6 BB		            dec L00BB              ; C6 BB
  3401 4CCB BD 1C 1D		            lda L1D1C,X            ; BD 1C 1D
  3402 4CCE 1C 1C 1C		            .byte $1C,$1C,$1C
  3403 4CD1 98			            tya                    ; 98
  3404 4CD2 29 07		            and #$07               ; 29 07
  3405 4CD4 48			            pha                    ; 48
  3406 4CD5 A8			            tay                    ; A8
  3407 4CD6 B9 C7 1C		            lda L1CC7,Y            ; B9 C7 1C
  3408 4CD9 8D 02 1D		            sta L1D02              ; 8D 02 1D
  3409 4CDC B9 CC 1C		            lda L1CCC,Y            ; B9 CC 1C
  3410 4CDF 8D 03 1D		            sta L1D03              ; 8D 03 1D
  3411 4CE2 B9 FE 0D		            lda L0DFE,Y            ; B9 FE 0D
  3412 4CE5 8D 13 1D		            sta L1D13              ; 8D 13 1D
  3413 4CE8 20 9C 15		            jsr L159C              ; 20 9C 15
  3414 4CEB 68			            pla                    ; 68
  3415 4CEC D0 0E		            bne L4CFC              ; D0 0E
  3416 4CEE 20 19 09		            jsr L0919              ; 20 19 09
  3417 4CF1 2B			            .byte $2B
  3418 4CF2 81 97		L4CF2       sta (L0097,X)          ; 81 97
  3419 4CF4 1A 23 2B		            .byte $1A,$23,$2B
  3420 4CF7 81 8C		            sta (L008C,X)          ; 81 8C
  3421 4CF9 AB 97		            .byte $AB,$97
  3422 4CFB 81 20		            sta (ICHIDZ,X)         ; 81 20
  3423 4CFD 0D 1D D0		            ora GRACTL             ; 0D 1D D0
  3424 4D00 3C			L4D00       .byte $3C
  3425 4D01 20 AA 1C		L4D01       jsr L1CAA              ; 20 AA 1C
  3426 4D04 20 9B 13		            jsr L139B              ; 20 9B 13
  3427 4D07 20 0D 1D		            jsr L1D0D              ; 20 0D 1D
  3428 4D0A F0 F5		            beq L4D01              ; F0 F5
  3429 4D0C 60			            rts                    ; 60
  3430 4D0D 20 BF 1D		L4D0D       jsr L1DBF              ; 20 BF 1D
  3431 4D10 D0 07		            bne L4D19              ; D0 07
  3432 4D12 A9 00		            lda #$00               ; A9 00
  3433 4D14 2D 21 0E		            and L0E21              ; 2D 21 0E
  3434 4D17 D0 F4		            bne L4D0D              ; D0 F4
  3435 4D19 60			L4D19       rts                    ; 60
  3436 4D1A A9 24		L4D1A       lda #$24               ; A9 24
  3437 4D1C 20 9E 15		            jsr L159E              ; 20 9E 15
  3438 4D1F A2 0A		            ldx #$0A               ; A2 0A
  3439 4D21 A9 3F		            lda #$3F               ; A9 3F
  3440 4D23 9D 0B 0E		L4D23       sta L0E0B,X            ; 9D 0B 0E
  3441 4D26 CA			            dex                    ; CA
  3442 4D27 10 FA		            bpl L4D23              ; 10 FA
  3443 4D29 20 BF 1D		            jsr L1DBF              ; 20 BF 1D
  3444 4D2C F0 12		            beq L4D40              ; F0 12
  3445 4D2E 20 9C 15		            jsr L159C              ; 20 9C 15
  3446 4D31 20 C5 1D		            jsr L1DC5              ; 20 C5 1D
  3447 4D34 AD 21 0E		            lda L0E21              ; AD 21 0E
  3448 4D37 4A			            lsr                    ; 4A
  3449 4D38 90 0B		            bcc L4D45              ; 90 0B
  3450 4D3A A0 A4		            ldy #$A4               ; A0 A4
  3451 4D3C 2C A0 AA		            bit LAAA0              ; 2C A0 AA
  3452 4D3F 2C A0 A7		            bit LA7A0              ; 2C A0 A7
  3453 4D42 4C C2 10		            jmp L10C2              ; 4C C2 10
  3454 4D45 A9 10		L4D45       lda #$10               ; A9 10
  3455 4D47 8D 21 0E		            sta L0E21              ; 8D 21 0E
  3456 4D4A 20 9B 13		            jsr L139B              ; 20 9B 13
  3457 4D4D 20 19 09		            jsr L0919              ; 20 19 09
  3458 4D50 22			            .byte $22
  3459 4D51 B9 BF 22		            lda L22BF,Y            ; B9 BF 22
  3460 4D54 98			            tya                    ; 98
  3461 4D55 B9 15 0F		            lda L0F15,Y            ; B9 15 0F
  3462 4D58 A1 79		            lda (KEYDEF,X)         ; A1 79
  3463 4D5A B5 20		            lda ICHIDZ,X           ; B5 20
  3464 4D5C F6 12		            inc RTCLOK,X           ; F6 12
  3465 4D5E F0 03		            beq L4D63              ; F0 03
  3466 4D60 20 7C 1C		            jsr L1C7C              ; 20 7C 1C
  3467 4D63 A4 45		L4D63       ldy FMSZPG+2           ; A4 45
  3468 4D65 88			            dey                    ; 88
  3469 4D66 88			            dey                    ; 88
  3470 4D67 CC 3F 0E		            cpy L0E3F              ; CC 3F 0E
  3471 4D6A D0 EF		            bne L4D5B              ; D0 EF
  3472 4D6C 20 19 09		            jsr L0919              ; 20 19 09
  3473 4D6F 22 B3		            .byte $22,$B3
  3474 4D71 B0 1C		            bcs L4D8F              ; B0 1C
  3475 4D73 7C 8F		            .byte $7C,$8F
  3476 4D75 4C A0 00		            jmp L00A0              ; 4C A0 00
  3477 4D78 B1 43		            lda (FMSZPG),Y         ; B1 43
  3478 4D7A C8			            iny                    ; C8
  3479 4D7B 11 43		            ora (FMSZPG),Y         ; 11 43
  3480 4D7D D0 DC		            bne L4D5B              ; D0 DC
  3481 4D7F 20 19 09		            jsr L0919              ; 20 19 09
  3482 4D82 22 BF		            .byte $22,$BF
  3483 4D84 B9 95 0C		            lda L0C95,Y            ; B9 95 0C
  3484 4D87 4C 9E 13		            jmp L139E              ; 4C 9E 13
  3485 4D8A AD E5 0D		            lda L0DE5              ; AD E5 0D
  3486 4D8D AE E6 0D		            ldx L0DE6              ; AE E6 0D
  3487 4D90 A0 03		            ldy #$03               ; A0 03
  3488 4D92 48			L4D92       pha                    ; 48
  3489 4D93 8A			            txa                    ; 8A
  3490 4D94 4A			            lsr                    ; 4A
  3491 4D95 AA			            tax                    ; AA
  3492 4D96 68			            pla                    ; 68
  3493 4D97 6A			            ror                    ; 6A
  3494 4D98 88			            dey                    ; 88
  3495 4D99 D0 F7		            bne L4D92              ; D0 F7
  3496 4D9B 20 FD 14		            jsr L14FD              ; 20 FD 14
  3497 4D9E 8D BD 1D		            sta L1DBD              ; 8D BD 1D
  3498 4DA1 8A			            txa                    ; 8A
  3499 4DA2 18			            clc                    ; 18
  3500 4DA3 6D 5D 0E		            adc L0E5D              ; 6D 5D 0E
  3501 4DA6 AA			            tax                    ; AA
  3502 4DA7 A9 00		            lda #$00               ; A9 00
  3503 4DA9 6D 5E 0E		            adc L0E5E              ; 6D 5E 0E
  3504 4DAC 20 E9 1B		            jsr L1BE9              ; 20 E9 1B
  3505 4DAF AD E5 0D		            lda L0DE5              ; AD E5 0D
  3506 4DB2 29 07		            and #$07               ; 29 07
  3507 4DB4 A8			            tay                    ; A8
  3508 4DB5 A9 00		            lda #$00               ; A9 00
  3509 4DB7 38			            sec                    ; 38
  3510 4DB8 6A			L4DB8       ror                    ; 6A
  3511 4DB9 88			            dey                    ; 88
  3512 4DBA 10 FC		            bpl L4DB8              ; 10 FC
  3513 4DBC A0 00		            ldy #$00               ; A0 00
  3514 4DBE 60			            rts                    ; 60
  3515 4DBF A9 80		            lda #$80               ; A9 80
  3516 4DC1 2C A5 49		            bit L49A5              ; 2C A5 49
  3517 4DC4 2C A9 20		            bit L20A9              ; 2C A9 20
  3518 4DC7 8D F4 1D		            sta L1DF4              ; 8D F4 1D
  3519 4DCA 20 19 09		            jsr L0919              ; 20 19 09
  3520 4DCD A2 68		            ldx #$68               ; A2 68
  3521 4DCF C1 20		            cmp (ICHIDZ,X)         ; C1 20
  3522 4DD1 19 09 A2		            ora LA209,Y            ; 19 09 A2
  3523 4DD4 B6 5D		            ldx OLDCHR,Y           ; B6 5D
  3524 4DD6 2C 41 0E		            bit L0E41              ; 2C 41 0E
  3525 4DD9 30 3E		            bmi L4E19              ; 30 3E
  3526 4DDB 20 AE 13		            jsr L13AE              ; 20 AE 13
  3527 4DDE 30 39		            bmi L4E19              ; 30 39
  3528 4DE0 AD 21 0E		            lda L0E21              ; AD 21 0E
  3529 4DE3 F0 34		            beq L4E19              ; F0 34
  3530 4DE5 29 08		            and #$08               ; 29 08
  3531 4DE7 D0 0A		            bne L4DF3              ; D0 0A
  3532 4DE9 2C 4C 0E		            bit L0E4C              ; 2C 4C 0E
  3533 4DEC 10 E2		            bpl L4DD0              ; 10 E2
  3534 4DEE 20 10 1E		            jsr L1E10              ; 20 10 1E
  3535 4DF1 F0 DD		            beq L4DD0              ; F0 DD
  3536 4DF3 A9 00		L4DF3       lda #$00               ; A9 00
  3537 4DF5 30 07		            bmi L4DFE              ; 30 07
  3538 4DF7 4D 21 0E		            eor L0E21              ; 4D 21 0E
  3539 4DFA 29 20		            and #$20               ; 29 20
  3540 4DFC D0 D2		            bne L4DD0              ; D0 D2
  3541 4DFE A2 0B		L4DFE       ldx #$0B               ; A2 0B
  3542 4E00 BD 0A 0E		L4E00       lda L0E0A,X            ; BD 0A 0E
  3543 4E03 C9 3F		            cmp #$3F               ; C9 3F
  3544 4E05 F0 05		            beq L4E0C              ; F0 05
  3545 4E07 DD 26 0E		            cmp L0E26,X            ; DD 26 0E
  3546 4E0A D0 C4		            bne L4DD0              ; D0 C4
  3547 4E0C CA			L4E0C       dex                    ; CA
  3548 4E0D D0 F1		            bne L4E00              ; D0 F1
  3549 4E0F 8A			            txa                    ; 8A
  3550 4E10 48			L4E10       pha                    ; 48
  3551 4E11 20 19 09		            jsr L0919              ; 20 19 09
  3552 4E14 A2 5D		            ldx #$5D               ; A2 5D
  3553 4E16 C1 68		            cmp (SAVADR,X)         ; C1 68
  3554 4E18 60			            rts                    ; 60
  3555 4E19 A9 FF		L4E19       lda #$FF               ; A9 FF
  3556 4E1B 2C 4C 0E		            bit L0E4C              ; 2C 4C 0E
  3557 4E1E 30 F0		            bmi L4E10              ; 30 F0
  3558 4E20 AA			            tax                    ; AA
  3559 4E21 60			            rts                    ; 60
  3560 4E22 8E D6 1E		            stx L1ED6              ; 8E D6 1E
  3561 4E25 A5 2B		            lda ICAX2Z             ; A5 2B
  3562 4E27 8D DB 1E		            sta L1EDB              ; 8D DB 1E
  3563 4E2A A0 22		            ldy #$22               ; A0 22
  3564 4E2C 20 D1 1E		            jsr L1ED1              ; 20 D1 1E
  3565 4E2F 30 30		            bmi L4E61              ; 30 30
  3566 4E31 A5 20		            lda ICHIDZ             ; A5 20
  3567 4E33 9D 40 03		            sta IOCB0,X            ; 9D 40 03
  3568 4E36 20 7D 1E		            jsr L1E7D              ; 20 7D 1E
  3569 4E39 30 21		            bmi L4E5C              ; 30 21
  3570 4E3B A0 98		            ldy #$98               ; A0 98
  3571 4E3D 90 1D		            bcc L4E5C              ; 90 1D
  3572 4E3F 6E 4A 1E		            ror L1E4A              ; 6E 4A 1E
  3573 4E42 20 7D 1E		L4E42       jsr L1E7D              ; 20 7D 1E
  3574 4E45 30 15		            bmi L4E5C              ; 30 15
  3575 4E47 B0 F9		            bcs L4E42              ; B0 F9
  3576 4E49 A9 00		            lda #$00               ; A9 00
  3577 4E4B 10 0A		            bpl L4E57              ; 10 0A
  3578 4E4D 4E 4A 1E		            lsr L1E4A              ; 4E 4A 1E
  3579 4E50 20 19 09		            jsr L0919              ; 20 19 09
  3580 4E53 D1 86		            cmp (L0086),Y          ; D1 86
  3581 4E55 42			            .byte $42
  3582 4E56 E0 20		            cpx #$20               ; E0 20
  3583 4E58 92			            .byte $92
  3584 4E59 1E 10 E6		            asl LE610,X            ; 1E 10 E6
  3585 4E5C A9 FF		L4E5C       lda #$FF               ; A9 FF
  3586 4E5E 9D 40 03		            sta IOCB0,X            ; 9D 40 03
  3587 4E61 98			L4E61       tya                    ; 98
  3588 4E62 48			            pha                    ; 48
  3589 4E63 A0 2D		            ldy #$2D               ; A0 2D
  3590 4E65 20 D1 1E		            jsr L1ED1              ; 20 D1 1E
  3591 4E68 68			            pla                    ; 68
  3592 4E69 A8			            tay                    ; A8
  3593 4E6A C0 88		            cpy #$88               ; C0 88
  3594 4E6C D0 23		            bne L4E91              ; D0 23
  3595 4E6E 20 19 09		            jsr L0919              ; 20 19 09
  3596 4E71 42			            .byte $42
  3597 4E72 E0 4D		            cpx #$4D               ; E0 4D
  3598 4E74 13			            .byte $13
  3599 4E75 CD 13 4D		            cmp L4D13              ; CD 13 4D
  3600 4E78 36 A9		            rol L00A9,X            ; 36 A9
  3601 4E7A E0 D0		            cpx #$D0               ; E0 D0
  3602 4E7C 45 20		            eor ICHIDZ             ; 45 20
  3603 4E7E 19 09 5E		            ora L5E09,Y            ; 19 09 5E
  3604 4E81 89 54 27 9E		            .byte $89,$54,$27,$9E
  3605 4E85 C9 30		            cmp #$30               ; C9 30
  3606 4E87 09 AD		            ora #$AD               ; 09 AD
  3607 4E89 86 11		            stx BRKKEY             ; 86 11
  3608 4E8B 2D 87 11		            and L1187              ; 2D 87 11
  3609 4E8E C9 FF		            cmp #$FF               ; C9 FF
  3610 4E90 98			            tya                    ; 98
  3611 4E91 60			L4E91       rts                    ; 60
  3612 4E92 20 19 09		            jsr L0919              ; 20 19 09
  3613 4E95 5D 9C 42		            eor L429C,X            ; 5D 9C 42
  3614 4E98 E2 5C		            .byte $E2,$5C
  3615 4E9A AE 54 27		            ldx L2754              ; AE 54 27
  3616 4E9D 9E			            .byte $9E
  3617 4E9E C9 30		            cmp #$30               ; C9 30
  3618 4EA0 F0 38		            beq L4EDA              ; F0 38
  3619 4EA2 A2 FE		            ldx #$FE               ; A2 FE
  3620 4EA4 BD 18 0D		L4EA4       lda L0D18,X            ; BD 18 0D
  3621 4EA7 FD 88 10		            sbc L1088,X            ; FD 88 10
  3622 4EAA 9D 53 0D		            sta L0D53,X            ; 9D 53 0D
  3623 4EAD E8			            inx                    ; E8
  3624 4EAE D0 F4		            bne L4EA4              ; D0 F4
  3625 4EB0 20 63 08		            jsr L0863              ; 20 63 08
  3626 4EB3 51 0E		            eor (APPMHI),Y         ; 51 0E
  3627 4EB5 20 19 09		            jsr L0919              ; 20 19 09
  3628 4EB8 51 86		            eor (L0086),Y          ; 51 86
  3629 4EBA 54 27 9E CF		            .byte $54,$27,$9E,$CF
  3630 4EBE 30 D1		            bmi L4E91              ; 30 D1
  3631 4EC0 A9 E2		            lda #$E2               ; A9 E2
  3632 4EC2 20 DA 1E		            jsr L1EDA              ; 20 DA 1E
  3633 4EC5 D8			            cld                    ; D8
  3634 4EC6 A0 01		            ldy #$01               ; A0 01
  3635 4EC8 60			            rts                    ; 60
  3636 4EC9 20 19 09		            jsr L0919              ; 20 19 09
  3637 4ECC A2 79		            ldx #$79               ; A2 79
  3638 4ECE C7			            .byte $C7
  3639 4ECF A0 2E		            ldy #$2E               ; A0 2E
  3640 4ED1 A2 00		            ldx #$00               ; A2 00
  3641 4ED3 86 48		            stx FMSZPG+5           ; 86 48
  3642 4ED5 A2 00		            ldx #$00               ; A2 00
  3643 4ED7 4C AC 0F		            jmp L0FAC              ; 4C AC 0F
  3644 4EDA A2 00		L4EDA       ldx #$00               ; A2 00
  3645 4EDC 30 B3		            bmi L4E91              ; 30 B3
  3646 4EDE 8D E2 1E		            sta L1EE2              ; 8D E2 1E
  3647 4EE1 6C E0 02		            jmp (RUNAD)            ; 6C E0 02
  3648
  3649 4EE4			BUFFERXX1
  3650 				;
  3651 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3652
  3653
  3654
  3655
  3656 4EE4						org *+$80 ; $80 buffer for TC disks
  3657 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3658 				;;; BEGIN OF REALLOC BLOCK
  3659 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3660
  3661 				; new DOSVEC for RAMDISK device
  3662 4F64-513D> AD 00 03	RAMDSIO     lda DDEVIC
  3663 4F67 C9 31		            cmp #$31
  3664 4F69 D0 17		            bne JMPSIO
  3665 4F6B AD 39 21		REAA004     lda $2139 		; DRVNUM  ; check drive number for RAM
  3666 4F6E CD 01 03		            cmp DUNIT
  3667 4F71 F0 1E		            beq NEWSIOGO
  3668 				            
  3669 4F73 A2 00		            ldx #$00
  3670 4F75 BD 3A 21		REAA026		lda $213A,X		; FDRVNUM  	; check drive number for Flash
  3671 4F78 CD 01 03		            cmp DUNIT
  3672 4F7B F0 08		            beq NEWSIOGOF
  3673 4F7D E8						inx
  3674 4F7E E0 04					cpx #$04
  3675 4F80 D0 F3					bne REAA026
  3676 							
  3677 4F82 4C 59 E4		JMPSIO      jmp $E459
  3678
  3679 				; set buffer address
  3680 4F85			NEWSIOGOF
  3681 4F85 BD 31 21		REAA027		lda $2131,X		; FBANKL
  3682 4F88 8D 8B 20		REAA028		sta $208A+1		; SFBANKL
  3683 4F8B BD 35 21		REAA029		lda $2135,X		; FBANKH
  3684 4F8E 8D 90 20		REAA030		sta $208F+1		; SFBANKH
  3685
  3686 4F91 AD 04 03		NEWSIOGO    lda DBUFLO
  3687 4F94 85 34		            sta BFENLO
  3688 4F96 AD 05 03		            lda DBUFHI
  3689 4F99 85 35		            sta BFENHI
  3690 				; load commad byte            
  3691 4F9B AD 02 03		            lda DCOMND
  3692 				; command STATUS REQUEST
  3693 4F9E C9 53		            cmp #$53 
  3694 4FA0 D0 1B		            bne NEXT1
  3695 4FA2 AD 2C 21		REAA009     lda $212C		; CONFSECSIZ
  3696 4FA5 4A			            lsr
  3697 4FA6 4A			            lsr
  3698 4FA7 49 30		            eor #$30
  3699 4FA9 AC 28 21		REAA010     ldy $2128		; L36BB
  3700 4FAC C0 1A		            cpy #$1A
  3701 4FAE D0 02		            bne L35B4
  3702 4FB0 09 80		            ora #$80
  3703 4FB2 A0 00		L35B4       ldy #$00
  3704 4FB4 91 34		            sta (BFENLO),Y
  3705 4FB6 C8			            iny
  3706 4FB7 A9 FF		            lda #$FF
  3707 4FB9 91 34		            sta (BFENLO),Y
  3708 4FBB 30 24		            bmi JMPSIOEND
  3709 				            
  3710 				; command RETURN CONFIGURATION            
  3711 4FBD C9 4E		NEXT1       cmp #$4E
  3712 4FBF D0 0C		            bne NEXT2
  3713 4FC1 A0 0B		            ldy #$0B            ; 12 bytes
  3714 4FC3			RETCNFLOOP
  3715 4FC3 B9 25 21		REAA011     lda $2125,Y			; CONFBUF,Y
  3716 4FC6 91 34		            sta (BFENLO),Y
  3717 4FC8 88			            dey
  3718 4FC9 10 F8		            bpl RETCNFLOOP
  3719 4FCB 30 14		            bmi JMPSIOEND
  3720
  3721 				; command SET CONFIGURATION
  3722 4FCD C9 4F		NEXT2       cmp #$4F
  3723 4FCF D0 13		            bne NEXT3
  3724 4FD1 A0 07		            ldy #$07
  3725 4FD3 B1 34		            lda (BFENLO),Y
  3726 4FD5 F0 38		            beq REAA020         ; error if sec size <> $80 ( $00 -> $100)            
  3727 4FD7 8D 2C 21		REAA012     sta $212C			; CONFSECSIZ
  3728 4FDA A0 03		            ldy #$03
  3729 4FDC B1 34		            lda (BFENLO),Y
  3730 4FDE 8D 28 21		REAA013     sta $2128			; L36BB
  3731
  3732 4FE1			JMPSIOEND
  3733 4FE1 4C 1B 21		REAA014     jmp $211B			; RDSIOEND
  3734
  3735 				; command FORMAT DISK
  3736 4FE4 C9 21		NEXT3       cmp #$21
  3737 4FE6 D0 0B		            bne NEXT4
  3738 4FE8 A0 00		SIOFRMT     ldy #$00
  3739 4FEA A9 FF		            lda #$FF
  3740 4FEC 91 34		            sta (BFENLO),Y
  3741 4FEE C8			            iny
  3742 4FEF 91 34		            sta (BFENLO),Y
  3743 4FF1 D0 EE		            bne JMPSIOEND
  3744
  3745 				; command FORMAT DISK ENHANCED
  3746 4FF3 C9 22		NEXT4       cmp #$22
  3747 4FF5 D0 0C		            bne NEXT5
  3748 4FF7 A9 1A		            lda #$1A
  3749 4FF9 8D 28 21		REAA015     sta $2128			; L36BB
  3750 4FFC A9 80		            lda #$80
  3751 4FFE 8D 2C 21		REAA016     sta $212C			; CONFSECSIZ
  3752 5001 D0 E5		            bne SIOFRMT
  3753 				            
  3754 				; command PUT/GET SECTOR 
  3755 5003 C9 52		NEXT5       cmp #$52            ; command GET SECTOR
  3756 5005 F0 0B		            beq PUTGETSEC
  3757 5007 C9 57		            cmp #$57            ; command PUT SECTOR WITH VERIFY
  3758 5009 F0 07		            beq PUTGETSEC
  3759 500B C9 50		            cmp #$50            ; command PUT SECTOR
  3760 500D F0 03		            beq PUTGETSEC
  3761 500F 4C 1E 21		REAA020     jmp $211B+3			; RDSIOEND+3 ; error NAK, command not supported
  3762 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3763 				; buffer address and calc byte count
  3764 5012 A9 00		PUTGETSEC   lda #$00
  3765 5014 85 32		            sta BUFRLO
  3766 5016 AD 0A 03		            lda DAUX1
  3767 5019 38			            sec
  3768 501A E9 01		            sbc #$01
  3769 501C 85 33		            sta BUFRHI
  3770 501E AD 0B 03		            lda DAUX2
  3771 5021 E9 00		            sbc #$00
  3772 5023 06 33		            asl BUFRHI
  3773 5025 2A			            rol
  3774 5026 AA			            tax                 ; set X with memory bank number
  3775 5027 A5 33		            lda BUFRHI
  3776 5029 4A			            lsr
  3777 502A 4A			            lsr
  3778 502B 66 32		            ror BUFRLO
  3779 502D 09 80		            ora #$80
  3780 502F 85 33		            sta BUFRHI
  3781 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3782 				; set buffer address in copy loops
  3783 5031 A5 32		            lda BUFRLO
  3784 5033 8D C6 20		REAA021     sta $20C5+1		; GETADRLP+1
  3785 5036 8D FA 20		REAA022     sta $20F9+1		; PUTADRLP+1
  3786 5039 A5 33		            lda BUFRHI
  3787 503B 8D C7 20		REAA023     sta $20C5+2 	; GETADRLP+2
  3788 503E 8D FB 20		REAA024     sta $20F9+2		; PUTADRLP+2            
  3789 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3790 				; check for GET
  3791 5041 AD 02 03		            lda DCOMND
  3792 5044 C9 52		            cmp #$52
  3793 5046 F0 0A		            beq L3656           ; is GET
  3794 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3795 				; PUT: put user data to buffer            
  3796 5048 A0 7F		            ldy #$7F
  3797 504A B1 34		L364B       lda (BFENLO),Y
  3798 504C 99 E4 1E		REAA005     sta $1EE4,Y		; BUFFERXX1,Y
  3799 504F 88			            dey
  3800 5050 10 F8		            bpl L364B
  3801 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3802 				; check if bank number is in range            
  3803 5052 E0 20		L3656       cpx #$20            ; check bank number
  3804 5054 B0 B9		            bcs REAA020         ; intermediate jmp to NAK
  3805 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3806 5056			            M_cart_push         ; save register
Macro: M_CART_PUSH [Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM]
     1 5056 AD A2 D5		            lda TCPBEN
     2 5059 48			            pha
     3 505A AD A6 D5		            lda TCMOSL
     4 505D 48			            pha
     5 505E AD A7 D5		            lda TCMOFR
     6 5061 48			            pha
     7 5062 AD A0 D5		            lda TCPBRL
     8 5065 48			            pha
     9 5066 AD A1 D5		            lda TCPBRH
    10 5069 48			            pha
Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM
  3807 506A E6 42		            inc CRITIC
  3808 506C A5 14		            lda RTCLOK+2
  3809 506E C5 14		WAITLOOP2   cmp RTCLOK+2
  3810 5070 F0 FC		            beq WAITLOOP2
  3811 5072 78			            sei                 ; disable interrupts
  3812 5073 A9 00		            lda #$00
  3813 5075 8D 0E D4		            sta NMIEN           ; 40 cycles
  3814 				; set bank, number in X
  3815 5078 A9 21		            lda #TCMOSL.16K     ; set 2x8k mode at $8000-$BFFF
  3816 507A 8D A6 D5		            sta TCMOSL          
  3817
  3818 507D AD 39 21		REAA025     lda $2139			; DRVNUM  ; check drive number for flash
  3819 5080 CD 01 03		            cmp DUNIT
  3820 5083 F0 23		            beq setTCram
  3821
  3822 				; 512k user space start bank $3fc0
  3823 				; 640k user space start bank $3fb0
  3824 5085 A9 00		setTCflash  lda #TCMOFR.FLASH       ; set to FLASH
  3825 5087 8D A7 D5		            sta TCMOFR
  3826 508A A9 B0		SFBANKL		lda #$b0
  3827 508C 8D A0 D5		            sta TCPBRL
  3828 508F A9 3F		SFBANKH		lda #$3f
  3829 5091 8D A1 D5		            sta TCPBRH
  3830 5094 8A			            txa
  3831 5095 0A			            asl
  3832 5096 18			            clc   
  3833 5097 6D A0 D5		            adc TCPBRL              ; get bank number from X
  3834 509A 8D A0 D5		            sta TCPBRL
  3835 509D AD A1 D5		            lda TCPBRH
  3836 50A0 69 00		            adc #$00                     
  3837 50A2 8D A1 D5		            sta TCPBRH              ; set high to $00
  3838 50A5 18			            clc
  3839 50A6 90 0F		            bcc setTcend
  3840
  3841 50A8 A9 03		setTCram    lda #TCMOFR.PBRAM       ; set to RAM
  3842 50AA 8D A7 D5		            sta TCMOFR
  3843 50AD 8A			            txa
  3844 50AE 0A			            asl   
  3845 50AF 8D A0 D5		            sta TCPBRL              ; get bank number from X
  3846 50B2 A9 00		            lda #$00                     
  3847 50B4 8D A1 D5		            sta TCPBRH              ; set high to $00
  3848
  3849 50B7 A9 01		setTCend    lda #$01
  3850 50B9 8D A2 D5		            sta TCPBEN              ; enable        
  3851 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3852 				; check for PUT
  3853 50BC A0 7F		            ldy #$7F            ; 9 cycles
  3854 50BE AD 02 03		            lda DCOMND
  3855 50C1 C9 52		            cmp #$52
  3856 50C3 D0 31		            bne L369B           ; is PUT
  3857 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3858 				; GET: read data to buffer
  3859 50C5			L367B
  3860 50C5 B9 FF FF		GETADRLP    lda $FFFF,Y         ; 5 cycles +
  3861 50C8 99 E4 1E		REAA006     sta $1EE4,Y			; BUFFERXX1,Y     ; 5 cycles +
  3862 50CB 88			            dey                 ; 2 cycles +
  3863 50CC 10 F7		            bpl L367B           ; 4 cycles + * 128 = 2048
  3864 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3865 				; restore bank for write to user buffer
  3866 50CE			            M_cart_pop          ; restore register            
Macro: M_CART_POP [Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM]
     1 50CE 68			            pla                 
     2 50CF 8D A1 D5		            sta TCPBRH          
     3 50D2 68			            pla                 
     4 50D3 8D A0 D5		            sta TCPBRL          
     5 50D6 68			            pla                 
     6 50D7 8D A7 D5		            sta TCMOFR          
     7 50DA 68			            pla                 
     8 50DB 8D A6 D5		            sta TCMOSL          
     9 50DE 68			            pla                 
    10 50DF 8D A2 D5		            sta TCPBEN          
Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM
  3867 50E2 A9 E0		            lda #$e0            ; enable interrupts
  3868 50E4 8D 0E D4		            sta NMIEN
  3869 50E7 58			            cli
  3870 50E8 C6 42		            dec CRITIC          ; 54 cycles
  3871 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;            
  3872 				; GET: write buffer to user data            
  3873 50EA A0 7F		            ldy #$7F
  3874 50EC			L368E
  3875 50EC B9 E4 1E		REAA008     lda $1EE4,Y		; BUFFERXX1,Y
  3876 50EF 91 34		            sta (BFENLO),Y
  3877 50F1 88			            dey
  3878 50F2 10 F8		            bpl L368E
  3879 50F4 30 25		            bmi RDSIOEND
  3880 				            
  3881 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3882 				; PUT: buffer data to sector
  3883 50F6			L369B
  3884 50F6 B9 E4 1E		REAA007     lda $1EE4,Y		; BUFFERXX1,Y   ; 5 cycles                
  3885 50F9 99 FF FF		PUTADRLP    sta $FFFF,Y       ; 5 cycles
  3886 50FC 88			            dey               ; 2 cycles +              
  3887 50FD 10 F7		            bpl L369B         ; 4 cycles + * 128 = 2048 
  3888 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3889 				; restore register
  3890 50FF			            M_cart_pop          ; restore register
Macro: M_CART_POP [Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM]
     1 50FF 68			            pla                 
     2 5100 8D A1 D5		            sta TCPBRH          
     3 5103 68			            pla                 
     4 5104 8D A0 D5		            sta TCPBRL          
     5 5107 68			            pla                 
     6 5108 8D A7 D5		            sta TCMOFR          
     7 510B 68			            pla                 
     8 510C 8D A6 D5		            sta TCMOSL          
     9 510F 68			            pla                 
    10 5110 8D A2 D5		            sta TCPBEN          
Source: /Users/holgerjanz/Documents/ATARI-XL/Projects/RAMCART/BW-DOS/DOS/XBW131TC.ASM
  3891 5113 A9 E0		            lda #$e0            ; enable interrupts
  3892 5115 8D 0E D4		            sta NMIEN
  3893 5118 58			            cli
  3894 5119 C6 42		            dec CRITIC          ; 54 cycles
  3895 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3896 				; set rc            
  3897 511B A0 01		RDSIOEND    ldy #$01
  3898 511D 2C A0 8B		            bit $8BA0           ; $2c, ldy #$8b; bank/sector number error #139 NAK
  3899
  3900 5120 8C 03 03					sty DSTATS
  3901 5123 98			            tya                 ; set RC
  3902 5124 60			            rts
  3903 				            
  3904 				; drive configuration buffer
  3905 5125 28 01 12		CONFBUF     .byte $28,$01,$12
  3906 5128 00			L36BB       .byte $00
  3907 5129 00 00 00		            .byte $00,$00,$00
  3908 512C 80			CONFSECSIZ  .byte $80                   ; $80 -> 128Byte, $00 -> 256Byte
  3909 512D FF 00 00 00		            .byte $FF,$00,$00,$00
  3910
  3911 5131 B0			FBANKL		.byte $b0	; F1: 16.304 bank
  3912 5132 70						.byte $70	; F2: 16.240 bank
  3913 5133 30						.byte $30	; F3: 16.176 bank
  3914 5134 F0						.byte $f0
  3915
  3916 5135 3F			FBANKH		.byte $3f	; F1: 16.304 bank
  3917 5136 3F						.byte $3f	; F2: 16.240 bank
  3918 5137 3F						.byte $3f	; F3: 16.176 bank
  3919 5138 3E						.byte $3e	; F4: 16.112 bank
  3920
  3921 5139 08			DRVNUM      .byte $08	; RAM
  3922 513A 01			FDRVNUM     .byte $01	; F1:
  3923 513B 00						.byte $00	; F2:
  3924 513C 00						.byte $00	; F3:
  3925 513D 00						.byte $00	; F4:
  3926
  3927 513E			TCDRVEND      
  3928 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3929 				;;; END OF REALLOC BLOCK
  3930 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3931
  3932
  3933
  3934
  3935
  3936 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  3937 				;
  3938 513E			            org $02E0
  3939 				;
  3940 02E0-02E1> E6 36		            .word L36E6
  3941 				;
  3942 				         
